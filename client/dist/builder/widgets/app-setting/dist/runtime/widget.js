System.register(["calcite-components","jimu-core","jimu-for-builder","jimu-for-builder/service","jimu-theme","jimu-ui","jimu-ui/advanced/resource-selector","jimu-ui/advanced/setting-components"],(function(e,t){var a={},n={},l={},i={},o={},s={},r={},c={};return{setters:[function(e){a.CalciteInputTimeZone=e.CalciteInputTimeZone},function(e){n.DialogMode=e.DialogMode,n.EConsentMode=e.EConsentMode,n.React=e.React,n.ReactRedux=e.ReactRedux,n.SessionManager=e.SessionManager,n.TimezoneConfig=e.TimezoneConfig,n.UrlGeneralConfig=e.UrlGeneralConfig,n.appActions=e.appActions,n.classNames=e.classNames,n.css=e.css,n.dataSourceUtils=e.dataSourceUtils,n.dateUtils=e.dateUtils,n.focusElementInKeyboardMode=e.focusElementInKeyboardMode,n.getAppStore=e.getAppStore,n.hooks=e.hooks,n.jsx=e.jsx,n.loadArcGISJSAPIModule=e.loadArcGISJSAPIModule,n.lodash=e.lodash,n.moduleLoader=e.moduleLoader,n.portalUtils=e.portalUtils,n.urlManagerUtils=e.urlManagerUtils,n.useIntl=e.useIntl,n.uuidv1=e.uuidv1},function(e){l.ToBuilderMessage=e.ToBuilderMessage,l.UrlConfigManager=e.UrlConfigManager,l.appStateHistoryActions=e.appStateHistoryActions,l.builderAppSync=e.builderAppSync,l.getAppConfigAction=e.getAppConfigAction,l.helpUtils=e.helpUtils},function(e){i.appServices=e.appServices},function(e){o.styled=e.styled,o.useTheme=e.useTheme,o.withTheme=e.withTheme},function(e){s.Alert=e.Alert,s.AlertPopup=e.AlertPopup,s.Button=e.Button,s.Checkbox=e.Checkbox,s.CollapsablePanel=e.CollapsablePanel,s.Collapse=e.Collapse,s.Label=e.Label,s.Modal=e.Modal,s.ModalBody=e.ModalBody,s.ModalFooter=e.ModalFooter,s.ModalHeader=e.ModalHeader,s.Popper=e.Popper,s.Radio=e.Radio,s.Switch=e.Switch,s.Tab=e.Tab,s.Tabs=e.Tabs,s.TagInput=e.TagInput,s.TextArea=e.TextArea,s.TextInput=e.TextInput,s.Tooltip=e.Tooltip,s.defaultMessages=e.defaultMessages},function(e){r.IconPicker=e.IconPicker},function(e){c.RadioGroup=e.RadioGroup,c.SettingRow=e.SettingRow,c.SettingSection=e.SettingSection}],execute:function(){e((()=>{var e={655:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .54.54 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.54.54 0 0 1 0-.738" clip-rule="evenodd"></path></svg>'},1888:e=>{"use strict";e.exports=o},2943:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4.653 13.854a.485.485 0 0 1 0-.708L10.24 8 4.653 2.854a.485.485 0 0 1 0-.708.54.54 0 0 1 .738 0l5.956 5.5a.485.485 0 0 1 0 .708l-5.956 5.5a.54.54 0 0 1-.738 0" clip-rule="evenodd"></path></svg>'},3303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},4108:e=>{"use strict";e.exports=l},4321:e=>{"use strict";e.exports=s},4702:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.39 3.425 5.553.588a2.006 2.006 0 0 0-2.837 0L.588 2.716a2.006 2.006 0 0 0 0 2.837L3.425 8.39a2.006 2.006 0 0 0 2.837 0l.71-.709 1.347 1.347-.71.71a2.006 2.006 0 0 0 0 2.837l2.838 2.837a2.006 2.006 0 0 0 2.837 0l2.128-2.128a2.006 2.006 0 0 0 0-2.837L12.575 7.61a2.006 2.006 0 0 0-2.837 0l-.71.709-1.347-1.347.71-.71a2.006 2.006 0 0 0 0-2.837M6.972 6.262l.709-.709a1.003 1.003 0 0 0 0-1.419L4.844 1.297a1.003 1.003 0 0 0-1.419 0L1.297 3.425a1.003 1.003 0 0 0 0 1.419L4.134 7.68a1.003 1.003 0 0 0 1.419 0l.71-.71-.894-.892a.501.501 0 0 1 .71-.71zm2.056 3.476.6.599a.502.502 0 0 0 .709-.71l-.6-.599.71-.709a1.003 1.003 0 0 1 1.419 0l2.837 2.837a1.003 1.003 0 0 1 0 1.419l-2.128 2.128a1.003 1.003 0 0 1-1.419 0L8.32 11.866a1.003 1.003 0 0 1 0-1.419z" clip-rule="evenodd"></path></svg>'},5075:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M1 7.5c0-.291.231-.527.516-.527h11.508L9.527 3.4a.535.535 0 0 1 0-.746.51.51 0 0 1 .73 0L15 7.5l-4.743 4.846a.51.51 0 0 1-.73 0 .535.535 0 0 1 0-.746l3.497-3.573H1.516A.52.52 0 0 1 1 7.5"></path></svg>'},5508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},5809:e=>{"use strict";e.exports=r},6300:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M15 7.5a.52.52 0 0 1-.516.527H2.976L6.473 11.6a.535.535 0 0 1 0 .746.51.51 0 0 1-.73 0L1 7.5l4.743-4.846a.51.51 0 0 1 .73 0 .535.535 0 0 1 0 .746L2.976 6.973h11.508c.285 0 .516.236.516.527"></path></svg>'},8547:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 0A3.5 3.5 0 0 1 11 3.5V6h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1V3.5A3.5 3.5 0 0 1 7.5 0M5 6h5V3.5a2.5 2.5 0 0 0-2.336-2.495L7.5 1a2.5 2.5 0 0 0-2.495 2.336L5 3.5zm6 1H3v8h9V7zm-3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},8996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},9037:e=>{"use strict";e.exports=a},9244:e=>{"use strict";e.exports=n},9298:e=>{"use strict";e.exports=c},9524:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 1.5a.5.5 0 0 1 1 0v2.8a.5.5 0 0 1-1 0zm6.028.874a.5.5 0 0 1 .062.705l-1.414 1.685a.5.5 0 1 1-.766-.643l1.414-1.685a.5.5 0 0 1 .704-.062m-10.352.062a.5.5 0 1 0-.766.643l1.414 1.685a.5.5 0 0 0 .766-.643zM6.244 10.6H5.43zM.961 9.8h4.88c.211 0 .359.19.359.4q0 .207.045.4a1.8 1.8 0 0 0 3.51 0h.814a2.6 2.6 0 0 1-5.139 0H.8v3.6h14.4v-3.6H9.755q.045-.194.045-.4c0-.21.148-.4.358-.4h4.881l-2.267-3.4H3.228zm11.81-4.2a.8.8 0 0 1 .666.356l2.429 3.642a.8.8 0 0 1 .134.444V14.2a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1-.8-.8v-4.158a.8.8 0 0 1 .134-.444l2.429-3.642a.8.8 0 0 1 .665-.356z" clip-rule="evenodd"></path></svg>'},9860:e=>{"use strict";e.exports=i}},t={};function p(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,p),l.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var a in t)p.o(t,a)&&!p.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.p="";var d={};return p.p=window.jimuConfig.baseUrl,(()=>{"use strict";p.r(d),p.d(d,{__set_webpack_public_path__:()=>Oe,default:()=>ke});var e=p(9244),t=p(4321);const a={experienceSettings:"Experience settings",templateSettings:"Template settings",favicon:"Favicon",timezone:"Time zone",deviceTimezone:"Device time zone",specificTimezone:"Specific time zone",dataTimezone:"Data time zone",dataTimezoneTimelineWarning:"Be aware that using data time zone affects all date fields and limits the functionality of the Timeline widget.",learnMoreForTimezoneSetting:"Learn more about time zone settings.",timezoneDesc:"Changing the time zone of the experience will affect how the date and time data are displayed. Options include:",deviceTimezoneDesc:"Displays date and time using the local device time zone.",specificTimezoneDesc:"Displays date and time using a designated time zone.",dataTimezoneDesc:"Displays date and time based on the time zone defined for a stand-alone layer or the web map, respectively, with no adjustments made.",stateUrlParameters:"State & URL parameters",manageUrlStatus:"Manage URL parameters",appStateConfig:"Experience state",appStateTips:"Display a banner that allows users to restore the state of the page, view, window, map viewpoint, and layer visibility, resuming where they left off when reopening the experience. The experience state is stored in the browser cache and works only when cached data is available.",allowRestoreState:"Allow to restore state upon reopening the experience",dataSelection:"Data selection",zoomToSelection:"Zoom to selected features",manageUrlStatusTips:"Select the URL parameters you want to include in the URL when interacting with the experience. The experience URL will synchronize with user interactions automatically, and can be shared with other users to restore the previous content of display using the URL parameters.",privacy:"Privacy",security:"Security",privacyAndSecurity:"Privacy and security",skipSingInPrompt:"Skip sign-in prompt for secured resources",skipCredentialBanner:"Skip credential banner",skipSingInPromptInfo:"Stops automatic sign-in popups for unshared resources. The app loads only what's accessible to the user, and sign-in can still be done through the credential banner if available.",skipCredentialBannerInfo:"Disables the credential banner, which lists inaccessible content and offers sign-in option.",googleAnalytics:"Google Analytics (GA4)",measurementId:"Measurement ID",invalidMeasurementMsg:"Formatting must match",consentRefreshSetting:"Consent refresh settings",refreshPeriodically:"Refresh consent periodically",thirdPartyExplain:"The cookie banner only controls first-party cookies and does not apply to third-party cookies from other domains.",days:"days",consentMode:"Consent mode",consentRequired:"Consent required",consentOptional:"Consent optional",renewUserConsents:"Renew consent",renewNow:"Renew now",renewModalTitle:"Are you sure you want to renew user consent?",renewModalDesc:"The cookie banner will reappear for users who have previously consented and ask them to give their consent again.",lastTimeRenewed:"Last time renewed",noAvailableWidgets:"No available widgets. Please add widgets that support URL parameters."};var n=p(9298),l=p(1888),i=p(4108),o=p(3303),s=p.n(o),r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const c=t=>{const a=window.SVG,{className:n}=t,l=r(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:s()},l)):e.React.createElement("svg",Object.assign({className:i},l))},u=e.React.memo((n=>{const l=e.hooks.useTranslation(t.defaultMessages,a),o=(e,t,a)=>i.UrlConfigManager.getInstance().isWidgetParamEnable(e,t,a),s=l("settings");return(0,e.jsx)(e.React.Fragment,{key:n.idx},n.urlParamsWidgetsInManifest&&n.widgetsInfoInGroup.widgetsInfo.map(((a,l)=>{var i,r,p;const d=a.id,u=a.label,m=null===(p=null===(r=null===(i=n.urlParamsWidgetsInManifest[d])||void 0===i?void 0:i.manifest)||void 0===r?void 0:r.urlParameters)||void 0===p?void 0:p.length,g=m&&1===m,f=((t,a)=>{var l,i;let s=!1;if(a){const e=null===(i=null===(l=n.urlParamsWidgetsInManifest[t])||void 0===l?void 0:l.manifest)||void 0===i?void 0:i.urlParameters[0].name;s=o(t,e,a)}else s=e.urlManagerUtils.isWidgetEnable(t);return s})(d,g);return(0,e.jsx)("div",{key:l,className:"detail-setting d-flex justify-content-between align-items-center my-2 "},(0,e.jsx)(t.Label,{className:"widget-label"},u),(0,e.jsx)("div",{className:"d-flex justify-content-end align-items-center"},!g&&(0,e.jsx)(t.Button,{size:"sm",icon:!0,type:"tertiary",className:"mr-2",onClick:e=>{n.handWidgetSettingClick(d,e,f)},title:s,"aria-label":s},(0,e.jsx)(c,{size:"m"})),(0,e.jsx)(t.Switch,{checked:f,onChange:e=>{n.handEnableChange(d,e,g)}})))})))}));class m extends e.React.PureComponent{constructor(t){super(t),this.handleChange=e=>{const t=(null==e?void 0:e.target.value)||"";this.setState({searchText:t},(()=>{const{onSearchTextChange:e}=this.props;e&&e(t)}))},this.handleSubmit=e=>{const{onSubmit:t}=this.props;t&&t(e)},this.onKeyUp=e=>{e&&e.target&&"Enter"===e.key&&this.handleSubmit(e.target.value)},this.handleClear=e=>{this.setState({searchText:""}),e.stopPropagation()},this.getStyle=()=>e.css`
      position: relative;
      .toc-search-input {
        .search-close-icon {
          padding: 0.125rem;
        }
      }
    `,this.state={searchText:t.searchText||""}}componentDidUpdate(e){if(this.props.searchText!==e.searchText&&this.props.searchText!==this.state.searchText){const{searchText:e}=this.props;this.setState({searchText:e})}}render(){const{placeholder:a,className:n,inputRef:l,onFocus:i,onBlur:o}=this.props,{searchText:s}=this.state;return(0,e.jsx)("div",{css:this.getStyle(),className:n},(0,e.jsx)(t.TextInput,{className:"toc-search-input",ref:l,"aria-label":a,placeholder:a,allowClear:!0,onChange:this.handleChange,onBlur:o,onFocus:i,value:s,onKeyDown:e=>{this.onKeyUp(e)}}))}}function g(o){const s=(0,l.useTheme)(),r=e.hooks.useTranslation(t.defaultMessages,a),c=e.ReactRedux.useSelector((e=>{var t,a;const n=[],l=null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.widgets;return Object.keys(null!=l?l:{}).forEach((e=>{n.push(e)})),n.join(",")}),e.ReactRedux.shallowEqual),p=e.ReactRedux.useSelector((e=>{var t,a;const n=null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.pageStructure;return i.UrlConfigManager.getInstance().getFlatPageInfos(n)}),e.ReactRedux.shallowEqual),d=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.browserSizeMode})),[u,g]=e.React.useState(""),f=e.React.useRef(null),{onSearch:b}=o,v=e.React.useRef([]),h=e.React.useRef([]),x=e.React.useRef([]);e.React.useEffect((()=>{const t=i.UrlConfigManager.getInstance().getWidgetsInPages(d,u),a=i.UrlConfigManager.getInstance().getWidgetsInHeaderFooter(d,u),n=i.UrlConfigManager.getInstance().getWidgetsInDialogs(d,u);(!e.lodash.isDeepEqual(t,v.current)||!e.lodash.isDeepEqual(a,h.current)||!e.lodash.isDeepEqual(n,x.current))&&o.active&&b(t,a,n),v.current=t,h.current=a,x.current=n}),[u,d,c,p,o.active,b]);const w=r("SearchLabel");return(0,e.jsx)(n.SettingSection,{className:"px-0 pb-0 url-params-search mb-3",css:(t=>e.css`
      &.url-params-search {
        border: 0;

        .outline-title {
          user-select: none;
          color: ${t.ref.palette.neutral[1e3]};
          font-weight: ${t.ref.typeface.fontWeightBold};
        }
      }
    `)(s)},(0,e.jsx)(m,{theme:s,placeholder:w,searchText:u,onSearchTextChange:e=>{g(e)},inputRef:e=>{f.current=e}}))}var f=p(2943),b=p.n(f),v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const h=t=>{const a=window.SVG,{className:n}=t,l=v(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:b()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var x=p(655),w=p.n(x),j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const y=t=>{const a=window.SVG,{className:n}=t,l=j(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:w()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var S=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};function C(n){const l=e.hooks.useTranslation(t.defaultMessages,a),{label:i,children:o,isDefaultOpen:s,className:r}=n,c=S(n,["label","children","isDefaultOpen","className"]),[p,d]=e.React.useState(null==s||s),u=l(p?"collapse":"expand");return(0,e.jsx)("div",{className:n.className},(0,e.jsx)(t.Label,null,(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"collapsable-item-icon",disableRipple:!0,title:u,"aria-label":u,"aria-expanded":p,onClick:e=>{setTimeout((()=>{d(!p)}),80)}},p?(0,e.jsx)(y,{size:"s"}):(0,e.jsx)(h,{size:"s"})),i),(0,e.jsx)(t.Collapse,Object.assign({isOpen:p},c),o))}const R=t=>e.css`
  .jimu-widget-setting--section-header .title2, .jimu-widget-setting--section-header .text-truncate, .section-header .jimu-widget-setting--row-label, .section-header-label>label:first-of-type {
    color: var(--ref-palette-neutral-1100) !important;
    font-size: 14px !important;
    font-weight: 600 !important;
  }

  .scroll-content {
    height: calc(100% - 60px);
    overflow-y: scroll;
  }

  &.url-setting {
    .back-btn-text {
      color: var(--ref-palette-neutral-1100);
      font-size: 16px;
      font-weight: 500;
    }

    .widgets-title-warper {
      border-bottom: none;
    }
    .widgets-warper {
      padding-top: 0;
      padding-left: 0;
      padding-right: 0;
      overflow: auto;

      .nav-item .nav-link {
        padding: 0.25rem;
      }
    }

    /* First level collapsable */
    .collapsable-wrapper {
      .title {
        padding:0 !important;
        font-size: unset;
      }
    }

    /* Second level collapsable */
    .collapsable-item-section {
      margin-top: 4px;

      .collapsable-item-icon {
        padding: 0;
        margin-right: 2px;
      }

      .form-label {
        margin-top: 8px;
        margin-bottom: 0;
      }

      .collapse-header {
        padding-top: 6px;
      }
    }

    .form-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--ref-palette-neutral-1000);
      padding: 0 !important;
    }

    .jimu-widget-setting--section {
      /* section-title */
      .jimu-widget-setting--section-header{
        .setting-row-text-level-1 {
          color: var(--ref-palette-neutral-1000)!important;
          font-size: 14px !important;
          font-weight: 600 !important;
        }
      }
      .jimu-widget-setting--row {
        .outline-title {
          color: var(--ref-palette-neutral-1000)!important;
          font-size: 14px !important;
          font-weight: 600 !important;
        }
      }
    }

    /* Tabs */
    .jimu-tabs {
      margin-top: 0;

      .tab-pane { /* for 508 focus */
        padding-left: 2px;
        padding-right: 2px;
      }
    }
    .nav-item {
      &:last-of-type{
        margin-right: 0;
      }
      .nav-link{
        padding: 0.5rem 0.25rem;
      }
    }

    .detail-setting {
      min-height: 26px;
      margin-left: 20px;

      .widget-label {
        font-weight: unset;
      }
    }

    /* empty icon */
    .empty-placeholder {
      .empty-placeholder-text, .empty-placeholder-icon{
        display: table;
        margin: 0 auto;
      }
      .empty-placeholder-text{
        color: var(--ref-palette-neutral-900);
        font-size: ${t.sys.typography.label1.fontSize};
        margin-top: ${t.sys.spacing[4]};
        text-align: center;
      }

      .empty-placeholder-icon{
        color: var(--sys-color-action-disabled-text);
      }
    }
  }
`;var I=p(6300),N=p.n(I),k=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const O=t=>{const a=window.SVG,{className:n}=t,l=k(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:N()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var T=p(5508),M=p.n(T),z=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const A=t=>{const a=window.SVG,{className:n}=t,l=z(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:M()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var P=p(9524),E=p.n(P),B=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const U=t=>{const a=window.SVG,{className:n}=t,l=B(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:E()},l)):e.React.createElement("svg",Object.assign({className:i},l))},D=e.React.memo((()=>{const l=e.hooks.useTranslation(a),o=e.ReactRedux.useSelector((e=>{var t,a,n;return!!(null===(n=null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.appStateConfig)||void 0===n?void 0:n.allowRestoreState)})),s=e.React.useCallback(((e,t)=>{(0,i.getAppConfigAction)().updateAppStateConfig({allowRestoreState:t}).exec()}),[]);return(0,e.jsx)(n.SettingSection,{title:l("appStateConfig")},(0,e.jsx)(n.SettingRow,{flow:"no-wrap"},(0,e.jsx)(t.Label,{for:"allowRestoreState"},l("allowRestoreState")),(0,e.jsx)(t.Tooltip,{placement:"right",title:l("appStateTips")},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"flex-shrink-0 p-0 mx-3",disableHoverEffect:!0,disableRipple:!0,onClick:e=>{e.stopPropagation()}},(0,e.jsx)(A,null))),(0,e.jsx)(t.Switch,{id:"allowRestoreState",checked:o,onChange:s})))}));var L;function F(o){var s,r,c;const p=e.hooks.useTranslation(t.defaultMessages,a),d=(0,l.useTheme)(),m=i.UrlConfigManager.getInstance().getWidgetsUseUrlParamsInManifest();e.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.urlParams}));const f=e=>i.UrlConfigManager.getInstance().isGeneralUrlConfigEnable(e),b=(e,t,a)=>{var n,l;const o=t.target.checked;if(a){const t=null===(l=null===(n=m[e])||void 0===n?void 0:n.manifest)||void 0===l?void 0:l.urlParameters[0].name;i.UrlConfigManager.getInstance().updateWidgetParamEnable(e,t,o)}else i.UrlConfigManager.getInstance().updateWidgetEnable(e,o)},v=(e,t,a)=>i.UrlConfigManager.getInstance().isWidgetParamEnable(e,t,a),[h,x]=e.React.useState([]),[w,j]=e.React.useState([]),[y,S]=e.React.useState([]),I=(e,t,a)=>{x(e),j(t),S(a)},N=e=>null==w?void 0:w.filter((t=>t.mode===e)),k=e=>{const t=N(e).some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}));return t},T=()=>h,M=()=>{const e=T().some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}));return e},z=e=>null==y?void 0:y.filter((t=>t.dialogInfo.mode===e)),P=e=>{const t=z(e).some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}));return t},E=e.React.useRef(null),[B,F]=e.React.useState(null),H=(e,t,a)=>{E.current=t.target,F({widgetId:e,isEnable:a})},G=!!B,[W,V]=e.React.useState(L.Page),q=h.some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}))||w.some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0}))||y.some((e=>{var t;return(null===(t=e.widgetsInfo)||void 0===t?void 0:t.length)>0})),$=()=>(0,e.jsx)("div",{className:"empty-placeholder w-100 p-4"},(0,e.jsx)("div",{className:"empty-placeholder-icon"},(0,e.jsx)(U,{size:48})),(0,e.jsx)("div",{className:"empty-placeholder-text"},p("noAvailableWidgets"))),_=p("data"),X=p("dataSelection"),Z=p("zoomToSelection"),K=p("widgets"),J=p("manageUrlStatusTips"),Y=p("variableHeader"),Q=p("variableBody"),ee=p("variableFooter"),te=p("fixedWindows"),ae=p("anchoredWindows"),ne=(0,e.jsx)("div",{className:"d-flex align-items-center justify-content-between"},(0,e.jsx)("div",{className:"text-truncate",title:p("manageUrlStatus")},p("manageUrlStatus")),(0,e.jsx)(t.Tooltip,{placement:"right",title:J},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0},(0,e.jsx)(A,null))));return(0,e.jsx)("div",{className:"url-setting widget-builder-themes d-flex flex-column bg-light-300 w-100 h-100",css:R(d)},(0,e.jsx)(n.SettingSection,{className:"jimu-widget-setting--header d-flex align-items-center justify-content-between header-title"},(0,e.jsx)("div",{className:"text-truncate text-left d-flex align-items-center back-btn-text"},(0,e.jsx)(t.Button,{onClick:o.onBack,size:"sm",icon:!0,type:"tertiary",className:"mr-2 jimu-outline-inside","aria-label":p("back")},(0,e.jsx)(O,{size:"m",autoFlip:!0})),(0,e.jsx)("div",{className:"text-truncate",title:p("stateUrlParameters")},p("stateUrlParameters")))),(0,e.jsx)("div",{className:"scroll-content"},(0,e.jsx)(D,null),(0,e.jsx)(n.SettingSection,{title:ne},(0,e.jsx)(n.SettingRow,{flow:"wrap",tag:"div",label:_,className:"section-header-label",bottomLine:!0,role:"group"},(0,e.jsx)(n.SettingRow,{className:"w-100 d-flex justify-content-between",tag:"label",label:X},(0,e.jsx)(t.Switch,{checked:f(e.UrlGeneralConfig.DataSelection),onChange:t=>{((e,t)=>{const a=t.target.checked;i.UrlConfigManager.getInstance().updateGeneralUrlConfigEnable(e,a)})(e.UrlGeneralConfig.DataSelection,t)}})),f(e.UrlGeneralConfig.DataSelection)&&(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,null,(0,e.jsx)(t.Checkbox,{className:"mr-2",checked:i.UrlConfigManager.getInstance().isZoomToSelectionEnable(),onChange:(e,t)=>{i.UrlConfigManager.getInstance().updateZoomToSelectionEnable(t)}}),(0,e.jsx)("span",{className:"checkbox-label"},Z)))),(0,e.jsx)(n.SettingRow,{flow:"wrap",label:K,"aria-label":K,className:"widgets-warper section-header",role:"group"},(0,e.jsx)(t.Tabs,{type:"pills",className:"w-100 ",value:W,onChange:e=>{V(e)}},(0,e.jsx)(t.Tab,{id:"page",title:p("page"),className:"w-50 "},(0,e.jsx)(g,{active:W===L.Page,onSearch:I}),!q&&$(),q&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingSection,{className:"px-0 mx-1 pt-1"},(0,e.jsx)(t.CollapsablePanel,{key:Y,label:Y,"aria-label":Y,role:"group",className:"collapsable-wrapper px-0",defaultIsOpen:k("Header"),disabled:!k("Header")},k("Header")&&N("Header").map(((t,a)=>(0,e.jsx)(e.React.Fragment,{key:a},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:a,handWidgetSettingClick:H,handEnableChange:b})))))),(0,e.jsx)(n.SettingSection,{className:"px-0 mx-1"},(0,e.jsx)(t.CollapsablePanel,{key:Q,label:Q,"aria-label":Q,role:"group",className:"collapsable-wrapper px-0",defaultIsOpen:M(),disabled:!M()},M()&&T().map((t=>{var a;const n=t.pageInfo.id,l=t.pageInfo.label;return(null===(a=t.widgetsInfo)||void 0===a?void 0:a.length)>0?(0,e.jsx)(C,{label:l,"aria-label":l,className:"collapsable-item-section",key:n},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:n,handWidgetSettingClick:H,handEnableChange:b})):null})))),(0,e.jsx)(n.SettingSection,{className:"px-0 mx-1"},(0,e.jsx)(t.CollapsablePanel,{key:ee,label:ee,"aria-label":ee,role:"group",className:"collapsable-wrapper px-0",defaultIsOpen:k("Footer"),disabled:!k("Footer")},k("Footer")&&N("Footer").map(((t,a)=>(0,e.jsx)(e.React.Fragment,{key:a},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:a,handWidgetSettingClick:H,handEnableChange:b})))))))),(0,e.jsx)(t.Tab,{id:"dialog",title:p("dialog"),className:"w-50 "},(0,e.jsx)(g,{active:W===L.Dialog,onSearch:I}),!q&&$(),q&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingSection,{className:"px-0 mx-1 pt-1"},(0,e.jsx)(t.CollapsablePanel,{key:te,label:te,"aria-label":te,role:"group",className:"collapsable-wrapper px-0",defaultIsOpen:P(e.DialogMode.Fixed),disabled:!P(e.DialogMode.Fixed)},P(e.DialogMode.Fixed)&&z(e.DialogMode.Fixed).map((t=>{var a;const n=t.dialogInfo.id,l=t.dialogInfo.label;return(null===(a=t.widgetsInfo)||void 0===a?void 0:a.length)>0?(0,e.jsx)(C,{label:l,"aria-label":l,className:"collapsable-item-section",key:n},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:n,handWidgetSettingClick:H,handEnableChange:b})):null})))),(0,e.jsx)(n.SettingSection,{className:"px-0 mx-1"},(0,e.jsx)(t.CollapsablePanel,{key:ae,label:ae,"aria-label":ae,role:"group",className:"collapsable-wrapper px-0",defaultIsOpen:P(e.DialogMode.Anchored),disabled:!P(e.DialogMode.Anchored)},P(e.DialogMode.Anchored)&&z(e.DialogMode.Anchored).map((t=>{var a;const n=t.dialogInfo.id,l=t.dialogInfo.label;return(null===(a=t.widgetsInfo)||void 0===a?void 0:a.length)>0?(0,e.jsx)(C,{label:l,"aria-label":l,className:"collapsable-item-section",key:n},(0,e.jsx)(u,{widgetsInfoInGroup:t,urlParamsWidgetsInManifest:m,idx:n,handWidgetSettingClick:H,handEnableChange:b})):null})))))))))),G&&(0,e.jsx)(t.Popper,{open:G,toggle:t=>{(0,e.focusElementInKeyboardMode)(E.current),E.current=null,F(null)},reference:E,placement:"bottom",arrowOptions:!0},null===(c=null===(r=null===(s=m[B.widgetId])||void 0===s?void 0:s.manifest)||void 0===r?void 0:r.urlParameters)||void 0===c?void 0:c.map((a=>(0,e.jsx)(n.SettingRow,{tag:"label",label:a.label,key:a.name,className:"m-4"},a.tooltip&&(0,e.jsx)(t.Tooltip,{placement:"right",title:a.tooltip},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0},(0,e.jsx)(A,null))),(0,e.jsx)(t.Switch,{checked:v(B.widgetId,a.name),onChange:e=>{((e,t)=>{const a=!v(e,t);i.UrlConfigManager.getInstance().updateWidgetParamEnable(e,t,a)})(B.widgetId,a.name)},className:"ml-2",disabled:!B.isEnable}))))))}function H(e,t){var a;let n=(0,i.getAppConfigAction)().appConfig;n.attributes||(n=n.set("attributes",{}));const l=null===(a=n.attributes)||void 0===a?void 0:a.set(e,t);(0,i.getAppConfigAction)().editAttributes(l).exec()}function G(e,t){var a,n;let l=(0,i.getAppConfigAction)().appConfig;l.analytics||(l=l.set("analytics",{}));let o=null;o="string"==typeof e?null===(a=l.analytics)||void 0===a?void 0:a.set(e,t):null===(n=l.analytics)||void 0===n?void 0:n.setIn(e,t),(0,i.getAppConfigAction)().updateAnalyticsConfig(o).exec()}function W(e,t){var a,n;let l=(0,i.getAppConfigAction)().appConfig;l.cookieBanner||(l=l.set("cookieBanner",{}));let o=null;o="string"==typeof e?null===(a=l.cookieBanner)||void 0===a?void 0:a.set(e,t):null===(n=l.cookieBanner)||void 0===n?void 0:n.setIn(e,t),(0,i.getAppConfigAction)().updateCookieBannerConfig(o).exec()}function V(t,a=!1){var n;i.builderAppSync.publishAppInfoChangeToApp(t);const l={appConfig:null===(n=(0,e.getAppStore)().getState().appStateInBuilder)||void 0===n?void 0:n.appConfig,appInfo:t};a?(0,e.getAppStore)().dispatch(i.appStateHistoryActions.InBuilderReplaceLastAppConfigInHistory(l)):(0,e.getAppStore)().dispatch(i.appStateHistoryActions.InBuilderPutAppConfigIntoHistory(l))}!function(e){e.Page="page",e.Dialog="dialog"}(L||(L={}));var q=p(9037);const $=e.css`
  padding-top: var(--sys-spacing-4);
  border-top: 1px solid var(--ref-palette-neutral-500);
`;function _(a){const{translate:o,timezone:s={type:e.TimezoneConfig.Device}}=a,r=(0,l.useTheme)(),[c,p]=e.React.useState(null),[d,u]=e.React.useState(s.type===e.TimezoneConfig.Specific?s.value:X());e.React.useEffect((()=>{var e;null===(e=null===i.helpUtils||void 0===i.helpUtils?void 0:i.helpUtils.getBuildAppsHelpLink("general-settings"))||void 0===e||e.then((e=>{e&&p(e)}))}),[]),e.React.useEffect((()=>{s.type===e.TimezoneConfig.Specific&&u(s.value)}),[s]);const m=t=>{const a=t.target.value,n={type:a};a===e.TimezoneConfig.Specific&&(n.value=d),H("timezone",n)};return(0,e.jsx)("div",{css:$,className:"timezone-setting mt-4",role:"group","aria-label":o("timezone")},(0,e.jsx)(n.SettingRow,{label:(0,e.jsx)("div",{className:"d-flex justify-content-between"},(0,e.jsx)("div",null,o("timezone")),(0,e.jsx)(t.Tooltip,{showArrow:!0,placement:"right",id:"app-timezone-desc",describeChild:!0,enterDelay:0,"aria-live":"off",title:(0,e.jsx)("div",{css:e.css`
          width: 386px;
          padding: 0.75rem;
          font-size: 12px;
          line-height: 150%;
          font-style: normal;
          border: 1px solid ${r.sys.color.divider.tertiary};
          border-radius: 2px;
          box-shadow: ${r.sys.shadow.shadow2};
          .name {
            margin-top: 1rem;
            font-weight: 600;
          }
          .desc {
            font-weight: 400;
          }
        `},(0,e.jsx)("div",{className:"desc"},o("timezoneDesc")),(0,e.jsx)("div",{className:"name"},o("deviceTimezone")),(0,e.jsx)("div",{className:"desc"},o("deviceTimezoneDesc")),(0,e.jsx)("div",{className:"name"},o("specificTimezone")),(0,e.jsx)("div",{className:"desc"},o("specificTimezoneDesc")),(0,e.jsx)("div",{className:"name"},o("dataTimezone")),(0,e.jsx)("div",{className:"desc"},o("dataTimezoneDesc")))},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0,"aria-label":o("additionalInformation"),"aria-describedby":"app-timezone-desc"},(0,e.jsx)(A,null)))),flow:"wrap"}),(0,e.jsx)(n.SettingRow,{className:"mt-3"},(0,e.jsx)(t.Label,{className:"mr-4 d-flex align-items-center"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"timezone-type",value:e.TimezoneConfig.Device,checked:s.type===e.TimezoneConfig.Device,onChange:m}),o("deviceTimezone"))),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,{className:"mr-4 d-flex align-items-center"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"timezone-type",value:e.TimezoneConfig.Specific,checked:s.type===e.TimezoneConfig.Specific,onChange:m}),o("specificTimezone"))),s.type===e.TimezoneConfig.Specific&&(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(q.CalciteInputTimeZone,{scale:"s",className:"jimu-calcite-timezone w-100",value:d,mode:"name",overlayPositioning:"fixed",onCalciteInputTimeZoneChange:t=>{const a=t.target.value;H("timezone",{type:e.TimezoneConfig.Specific,value:a})}})),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)(t.Label,{className:"mr-4 d-flex align-items-center"},(0,e.jsx)(t.Radio,{className:"mr-2",name:"timezone-type",value:e.TimezoneConfig.Data,checked:s.type===e.TimezoneConfig.Data,onChange:m}),o("dataTimezone"))),s.type===e.TimezoneConfig.Data&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(n.SettingRow,{className:"w-100 d-flex justify-content-between"},(0,e.jsx)(t.Alert,{form:"basic",type:"warning",withIcon:!0},(0,e.jsx)("div",null,o("dataTimezoneTimelineWarning")+" ",(0,e.jsx)("a",{target:"_blank",href:c,rel:"noopener noreferrer"},o("learnMoreForTimezoneSetting")))))))}const X=()=>(new Intl.DateTimeFormat).resolvedOptions().timeZone;var Z=p(4702),K=p.n(Z),J=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const Y=t=>{const a=window.SVG,{className:n}=t,l=J(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:K()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var Q=p(5075),ee=p.n(Q),te=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const ae=t=>{const a=window.SVG,{className:n}=t,l=te(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:ee()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var ne=p(8996),le=p.n(ne),ie=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const oe=t=>{const a=window.SVG,{className:n}=t,l=ie(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:le()},l)):e.React.createElement("svg",Object.assign({className:i},l))},se=l.styled.h5`
  padding: 1rem;
`,re=(0,l.styled)(t.ModalBody)`
  padding: 0 3rem 1rem 3rem!important;
`,ce=(0,l.styled)(t.ModalFooter)`
  button {
    min-width: 75px!important;
  }
`,pe=(0,l.styled)(t.Modal)`
  .modal-content {
    border: 0px;
  }
`,de=(0,l.styled)(n.RadioGroup)`
  margin-bottom: 0px!important;
  label:last-child {
    margin-bottom: 0;
  }
`;const ue=(t,a)=>{let n,l;if(n=window.jimuConfig.isBuilder?(0,e.getAppStore)().getState().appStateInBuilder.appConfig.attributes.timezone:(0,e.getAppStore)().getState().appConfig.attributes.timezone,(null==n?void 0:n.type)===e.TimezoneConfig.Specific){const t=e.dataSourceUtils.getTimeZoneOffsetByName(n.value);l=a-e.dataSourceUtils.getLocalTimeOffset()+t}else l=a;return e.dateUtils.formatDateValueByEsriFormat(l,e.dateUtils.DATE_TIME_DEFAULT_ESRI_FORMAT,t)},me=(0,l.withTheme)((function(l){var o,s,r,c,p;const{onBack:d}=l,u=e.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.analytics})),m=e.ReactRedux.useSelector((e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===a?void 0:a.cookieBanner})),g=e.ReactRedux.useSelector((e=>{var t,a,n;return null===(n=null===(a=null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.sectionNavInfos)||void 0===a?void 0:a["opts-section"])||void 0===n?void 0:n.currentViewId})),[f,b]=e.React.useState((null==u?void 0:u.enable)||!1),[v,h]=e.React.useState((null===(o=null==u?void 0:u.google)||void 0===o?void 0:o.measurementId)||""),[x,w]=e.React.useState((null==m?void 0:m.enable)||!1),[j,y]=e.React.useState((null==m?void 0:m.refreshPeriodically)||!1),[S,C]=e.React.useState((null==m?void 0:m.consentMode)||e.EConsentMode.Optional),[R,I]=e.React.useState((null==m?void 0:m.refreshPeriod)||180),[N,k]=e.React.useState(!1),T=e.hooks.useTranslation(t.defaultMessages,a),M=(0,e.useIntl)(),z=e.React.useCallback((e=>/^(G|UA|YT|MO)-[a-zA-Z0-9-]+$/.test(e)?{valid:!0}:{valid:!1,msg:T("invalidMeasurementMsg")+" G-XXXXXXXXXX"}),[T]),P=e.React.useCallback((()=>{k(!1)}),[]);e.React.useEffect((()=>{i.builderAppSync.publishChangeSelectionToApp(null)}),[]),e.React.useEffect((()=>{const t="appSetting"===g&&x;i.builderAppSync.publishOpenCookieBannerByPrivacyPanelToApp(t),(0,e.getAppStore)().dispatch(e.appActions.OpenCookieBannerSetting(t))}),[g,x]);const E=e.React.useCallback((()=>{i.builderAppSync.publishOpenCookieBannerByPrivacyPanelToApp(!1),(0,e.getAppStore)().dispatch(e.appActions.OpenCookieBannerSetting(!1)),d()}),[d]),B=e.React.useCallback((t=>{const a=!x;w(a),W("enable",a),(0,e.getAppStore)().dispatch(e.appActions.OpenCookieBannerSetting(a)),a?W("uid",(0,e.uuidv1)()):(0,i.getAppConfigAction)().appConfig.cookieBanner&&(0,i.getAppConfigAction)().removeCookieBannerConfig().exec()}),[x]),U=e.React.useCallback((t=>{var a;const n=(0,e.getAppStore)().getState().appStateInBuilder,l=null===(a=null==n?void 0:n.appConfig)||void 0===a?void 0:a.setIn(["permission","blockSignInPrompt"],t.target.checked);i.builderAppSync.publishAppConfigChangeToApp(l)}),[]),D=e.React.useCallback((t=>{var a;const n=(0,e.getAppStore)().getState().appStateInBuilder,l=null===(a=null==n?void 0:n.appConfig)||void 0===a?void 0:a.setIn(["permission","blockPermissionBanner"],t.target.checked);i.builderAppSync.publishAppConfigChangeToApp(l)}),[]);e.React.useEffect((()=>{window._builderPubsub.subscribe(`to_builder.${i.ToBuilderMessage.CloseBannerInLiveView}`,(e=>{E()}))}),[E]);const L=e.React.useId(),F=e.React.useId();return(0,e.jsx)("div",{css:(H=l.theme,e.css`
    .header-title {
      padding: 1rem;
      font-size: 1rem;
      font-weight: 600;
      color: var(--ref-palette-neutral-1000);
      /*border-bottom: 1px solid rgb(106, 106, 106);*/
    }
    .break-line {
      border-top: 1px solid rgb(106, 106, 106);

    }
    .selector-button {
      height: 2.5rem;
      line-height: 2.5rem;
      padding: 0;
      border: 1px dashed #828282;
      border-radius: 0.125rem;
      cursor: pointer;
      color: #00d8ed;
      font-size: 0.875rem;
      -webkit-text-decoration: none;
      text-decoration: none;
      background-color: transparent;
    }
    .setting-row-label{
      font-size: 0.8125rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: ${H.ref.palette.neutral[900]};
    }
  `),className:"h-100 w-100"},(0,e.jsx)("div",{className:"jimu-widget-setting--header d-flex align-items-center justify-content-between header-title"},(0,e.jsx)("div",{className:"text-truncate text-left"},(0,e.jsx)(t.Button,{onClick:E,size:"sm",icon:!0,type:"tertiary",className:"mr-2 jimu-outline-inside","aria-label":T("back")},(0,e.jsx)(O,{size:"m",autoFlip:!0})),T("privacyAndSecurity"))),(0,e.jsx)("div",{className:"break-line title2 header-title pb-0"}," ",T("privacy")," "),(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0"},(0,e.jsx)(n.SettingRow,{role:"group",className:"mb-2",tag:"label",label:T("googleAnalytics"),"aria-label":T("googleAnalytics")},(0,e.jsx)(t.Switch,{checked:f,onChange:t=>{b(t.target.checked),G("enable",t.target.checked),W("uid",(0,e.uuidv1)())}})),f&&(0,e.jsx)(n.SettingRow,{label:T("measurementId"),"aria-label":T("measurementId"),flow:"wrap",role:"group"},(0,e.jsx)(t.TextInput,{className:"w-100",defaultValue:v,checkValidityOnAccept:z,onAcceptValue:e=>{h(e),G(["google","measurementId"],e)},"aria-label":T("measurementId")}))),(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0"},(0,e.jsx)("div",{onClick:B},(0,e.jsx)(n.SettingRow,{className:"setting-row-label d-flex justify-content-between","aria-label":T("cookieBanner"),role:"group"},(0,e.jsx)("div",null,(0,e.jsx)("span",null,T("cookieBanner")),(0,e.jsx)(t.Tooltip,{title:T("thirdPartyExplain"),placement:"bottom","aria-live":"off",describeChild:!0,id:"cookie-third-party-desc",enterDelay:0},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0,"aria-label":T("additionalInformation"),"aria-describedby":"cookie-third-party-desc"},(0,e.jsx)(A,null)))),(0,e.jsx)(t.Switch,{"aria-label":T("cookieBanner"),checked:x,onChange:B}))),x&&(0,e.jsx)(e.React.Fragment,null,f&&(0,e.jsx)(n.SettingRow,{label:T("consentMode"),"aria-label":T("consentMode"),flow:"wrap",role:"radiogroup"},(0,e.jsx)(de,{className:"pb-0",value:S,options:[{value:e.EConsentMode.Required,content:T("consentRequired")},{value:e.EConsentMode.Optional,content:T("consentOptional")}],onChange:e=>{C(e),W("consentMode",e)}})),(0,e.jsx)(n.SettingRow,{label:T("consentRefreshSetting"),"aria-label":T("consentRefreshSetting"),flow:"wrap",role:"group"},(0,e.jsx)(t.Label,{className:"d-flex justify-content-between"},(0,e.jsx)(t.Checkbox,{checked:j,onChange:e=>{y(e.target.checked),W("refreshPeriodically",e.target.checked)}}),(0,e.jsx)("span",{className:"ml-2"},T("refreshPeriodically")))),j&&(0,e.jsx)(t.TextInput,{className:"w-100 mt-4 mb-4",value:R,suffix:(0,e.jsx)("span",null,T("days")),onChange:e=>{I(e.target.value)},onAcceptValue:e=>{const t=Math.abs(parseInt(e));I(isNaN(t)?180:t),W("refreshPeriod",t)}}),(0,e.jsx)(n.SettingRow,{className:"mt-0",label:T("renewUserConsents"),"aria-label":T("renewUserConsents"),flow:"wrap",role:"group"},(0,e.jsx)(t.Button,{className:"w-100",size:"sm",type:"primary","aria-describedby":"refresh-time-desc",onClick:()=>{k(!0)}},T("renewNow"))),(null==m?void 0:m.renewTime)&&(0,e.jsx)("div",{className:"mt-2",id:"refresh-time-desc"},`${T("lastTimeRenewed")}: ${ue(M,m.renewTime)}`),(0,e.jsx)(pe,{centered:!0,isOpen:N,toggle:P},(0,e.jsx)(se,{className:"renew-modal-header"},(0,e.jsx)(oe,{size:24,className:"mr-2",color:"var(--sys-color-warning-main)"}),(0,e.jsx)("span",null,T("renewModalTitle"))),(0,e.jsx)(re,{className:"renew-modal-body"},(0,e.jsx)("span",null,T("renewModalDesc"))),(0,e.jsx)(ce,null,(0,e.jsx)(t.Button,{type:"primary",size:"sm",onClick:()=>{W("renewTime",(new Date).getTime()),P()}},T("ok")),(0,e.jsx)(t.Button,{size:"sm",onClick:P},T("cancel")))))),(0,e.jsx)("div",{className:"break-line title2 header-title mt-4 pb-0"}," ",T("security")," "),(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0"},(0,e.jsx)(n.SettingRow,{role:"group",className:"mb-2 setting-row-label d-flex justify-content-between",tag:"label","aria-label":T("skipSingInPrompt")},(0,e.jsx)("div",{className:"d-flex"},(0,e.jsx)("label",{htmlFor:L},T("skipSingInPrompt")),(0,e.jsx)(t.Tooltip,{title:T("skipSingInPromptInfo"),placement:"bottom","aria-live":"off",describeChild:!0,id:"skip-signin-desc",enterDelay:0},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"mr-4",disableHoverEffect:!0,disableRipple:!0,"aria-label":T("additionalInformation"),"aria-describedby":"skip-signin-desc"},(0,e.jsx)(A,null)))),(0,e.jsx)(t.Switch,{id:L,checked:null===(r=null===(s=(0,e.getAppStore)().getState().appStateInBuilder)||void 0===s?void 0:s.appConfig.permission)||void 0===r?void 0:r.blockSignInPrompt,onChange:U,"aria-label":T("skipSingInPrompt")}))),(0,e.jsx)(n.SettingSection,{className:"border-bottom-0 pb-0"},(0,e.jsx)(n.SettingRow,{role:"group",className:"mb-2 setting-row-label d-flex justify-content-between",tag:"label","aria-label":T("skipCredentialBanner")},(0,e.jsx)("div",{className:"d-flex"},(0,e.jsx)("label",{htmlFor:F},T("skipCredentialBanner")),(0,e.jsx)(t.Tooltip,{title:T("skipCredentialBannerInfo"),placement:"bottom","aria-live":"off",describeChild:!0,id:"skip-credential-desc",enterDelay:0},(0,e.jsx)(t.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-2 p-0",disableHoverEffect:!0,disableRipple:!0,"aria-label":T("additionalInformation"),"aria-describedby":"skip-credential-desc"},(0,e.jsx)(A,null)))),(0,e.jsx)(t.Switch,{id:F,checked:null===(p=null===(c=(0,e.getAppStore)().getState().appStateInBuilder)||void 0===c?void 0:c.appConfig.permission)||void 0===p?void 0:p.blockPermissionBanner,onChange:D,"aria-label":T("skipCredentialBanner")}))));var H}));var ge;function fe(a){const{appItem:l,translate:i}=a,[o,s]=e.React.useState("");e.React.useEffect((()=>{const e=(null==l?void 0:l.snippet)||"";o!==e&&s(e)}),[null==l?void 0:l.snippet]);const r=e.hooks.useEventCallback((e=>{if((l.snippet||"")===e)return;V(l.set("snippet",e).set("clearEmptyFields",""===e).asMutable({deep:!0}))}));return(0,e.jsx)(n.SettingRow,{label:i("summaryField"),flow:"wrap",role:"group","aria-label":i("summaryField")},(0,e.jsx)(t.TextArea,{placeholder:i("summaryPlaceholder"),value:o,onChange:e=>{s(e.target.value)},height:80,onAcceptValue:r}))}!function(e){e.Experience="Web Experience",e.Template="Web Experience Template"}(ge||(ge={}));const be=e.css`
  .thumbnail-button {
    position: relative;
    cursor: pointer;
    .thumbnail-input {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
      font-size: 0;
    }
  }
  .thumbnail-image {
    aspect-ratio: 200 / 133;
    background-size: 100% 100%;
    background-position: center center;
    background-repeat: no-repeat;
  }
`;function ve(a){const{appItem:l,stateReady:i,folderUrl:o,portalUrl:s,translate:r}=a,[c,p]=e.React.useState(!1),[d,u]=e.React.useState(null),m=e.hooks.useEventCallback((()=>{p(!c)})),g=e.hooks.useEventCallback((e=>{var t;const a=null===(t=e.target)||void 0===t?void 0:t.files;if(!a||!a[0])return;if(a[0].size>10485760)return u(r("fileSizeTips",{maxSize:"10M"})),void p(!0);if(!a[0].type.startsWith("image/"))return u(r("imageTypeError")),void p(!0);const n=a[0].type,i=n.split(".")[n.split(".").length-1],o=new File([a[0]],`thumbnail${(new Date).getTime()}${i}`,{type:"image/png"}),s=window.URL.createObjectURL(o);V(l.set("thumbnailurl",s).asMutable({deep:!0})),e.target.value=null})),f=e.React.useMemo((()=>o+"./dist/runtime/assets/defaultthumb.png"),[o]);e.React.useEffect((()=>{var t;if((null===(t=(0,e.getAppStore)().getState().appRuntimeInfo)||void 0===t?void 0:t.saveThumbnailUrl)&&l&&!(null==l?void 0:l.thumbnailurl)&&!(null==l?void 0:l.thumbnail)){V(l.set("thumbnailurl",f).asMutable({deep:!0}),!0)}}),[null==l?void 0:l.thumbnailurl,null==l?void 0:l.thumbnail,f]),e.React.useEffect((()=>{const t=null==l?void 0:l.thumbnail;if(!t||!i)return;const a=null==l?void 0:l.id,n=e.SessionManager.getInstance().getSessionByUrl(s),o=n&&(null==n?void 0:n.token)?"?token="+n.token:"";let r="";r=window.jimuConfig.isDevEdition?`${window.location.origin}${window.jimuConfig.mountPath}apps/${a}/${t}`:`${s}/sharing/rest/content/items/${a}/info/${t}${o}`,fetch(r).then((e=>e.blob())).then((a=>{const n=t.split(".")[t.split(".").length-1],i=new File([a],`thumbnail${(new Date).getTime()}${n}`,{type:`image/${n}`}),o=window.URL.createObjectURL(i);V(l.set("thumbnailurl",o).asMutable({deep:!0}),!0),(0,e.getAppStore)().dispatch(e.appActions.saveThumbnailUrl(o))}))}),[null==l?void 0:l.id,null==l?void 0:l.thumbnail,s,i]);const b=e.React.useMemo((()=>{let e=f;return(null==l?void 0:l.thumbnailurl)&&(e=l.thumbnailurl),e}),[f,null==l?void 0:l.thumbnailurl]),v=e.React.useMemo((()=>({backgroundImage:"url("+b+")"})),[b]);return(0,e.jsx)("div",{role:"group",className:"thumbnail-setting mt-4 mb-4",css:be,"aria-label":r("thumbnail")},(0,e.jsx)(n.SettingRow,{label:r("thumbnail")},(0,e.jsx)(t.Button,{tag:"div",size:"sm",title:r("browse"),className:"thumbnail-button jimu-interactive-node"},r("browse"),(0,e.jsx)("input",{type:"file",accept:"image/*",className:"thumbnail-input","aria-label":r("browse"),onChange:g})),(0,e.jsx)(t.AlertPopup,{isOpen:c,hideCancel:!0,toggle:m},(0,e.jsx)("div",{className:"align-middle pt-2"},(0,e.jsx)(oe,{className:"mr-2 align-middle",size:24,color:"var(--sys-color-warning-main)"}),(0,e.jsx)("span",{className:"align-middle"},d)))),(0,e.jsx)(n.SettingRow,null,(0,e.jsx)("div",{className:"thumbnail-image w-100",style:v})))}var he=p(5809);function xe(t){const{favicon:a,translate:l}=t,[i,o]=e.React.useState((null==a?void 0:a.asMutable({deep:!0}))||null),s=e.React.useMemo((()=>({color:!0})),[]);e.React.useEffect((()=>{const e=(null==a?void 0:a.asMutable({deep:!0}))||null;i!==e&&o(e)}),[a]);const r=e.hooks.useEventCallback((e=>{H("favicon",null==e?void 0:e.asMutable({deep:!0}))}));return(0,e.jsx)(n.SettingRow,{role:"group",label:l("favicon"),"aria-label":l("favicon")},(0,e.jsx)(he.IconPicker,{previewOptions:s,configurableOption:"color",setButtonUseColor:!1,className:"flex-none",icon:i,onChange:r}))}var we=p(8547),je=p.n(we),ye=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const Se=t=>{const a=window.SVG,{className:n}=t,l=ye(t,["className"]),i=(0,e.classNames)("jimu-icon jimu-icon-component",n);return a?e.React.createElement(a,Object.assign({className:i,src:je()},l)):e.React.createElement("svg",Object.assign({className:i},l))};var Ce=p(9860);function Re(a){const{appItem:l,translate:i}=a,o=e.React.useMemo((()=>{var e;return(null===(e=null==l?void 0:l.tags)||void 0===e?void 0:e.asMutable())||[]}),[null==l?void 0:l.tags]),[s,r]=e.React.useState([]);e.React.useEffect((()=>{(()=>{if(window.jimuConfig.isDevEdition)return;const t=(0,e.getAppStore)().getState().user.username;Ce.appServices.getUserTags(t).then((e=>{var t;const a=null===(t=null==e?void 0:e.tags)||void 0===t?void 0:t.map((e=>e.tag));r((null==a?void 0:a.filter((e=>e)))||[])}))})()}),[]);const c=e.hooks.useEventCallback((e=>{if(e.length===o.length&&e.every(((e,t)=>e===o[t])))return;V(l.set("tags",e).asMutable({deep:!0}))}));return(0,e.jsx)(n.SettingRow,{label:i("tags"),flow:"wrap"},(0,e.jsx)(t.TagInput,{values:o,suggestions:s,onChange:c,name:i("tagsLowerCase"),maxListHeight:80,"aria-label":i("tags")}))}const Ie=(0,l.styled)(t.Modal)`
  max-width: 640px !important;
`;function Ne(a){const{appItem:l,translate:i}=a,o=e.ReactRedux.useSelector((t=>e.portalUtils.shouldShowClassificationConfig(t))),[s,r]=e.React.useState(null),[p,d]=e.React.useState(!0),[u,m]=e.React.useState(null),[g,f]=e.React.useState(),[b,v]=e.React.useState(!1),h=()=>{v(!1)};return(0,e.jsx)(e.React.Fragment,null,o&&(0,e.jsx)(n.SettingRow,{className:"mt-4 justify-content-between",label:i("classification"),"aria-label":i("classification"),flow:"no-wrap"},(0,e.jsx)(t.Button,{"aria-label":i("edit"),icon:!0,onClick:()=>{var t;v(!0),f(null===(t=l.classification)||void 0===t?void 0:t.asMutable({deep:!0})),s||(0,e.loadArcGISJSAPIModule)("esri/kernel").then((t=>{t&&e.moduleLoader.loadModule("jimu-ui/advanced/portal-components").then(r)})).catch((e=>{console.error("loadArcGISJSAPIModule error",e)}))},type:"tertiary",size:"sm",className:"p-0 b-0"},(0,e.jsx)(c,null))),(null==s?void 0:s.ClassificationConfigModalContent)&&(0,e.jsx)(Ie,{isOpen:b,centered:!0,onClosed:h,returnFocusAfterClose:!0,"aria-label":i("classification")},(0,e.jsx)(t.ModalHeader,{toggle:h},i("classification")),(0,e.jsx)(t.ModalBody,{className:"pb-0"},(0,e.jsx)(s.ClassificationConfigModalContent,{values:g,showHeader:!1,portalItemId:l.id,onChange:(e,t)=>{d(e),m(t)}})),(0,e.jsx)(t.ModalFooter,null,(0,e.jsx)(t.Button,{onClick:()=>{V(l.set("classification",u).asMutable({deep:!0})),h()},type:"primary",disabled:!p},i("ok")),(0,e.jsx)(t.Button,{onClick:h},i("cancel")))))}function ke(l){const{portalUrl:i,context:o}=l,s=o.folderUrl,[r,c]=e.React.useState(0),p=e.hooks.useEventCallback((()=>{c(0)})),d=e.css`
    .title {
      padding: 18px 16px 2px 16px !important;
      font-size: 1rem;
      font-weight: 500;
      color: var(--ref-palette-neutral-1000);
    }
  `,u=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appInfo})),m=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig})),g=e.ReactRedux.useSelector((e=>null==m?void 0:m.attributes)),f=window.isExpressBuilder,b=e.hooks.useTranslation(t.defaultMessages,a),v=(null==u?void 0:u.type)===ge.Template?"templateSettings":"experienceSettings";return m&&u&&(0,e.jsx)("div",{css:d,className:"jimu-widget widget-app-setting setting-pane bg-default",role:"group","aria-label":b(v)},(0,e.jsx)("div",{className:(0,e.classNames)("w-100","h-100","overflow-auto",{"d-none":0!==r})},(0,e.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-0 title"},(0,e.jsx)("div",{className:"text-truncate"},b(v))),(0,e.jsx)(n.SettingSection,null,(0,e.jsx)(xe,{favicon:null==g?void 0:g.favicon,translate:b}),(0,e.jsx)(ve,{appItem:u,stateReady:!!g,portalUrl:i,folderUrl:s,translate:b}),(0,e.jsx)(fe,{appItem:u,translate:b}),!window.jimuConfig.isDevEdition&&(0,e.jsx)(Re,{appItem:u,translate:b}),(0,e.jsx)(Ne,{appItem:u,translate:b}),!f&&m&&(0,e.jsx)(_,{timezone:null==g?void 0:g.timezone,translate:b})),(0,e.jsx)(n.SettingSection,null,(0,e.jsx)(n.SettingRow,null,(0,e.jsx)("div",{className:"d-flex justify-content-between align-items-center w-100"},(0,e.jsx)("div",null,(0,e.jsx)(Y,{className:"mr-2"}),b("stateUrlParameters")),(0,e.jsx)(t.Button,{type:"tertiary",size:"sm",icon:!0,onClick:()=>{c(1)},"aria-label":b("stateUrlParameters"),"aria-haspopup":!0},(0,e.jsx)(ae,{autoFlip:!0})))),(0,e.jsx)(n.SettingRow,{"aria-label":b("privacyAndSecurity")},(0,e.jsx)("div",{className:"d-flex justify-content-between align-items-center w-100"},(0,e.jsx)("div",null,(0,e.jsx)(Se,{className:"mr-2"}),b("privacyAndSecurity")),(0,e.jsx)(t.Button,{type:"tertiary",size:"sm",icon:!0,onClick:()=>{c(2)},"aria-label":b("privacy"),"aria-haspopup":!0},(0,e.jsx)(ae,{autoFlip:!0})))))),1===r&&(0,e.jsx)(F,{onBack:p}),2===r&&(0,e.jsx)(me,{onBack:p}))}function Oe(e){p.p=e}})(),d})())}}}));