System.register(["jimu-core","jimu-for-builder","jimu-theme","jimu-ui","jimu-ui/advanced/setting-components","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(e,t){var a={},o={},l={},n={},r={},s={},c={};return{setters:[function(e){a.CONSTANTS=e.CONSTANTS,a.Immutable=e.Immutable,a.React=e.React,a.ReactRedux=e.ReactRedux,a.ThemeThemeAlertColorKeys=e.ThemeThemeAlertColorKeys,a.ThemeThemeColorKeys=e.ThemeThemeColorKeys,a.classNames=e.classNames,a.css=e.css,a.defaultMessages=e.defaultMessages,a.focusElementInKeyboardMode=e.focusElementInKeyboardMode,a.hooks=e.hooks,a.i18n=e.i18n,a.injectIntl=e.injectIntl,a.jsx=e.jsx,a.urlUtils=e.urlUtils,a.useIntl=e.useIntl,a.utils=e.utils},function(e){o.getAppConfigAction=e.getAppConfigAction,o.helpUtils=e.helpUtils},function(e){l.BrandFunctionColorNames=e.BrandFunctionColorNames,l.DefaultThemeFonts=e.DefaultThemeFonts,l.TypographyVariants=e.TypographyVariants,l.colorUtils=e.colorUtils,l.getTheme2Module=e.getTheme2Module,l.mapping=e.mapping,l.styled=e.styled,l.useTheme=e.useTheme,l.useTheme2=e.useTheme2,l.utils=e.utils},function(e){n.AlertPopup=e.AlertPopup,n.Button=e.Button,n.Checkbox=e.Checkbox,n.CollapsablePanel=e.CollapsablePanel,n.Dropdown=e.Dropdown,n.DropdownButton=e.DropdownButton,n.DropdownItem=e.DropdownItem,n.DropdownMenu=e.DropdownMenu,n.Label=e.Label,n.PanelHeader=e.PanelHeader,n.Popper=e.Popper,n.Slider=e.Slider,n.Switch=e.Switch,n.Tab=e.Tab,n.Tabs=e.Tabs,n.Tag=e.Tag,n.Tooltip=e.Tooltip,n.Typography=e.Typography,n.UrlInput=e.UrlInput,n.defaultMessages=e.defaultMessages,n.hooks=e.hooks,n.useTrapFocusByBoundaryNodes=e.useTrapFocusByBoundaryNodes},function(e){r.SettingRow=e.SettingRow,r.SettingSection=e.SettingSection},function(e){s.FontFamilySelector=e.FontFamilySelector},function(e){c.ColorPicker=e.ColorPicker,c.ColorStrip=e.ColorStrip,c.CompactColorSketch=e.CompactColorSketch,c.PickerBlock=e.PickerBlock,c.serializeRecentColorString=e.serializeRecentColorString,c.useColorVariableTitle=e.useColorVariableTitle}],execute:function(){e((()=>{var e={655:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .54.54 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.54.54 0 0 1 0-.738" clip-rule="evenodd"></path></svg>'},778:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.829 2.535a.909.909 0 0 0-1.657 0L2.291 13.356a.456.456 0 0 0 .831.377L4.818 10h6.365l1.696 3.733a.456.456 0 0 0 .831-.377zM5.272 9 8 3l2.729 6z" clip-rule="evenodd"></path></svg>'},996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M1 1v14h14V1zm12.562 1H2v11.423zM2.817 14H14V2.952z" clip-rule="evenodd"></path></svg>'},1888:e=>{"use strict";e.exports=l},2046:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11.227 1.312c-.404-.404-1.045-.417-1.432-.03L2.49 8.587l-.48 2.674a.637.637 0 0 0 .73.73l2.673-.48 7.305-7.306c.387-.387.374-1.028-.03-1.431zm-8.114 9.575.32-1.781 4.991-4.992 1.462 1.462-4.992 4.991zm7.473-6.012 1.402-1.4-1.462-1.463-1.401 1.402z" clip-rule="evenodd"></path><path fill="#000" d="M1.5 14a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1z"></path></svg>'},2838:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z"></path></svg>'},2943:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4.653 13.854a.485.485 0 0 1 0-.708L10.24 8 4.653 2.854a.485.485 0 0 1 0-.708.54.54 0 0 1 .738 0l5.956 5.5a.485.485 0 0 1 0 .708l-5.956 5.5a.54.54 0 0 1-.738 0" clip-rule="evenodd"></path></svg>'},4108:e=>{"use strict";e.exports=o},4321:e=>{"use strict";e.exports=n},4337:e=>{"use strict";e.exports=c},5562:e=>{"use strict";e.exports=s},6300:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M15 7.5a.52.52 0 0 1-.516.527H2.976L6.473 11.6a.535.535 0 0 1 0 .746.51.51 0 0 1-.73 0L1 7.5l4.743-4.846a.51.51 0 0 1 .73 0 .535.535 0 0 1 0 .746L2.976 6.973h11.508c.285 0 .516.236.516.527"></path></svg>'},6745:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m1 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.676 2.228H7.34c-.213-1.138.621-2.13 1.375-3.025C9.28 6.532 9.8 5.914 9.8 5.328 9.8 4.5 9.2 3.9 7.976 3.9c-.816 0-1.572.36-2.268 1.092l-.648-.6C5.852 3.552 6.788 3 8.096 3c1.692 0 2.772.864 2.772 2.244 0 .864-.652 1.628-1.3 2.387-.71.831-1.413 1.655-1.244 2.597m.3 2.172c0 .48-.348.792-.768.792-.432 0-.78-.312-.78-.792s.348-.804.78-.804c.42 0 .768.324.768.804" clip-rule="evenodd"></path></svg>'},7213:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M16 2.443 5.851 14 0 8.115l1.45-1.538 4.31 4.334L14.463 1z" clip-rule="evenodd"></path></svg>'},9244:e=>{"use strict";e.exports=a},9298:e=>{"use strict";e.exports=r}},t={};function i(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,i),l.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var m={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(m),i.d(m,{__set_webpack_public_path__:()=>xa,default:()=>ba});var e=i(9244),t=i(4108),a=i(1888);const o=a.styled.div`
  height: 100%;
  flex: 1;
  overflow: auto;
`,l=t=>{const{active:a,children:l}=t;return e.React.createElement(o,{className:(0,e.classNames)("stepper",{"d-none":!a})},a&&l)};var n=i(4321),r=i(7213),s=i.n(r),c=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const u=t=>{const a=window.SVG,{className:o}=t,l=c(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:s()},l)):e.React.createElement("svg",Object.assign({className:n},l))},d=t=>{var a,o;const{className:l,themeInfo:r,selectedTheme:s,onSelect:c}=t,i=r.uri===s,m=null!==(o=null===(a=r.i18nLabel)||void 0===a?void 0:a[window.locale])&&void 0!==o?o:r.label,d=r.font,p=((t,a)=>e.React.useMemo((()=>{var o,l,n;return e.css`
    display: flex;
    flex-direction: column;
    align-items: center;
    > .btn {
      width: 100%;
      height:auto;
      background: var(--ref-palette-neutral-300);
      border: 2px solid transparent;
      &:hover:not(.active) {
        border: 2px solid var(--sys-color-primary-light);
      }
      &:not(:disabled):not(.disabled):active,
      &:not(:disabled):not(.disabled).active {
        background: var(--ref-palette-neutral-300);
        border: 2px solid var(--sys-color-primary-light);
      }
      > .theme-preview {
        width: 100%;
        height: 140px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        background: url(${t}) no-repeat center;
        background-size: cover;
        .theme-preview--inner {
          font-size: small;
          text-align: center;
          line-height: 1;
          > img {
            width: 100%;
          }
          label {
            margin-bottom: 0;
            line-height: 1.25;
            font-size: 1.25rem;
            font-family: ${null!==(o=null==a?void 0:a.fontFamily)&&void 0!==o?o:"inherit"};
            font-weight: ${null!==(l=null==a?void 0:a.fontWeight)&&void 0!==l?l:"inherit"};
            color: ${null!==(n=null==a?void 0:a.color)&&void 0!==n?n:"inherit"};
          }
        }
        > label {
          white-space: nowrap;
          text-overflow: ellipsis;
          overflow: hidden;
          max-width: 100%;
          margin-top: .5rem;
          margin-bottom: 1rem;
        }
      }
    }
    > label {
      margin-bottom: 0;
      margin-top: 0.25rem;
    }
    + .theme-card {
      margin-left: 1rem;
    }
    &.active {
      position: relative;
      .check-ribbon {
        position: absolute;
        padding: .25rem;
        background: var(--sys-color-primary-light);
        inline-size: inherit;
        line-height: 1;
        z-index: 1;
        right: 0px;
        top: 0px;
        color: var(--ref-palette-white);
      }
    }
  `}),[a,t]))(`${e.urlUtils.getAbsoluteRootUrl()}${r.uri}thumbnail.png`,d),h=(0,e.classNames)("theme-selector-card",l,{active:i});return(0,e.jsx)("div",{className:h,css:p},i&&(0,e.jsx)("span",{className:"check-ribbon"},(0,e.jsx)(u,{"aria-hidden":"true"})),(0,e.jsx)(n.Button,{className:"p-0",onClick:()=>{null==c||c(r.uri)},active:i,"aria-label":m,role:"radio","aria-checked":i},(0,e.jsx)("div",{className:"theme-preview",title:m},(0,e.jsx)("div",{className:"theme-preview--inner text-break"},(0,e.jsx)(n.Label,{className:"mx-4"},m)))))},p={chooseTheme:"Theme",customTheme:"Customize",resetTheme:"Reset",backToMainThemePanel:"Back",customPaletteTitle:"Customize palette colors",customAppElementsTitle:"App elements",pageBackground:"Page background",secondaryBackground:"Secondary background",primaryTip:"The main brand color used most often in the app, especially for active buttons, menus, and highlights. Three tones will be generated based on this input color to support various states and components.",secondaryTip:"A supporting color used to complement the primary color and style secondary elements. Three tones will be generated based on this input color to support various states and components.",functionalTip:"Colors used to show status like success, error, or warnings. Defaults follow common conventions and usually don\u2019t need to be changed. Three tones will be generated based on each input color to support various states and components.",neutralTip:"Neutral colors consist of a series of grays and are used in text, backgrounds, borders, dividing lines, etc.",stayTrueColorInputs:"Stay true to my color inputs",stayTrueColorInputsTip:"By default, Experience Builder generates theme color tones by adjusting your input colors above for better contrast and display. Enable this option to use your exact colors without adjustment.",advancedColorSetting:"Advanced color setting",advancedColorSettingDescription:"Change color defaults to the themed elements across your app.",pageBackgroundTip:"Uses a neutral theme color by default and applies to the page and window backgrounds.",secondaryBackgroundTip:"Uses a neutral theme color by default and applies to the background of component on top of the page, such as widget backgrounds.",actionElementDefaultTip:"Uses a neutral color by default for the normal state of interactive elements, such as unselected tabs in a menu. Hover color for such elements is automatically generated from this color.",actionElementSelectedTip:"Uses a primary color by default for selected state of components, like the active tab in a menu. Hover color for such elements is automatically generated from this color.",actionElementFocusTip:"Uses a primary color by default to indicate focus on interactive elements.",headingTip:"Heading fonts are used for titles and section headers.",paragraphTip:"Paragraph fonts are used for regular text, like descriptions or content.",labelTip:"Label fonts are used for short text on UI elements, like buttons, or form fields.",addFromGoogleFonts:"Add from Google Fonts",addAGoogleFont:"Add a Google Font",addGoogleFontTip:"You can add a font by using a Google Font static URL.",exploreGoogleFonts:"Explore all font families on Google Fonts.",googleFontPlaceholder:"Enter a Google Font URL. For example:",invalidGoogleFontTip:"Please enter a valid Google Font URL.",googleFontExistTip:"This Google Font already exists.",htmlSizeTip:"Generally control the HTML font size for all text.",borderRadiusTip:"Generally control the style of corners and edges of components \u2014like how rounded widget containers, cards, or input boxes look.",shadowTip:"Generally adds depth and layering to your app by applying shadows to elements like widgets containers, pop-ups, or buttons.",buttonTip:"Customize the color and shape of primary and default buttons. By default, primary buttons use the primary theme color, while default buttons use the default state color of action elements.",linkTip:"Customize the color and style of links. By default links use primary theme color."};var h=i(6745),f=i.n(h),g=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const v=t=>{const a=window.SVG,{className:o}=t,l=g(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:f()},l)):e.React.createElement("svg",Object.assign({className:n},l))},y=e.React.forwardRef(((a,o)=>{const l=e.hooks.useTranslation(p,n.defaultMessages),r=(0,e.useIntl)(),s=l("chooseTheme"),c=l("help"),[i,m]=e.React.useState("#");return e.React.useEffect((()=>{t.helpUtils.getBuildAppsHelpLink("change-app-theme").then((e=>{m(e)}))}),[]),e.React.createElement("div",{className:"d-flex justify-content-between align-items-center w-100"},e.React.createElement("div",{className:"title text-truncate mr-2",title:s},s),e.React.createElement(n.Button,{ref:o,size:"sm",variant:"text",icon:!0,title:c,"aria-label":c,href:i,target:"_blank",disableRipple:!0,disableHoverEffect:!0,className:(0,e.classNames)("theme-help-link p-0")},e.React.createElement(v,{autoFlip:!e.i18n.isSameLanguage(null==r?void 0:r.locale,"he")})))})),b=a.styled.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  .themes-pane {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: auto;
    flex: 1 1 0%;
    > .themes-selectors {
      display: flex;
      flex-direction: column;
      > .theme-selector-card + .theme-selector-card {
        margin-top: 1rem;
      }
    }
  }
  > .btn-container {
    display: flex;
    > button {
      font-size: 1rem;
    }
  }
  .theme-help-link {
    color: var(--ref-palette-neutral-1000);
  }
  .theme-help-link:hover {
    color: var(--ref-palette-black);
  }
`,x=t=>{const{className:a,themeListInfo:o,disabled:l,selectedTheme:r,onChange:s,onCustomize:c}=t,i=e.hooks.useTranslation(p,n.defaultMessages),m=e.React.useMemo((()=>o.filter((e=>!e.isNewTheme))),[o]);return e.React.createElement(b,{className:(0,e.classNames)("classic-theme-selector",a)},e.React.createElement(n.PanelHeader,{className:"px-4 pt-4",title:e.React.createElement(y,null),showClose:!1}),m&&e.React.createElement("div",{className:"themes-pane px-4 mt-4"},e.React.createElement("div",{className:"themes-selectors",role:"radiogroup","aria-label":i("chooseTheme")},m.map((t=>e.React.createElement(d,{key:t.name,selectedTheme:r,themeInfo:t,onSelect:s}))))),m&&e.React.createElement("div",{className:"btn-container w-100 p-4"},e.React.createElement(n.Button,{type:"primary",className:"flex-fill theme-setting--customize-btn text-truncate",onClick:()=>{null==c||c(r)},disabled:l,"aria-label":i("customTheme")},i("customTheme"))),!m&&e.React.createElement("div",{className:"loading"},i("loading")))},R=a.styled.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  .themes-pane {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: auto;
    flex: 1 1 0%;
    > .themes-selectors {
      display: flex;
      flex-direction: column;
      > .theme-selector-card + .theme-selector-card {
        margin-top: 1rem;
      }
    }
  }
  > .btn-container {
    display: flex;
    > button {
      font-size: 1rem;
    }
  }
  .theme-help-link {
    color: var(--ref-palette-neutral-1000);
  }
  .theme-help-link:hover {
    color: var(--ref-palette-black);
  }
`,w=t=>{const{className:a,themeListInfo:o,disabled:l,selectedTheme:r,onChange:s,onCustomize:c}=t,i=e.hooks.useTranslation(p,n.defaultMessages),m=e.React.useMemo((()=>o.filter((e=>e.isNewTheme))),[o]);return e.React.createElement(R,{className:(0,e.classNames)("new-theme-selector",a)},e.React.createElement(n.PanelHeader,{className:"px-4 pt-4",title:e.React.createElement(y,null),showClose:!1}),m&&e.React.createElement("div",{className:"themes-pane px-4 mt-4"},e.React.createElement("div",{className:"themes-selectors",role:"radiogroup","aria-label":i("chooseTheme")},m.map((t=>e.React.createElement(d,{key:t.name,selectedTheme:r,themeInfo:t,onSelect:s}))))),m&&e.React.createElement("div",{className:"btn-container w-100 p-4"},e.React.createElement(n.Button,{type:"primary",className:"flex-fill theme-setting--customize-btn text-truncate",onClick:()=>{null==c||c(r)},disabled:l,"aria-label":i("customTheme")},i("customTheme"))),!m&&e.React.createElement("div",{className:"loading"},i("loading")))},C=t=>{const{className:a,themeListInfo:o,disabled:l,selectedTheme:r,onChange:s,onCustomize:c}=t,i=n.hooks.useNewThemeFeatures(!1),m=()=>{null==c||c(r)};return e.React.createElement(e.React.Fragment,null,!i&&e.React.createElement(x,{className:(0,e.classNames)("theme-selector",a),themeListInfo:o,selectedTheme:r,onChange:s,disabled:l,onCustomize:m}),i&&e.React.createElement(w,{className:(0,e.classNames)("theme-selector",a),themeListInfo:o,selectedTheme:r,onChange:s,disabled:l,onCustomize:m}))};var E=i(9298),N=i(2046),O=i.n(N),T=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const k=t=>{const a=window.SVG,{className:o}=t,l=T(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:O()},l)):e.React.createElement("svg",Object.assign({className:n},l))};var S=i(4337),j=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const I=(0,a.styled)(S.ColorPicker)((e=>{var t;return`\n    width: 3rem;\n    height: 3rem;\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.15);\n    transition: box-shadow 0.15s ease-out;\n    border-radius: 100%;\n    outline: 0;\n    color: white;\n    background-color: ${null!==(t=e.color)&&void 0!==t?t:"var(--light-500)"};\n    &:hover {\n      box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.5);\n    }\n  `})),P=t=>{const{className:a}=t,o=j(t,["className"]),l=(0,e.classNames)(a,"primary-color-picker");return e.React.createElement(I,Object.assign({className:l,icon:e.React.createElement(k,null),type:"icon-only"},o))},M=t=>{const{className:a,label:o,value:l,onChange:n}=t,r=(0,e.classNames)("single-color-configurator",a,"d-flex flex-column");return e.React.createElement("div",{className:r},e.React.createElement("div",{className:"jumbo-color-picker"},e.React.createElement(P,{className:"mx-auto mb-2",color:l,"aria-label":o,onChange:n})),e.React.createElement("label",null,o))};var F=i(5562);const z=a.styled.div((({theme:e})=>{var t,a,o,l,n,r,s;return`\n    position: relative;\n    padding-bottom: 1.5rem;\n    > i {\n      font-style: normal;\n      min-width: 1.25rem;\n      text-align: center;\n    }\n    .slider-rules {\n      position: absolute;\n      bottom: 0;\n      left: 2.25rem;\n      right: 2.25rem;\n      font-size: ${null===(a=null===(t=null==e?void 0:e.typography)||void 0===t?void 0:t.sizes)||void 0===a?void 0:a.body2};\n      color: ${null===(l=null===(o=null==e?void 0:e.colors)||void 0===o?void 0:o.palette)||void 0===l?void 0:l.dark[400]};\n      > span {\n        display: inline-block;\n        transform: translateX(-50%);\n        position: absolute;\n        bottom: 0;\n        &.active {\n          color: ${null===(n=null==e?void 0:e.body)||void 0===n?void 0:n.color};\n          font-size: ${null===(s=null===(r=null==e?void 0:e.typography)||void 0===r?void 0:r.sizes)||void 0===s?void 0:s.body1};\n          margin-bottom: -1px;\n        }\n      }\n    }\n  `}));class B extends e.React.PureComponent{constructor(){super(...arguments),this.onFontSizeChange=e=>{const t=e.currentTarget.value,a=this.props.options[t-1];this.props&&this.props.onChange&&this.props.onChange(a)},this.i18n=e=>{const t=this.props.intl;return t?t.formatMessage({id:e,defaultMessage:n.defaultMessages[e]}):e}}render(){const{fontSize:t,options:a,className:o}=this.props,l=(0,e.classNames)("setting--fontsize-selector",o,"d-flex align-items-center"),r=null===window||void 0===window?void 0:window._appState.appContext.isRTL,s=a?a.length:1,c=a.length>1?100/(a.length-1):0;let i=1;return a&&a.some(((e,a)=>e===t&&(i=a+1,!0))),e.React.createElement(z,{className:l},(null==a?void 0:a.length)>0?e.React.createElement(e.React.Fragment,null,e.React.createElement("i",{style:{fontSize:"12px"}},"A"),e.React.createElement(n.Slider,{title:this.i18n("variableFontSizeBase"),"aria-label":this.i18n("variableFontSizeBase"),min:1,max:s,value:i,className:"mx-4",onChange:this.onFontSizeChange}),e.React.createElement("div",{className:"slider-rules"},a.map(((t,a)=>e.React.createElement("span",{key:a,className:i===a+1?"active":void 0,style:{[r?"right":"left"]:a*c+"%"}},e.utils.formatPercentageNumber(t))))),e.React.createElement("i",{style:{fontSize:"18px"}},"A")):null)}}B.defaultProps={options:["87.5%","100%","125%"]};const A=(0,e.injectIntl)(B),D=["75%","87.5%","100%","125%"];class $ extends e.React.PureComponent{constructor(){super(...arguments),this.onFontChange=e=>{this.props.onChange({typography:{fontFamilyBase:e}})},this.onFontSizeChange=e=>{this.props.onChange({typography:{fontSizeRoot:e}})},this.i18n=e=>{const t=this.props.intl;return t?t.formatMessage({id:e,defaultMessage:n.defaultMessages[e]}):e}}render(){var t,a;const{className:o,themeVariables:l}=this.props,n=(0,e.classNames)("jimu-builder-theme-fontset-configurator",o,"w-100");let r=null===(t=null==l?void 0:l.typography)||void 0===t?void 0:t.fontFamilyBase;return"string"==typeof r&&(r=r.split(",")[0].replace(/['"]+/g,"")),e.React.createElement("div",{className:n},e.React.createElement(E.SettingRow,null,e.React.createElement(F.FontFamilySelector,{font:r,"aria-label":this.i18n("themeSettingThemeFont"),onChange:e=>{this.onFontChange(e)}})),e.React.createElement(E.SettingRow,null,e.React.createElement(A,{className:"w-100",fontSize:null===(a=null==l?void 0:l.typography)||void 0===a?void 0:a.fontSizeRoot,options:D,onChange:e=>{this.onFontSizeChange(e)}})))}}const L=(0,e.injectIntl)($);var V=i(2943),U=i.n(V),G=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const K=t=>{const a=window.SVG,{className:o}=t,l=G(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:U()},l)):e.React.createElement("svg",Object.assign({className:n},l))};var _=i(6300),H=i.n(_),W=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const q=t=>{const a=window.SVG,{className:o}=t,l=W(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:H()},l)):e.React.createElement("svg",Object.assign({className:n},l))},X=a.styled.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  .theme-quick-style {
    height: 100%;
    flex: 1 1 0%;
    overflow: auto;
  }
  .back-main-btn {
    font-size: 1rem;
    font-weight: 500;
    > svg {
      position: relative;
      top: -2px;
    }
  }
  .focus-indicator {
    width: unset;
    height: unset;
    padding: 0px;
    border-radius: 100%;
    .color-block {
      width: unset;
      height: unset;
      border-radius: 100%;
      .color-presenter {
        width: 20px;
        height: 20px;
        border-width: 0;
        border-radius: 100%;
        outline: 1px solid rgba(255,255,255, 0.15);
        margin: -2px;
      }
    }
  }
`,Y=t=>{var a,o;const{className:l,theme:r,onChange:s,onReset:c,onBack:i,onAdvance:m}=t,u=e.hooks.useTranslation(p,n.defaultMessages),d=(0,e.classNames)("jimu-builder-theme-quickstyler",l),h=e.React.useRef(null),f=e.React.useRef(null);e.React.useEffect((()=>{(0,e.focusElementInKeyboardMode)(h.current)}),[]),(0,n.useTrapFocusByBoundaryNodes)(h,f);return e.React.createElement(X,{className:d},e.React.createElement("div",{className:"jimu-widget-setting--header px-1 pb-0"},e.React.createElement(n.Button,{ref:h,className:"back-main-btn",type:"tertiary",onClick:i,"aria-label":u("backToMainThemePanel")},e.React.createElement(q,{className:"mr-1",autoFlip:!0}),u("backToMainThemePanel"))),r&&e.React.createElement(e.React.Fragment,null,e.React.createElement("div",{className:"theme-quick-style"},e.React.createElement(E.SettingSection,{title:u("themeSettingThemeColors"),role:"group","aria-label":u("themeSettingThemeColors")},e.React.createElement(E.SettingRow,{flow:"wrap",className:"justify-content-center"},e.React.createElement(M,{label:u("variableColorPrimary"),"aria-label":u("variableColorPrimary"),value:null===(a=null==r?void 0:r.colors)||void 0===a?void 0:a.primary,className:"m-auto",onChange:e=>{((e,t)=>{null==s||s({colors:{[e]:t}})})("primary",e)}})),e.React.createElement(E.SettingRow,null,e.React.createElement(n.Button,{type:"tertiary",className:"w-100 p-0 d-flex justify-content-between align-items-center",onClick:m,"aria-label":u("themeSettingThemeColorAdvanced")},u("themeSettingThemeColorAdvanced"),e.React.createElement(K,{className:"m-0",autoFlip:!0}))),e.React.createElement(E.SettingRow,{label:u("focusIndicator")},e.React.createElement(S.ColorPicker,{className:"focus-indicator ml-3",placement:"right-end",color:null===(o=null==r?void 0:r.focusedStyles)||void 0===o?void 0:o.color,title:u("focusIndicator"),"aria-label":u("focusIndicator"),onChange:e=>{var t,a;t="color",a=e,null==s||s({focusedStyles:{[t]:a}})}}))),e.React.createElement(E.SettingSection,{title:u("themeSettingThemeFont")},e.React.createElement(E.SettingRow,null,e.React.createElement(L,{themeVariables:r,onChange:s})))),e.React.createElement(E.SettingSection,{className:"d-flex"},e.React.createElement(n.Button,{ref:f,className:"flex-fill",type:"secondary",onClick:c,"aria-label":u("resetTheme")},u("resetTheme")))))};var J=i(655),Q=i.n(J),Z=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const ee=t=>{const a=window.SVG,{className:o}=t,l=Z(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:Q()},l)):e.React.createElement("svg",Object.assign({className:n},l))},te=a.styled.div((({color:e})=>`\n    width: 2rem;\n    height: 1.25rem;\n    background: ${e};\n    margin-left: -1px;\n  `)),ae=t=>{const{colors:a,hideAlertColors:o,darkTheme:l}=t,n=e.React.useMemo((()=>{const t=[];let n,r;return Object.keys(e.ThemeThemeColorKeys).forEach(((l,s)=>{const c=Object.keys(e.ThemeThemeAlertColorKeys);o&&c.includes(l)||("Dark"===l?n=s:"Light"===l&&(r=s),t.push(e.React.createElement(te,{key:l,className:"color-palette-block border border-light-800",color:a[e.ThemeThemeColorKeys[l]]})))})),l&&n>-1&&r>-1&&([t[n],t[r]]=[t[r],t[n]]),t}),[a,l,o]);return e.React.createElement(e.React.Fragment,null,a?e.React.createElement("div",{className:"color-palette d-flex flex-fill"},n):e.React.createElement("span",null,"---"))};class oe extends e.React.PureComponent{constructor(t){super(t),this._optionsToKeep=(0,e.Immutable)([]),this.getColorPaletteOptions=t=>{const a=[];let o=!1;const l=this.props.isDarkTheme;if(l&&(t=t.merge({light:t.dark,dark:t.light})),this._optionsToKeep.concat(le).forEach(((r,s)=>{const c=t.merge(r);let i=!1;o||(o=this.arePalettesEqual(t,c),o&&(i=!0)),a.push(e.React.createElement(n.DropdownItem,{className:"py-2",onClick:()=>{this.onPaletteClick(c)},key:s+1,active:i,"aria-label":`${this.i18n("customColors")} ${s+1}`},e.React.createElement(ae,{colors:c,hideAlertColors:!1,darkTheme:l})))})),!o){const o=e.React.createElement(n.DropdownItem,{className:"py-2",onClick:()=>{this.onPaletteClick(t)},key:0,active:!0},e.React.createElement(ae,{colors:t,hideAlertColors:!1,darkTheme:l}));a.splice(0,0,o),this._optionsToKeep=(0,e.Immutable)([t])}return a},this.i18n=e=>{const t=this.props.intl;return t?t.formatMessage({id:e,defaultMessage:n.defaultMessages[e]}):e},this.state={menuOpened:!1}}onPaletteClick(e){this.props&&this.props.onChange&&this.props.onChange(e)}arePalettesEqual(e,t){if(!e||!t)return!1;return!Object.keys(e).some((a=>e[a].toLowerCase()!==t[a].toLowerCase()))}render(){const{colors:t,className:a,style:o}=this.props,l=(0,e.classNames)("setting--palette-selector",a);return e.React.createElement(n.Dropdown,{style:o,direction:"right",menuRole:"listbox",isOpen:this.state.menuOpened,toggle:e=>{this.setState({menuOpened:!this.state.menuOpened})},className:l,activeIcon:!0,menuItemCheckMode:"singleCheck","aria-label":this.i18n("variableCustomPalette")},e.React.createElement(n.DropdownButton,{type:"tertiary",className:"p-0",role:"combobox",arrow:e.React.createElement(ee,null)}),e.React.createElement(n.DropdownMenu,null,this.getColorPaletteOptions(t)))}}const le=(0,e.Immutable)([{primary:"#0a77c6",secondary:"#ecf1f8",info:"#4aa0e2",success:"#7ed321",warning:"#f8e71c",danger:"#f6143a",light:"#f8f8f8",dark:"#080808"},{primary:"#ff7121",secondary:"#2d1754",info:"#09acf8",success:"#00cca5",warning:"#ffab21",danger:"#f6146f",light:"#fff",dark:"#333"},{primary:"#21cfca",secondary:"#242933",info:"#00b7ff",success:"#07ea58",warning:"#f8e71c",danger:"#d0021b",light:"#fff",dark:"#000"},{primary:"#f74d61",secondary:"#153054",info:"#00b7ff",success:"#07ea58",warning:"#f8e71c",danger:"#ff001f",light:"#fff",dark:"#111"},{primary:"#4ccded",secondary:"#1b476d",info:"#00b7ff",success:"#07ea58",warning:"#f8e71c",danger:"#d0021b",light:"#fff",dark:"#111"},{primary:"#442b57",secondary:"#ffd11c",info:"#09acf8",success:"#00cca5",warning:"#ffab21",danger:"#f6146f",light:"#fff",dark:"#2d3235"}]),ne=(0,e.injectIntl)(oe);var re=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const se=(0,a.styled)("div",{shouldForwardProp:e=>"color"!==e})((t=>e.css`
    width: 20px;
    height: 28px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    color: ${t.color};
    .color-picker-block {
      width: unset;
      height: unset;
      padding: 0px;
      border-radius: 100%;
      .color-block {
        border-radius: 100%;
        width: unset;
        height: unset;
        .color-presenter {
          outline: 1px solid rgba(255,255,255, 0.15);
          transition: outline .15s ease-out;
          border-radius: 100%;
          margin: -2px;
          width: 20px;
          height: 20px;
          border-width: 0;
          &:hover {
            outline: 3px solid rgba(255,255,255,.5);
          }
        }
      }
    }
    .cert {
      display: block;
      width: 0;
      height: 0;
      border: 5px solid transparent;
      border-top-color: currentColor;
      border-bottom-width: 0;
    }
  `)),ce=e.React.forwardRef(((t,a)=>{const{className:o,color:l}=t,n=re(t,["className","color"]);return e.React.createElement(se,{className:(0,e.classNames)("custom-color-picker",o),color:l},e.React.createElement(S.ColorPicker,Object.assign({color:l},n,{ref:a})),e.React.createElement("span",{className:"cert"}))})),ie=a.styled.div`
  display: flex;
  justify-content: space-between;
  .custom-color-picker {
    margin-right: 6px;
    margin-bottom: 10px;
  }
  .theme-color-configurator--shades {
    width: 1.25rem;
    border: 1px solid var(--light-500);
    > span {
      display: block;
      width: 100%;
      height: 1.25rem;
      background: currentColor;
      &.main-color-shade {
        &::after {
          content: ' ';
          display: block;
          width: 0;
          height: 0;
          border: 4px solid transparent;
          border-left-color: var(--dark-500);
          position: relative;
          left: -5px;
          top: 50%;
          transform: translateY(-50%);
        }
      }
    }
  }
`,me=t=>{const{colors:a,onChange:o}=t,l=null==a?void 0:a.palette,r=e.React.useMemo((()=>{let t=(0,e.Immutable)({});return Object.keys(e.ThemeThemeColorKeys).forEach((o=>{t=t.set(e.ThemeThemeColorKeys[o],a[e.ThemeThemeColorKeys[o]])})),t}),[a]),s=e.hooks.useTranslation(n.defaultMessages);return e.React.createElement(ie,null,Object.keys(r).map((t=>{const a=s(`variableColor${t.charAt(0).toUpperCase()+t.slice(1)}`),c="light"===t?"100":"dark"===t?"900":"500",i="string"==typeof t?s(`variableColor${t.charAt(0).toUpperCase()+t.slice(1)}`):"";return e.React.createElement("div",{className:"theme-color-configurator--column",key:t},e.React.createElement(n.Tooltip,{showArrow:!0,placement:"top",title:i},e.React.createElement(ce,{style:{color:r[t]},id:`colorConfigurator_colorPicker_${t}`,color:r[t],"aria-label":i,onChange:e=>{o(t,e)}})),e.React.createElement("div",{className:"theme-color-configurator--shades"},l&&Object.keys(l[t]).map((o=>e.React.createElement("span",{title:`${a}-${o}${o===c?` (${a})`:""}: ${l[t][o]}`,className:o===c?"main-color-shade":void 0,key:`${t}-${o}`,style:{color:l[t][o]}})))))})))},ue=a.styled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  width: 100%;
  height: 100%;
  .back-main-btn {
    font-size: 1rem;
    font-weight: 500;
    > svg {
      position: relative;
      top: -2px;
    }
  }
  .palette-selector {
    display: flex;
  }
  .setting--palette-selector {
    margin-top: -2px;
  }
`,de=t=>{const{className:a,theme:o,onChange:l,onBack:r,onReset:s}=t,c=e.React.useId(),i=e.hooks.useTranslation(p,n.defaultMessages),m=e.React.useRef(null),u=e.React.useRef(null);e.React.useEffect((()=>{(0,e.focusElementInKeyboardMode)(m.current)}),[]),(0,n.useTrapFocusByBoundaryNodes)(m,u);const d=e.React.useMemo((()=>{let t=(0,e.Immutable)({});return Object.keys(e.ThemeThemeColorKeys).forEach((a=>{t=t.set(e.ThemeThemeColorKeys[a],null==o?void 0:o.colors[e.ThemeThemeColorKeys[a]])})),t}),[null==o?void 0:o.colors]),h=(0,e.classNames)("theme-color-configurator",a);return e.React.createElement(ue,{className:h},e.React.createElement("div",{className:"jimu-widget-setting--header px-1 pb-0"},e.React.createElement(n.Button,{ref:m,className:"back-main-btn",type:"tertiary",onClick:r,"aria-label":i("backToMainThemePanel")},e.React.createElement(q,{className:"mr-1",autoFlip:!0}),i("backToMainThemePanel"))),e.React.createElement(E.SettingSection,{title:i("themeSettingThemeColors"),role:"group","aria-label":i("themeSettingThemeColors"),"aria-describedby":c,className:"widget-builder-themes--pane flex-fill"},e.React.createElement("p",{id:c,className:"text-dark-400 text-break"},i("themeSettingThemeColorsDescription")),e.React.createElement("div",{className:"palette-selector"},e.React.createElement(me,{colors:null==o?void 0:o.colors,onChange:(e,t)=>{null==l||l({colors:{[e]:t}})}}),e.React.createElement(ne,{className:"d-block",colors:d,isDarkTheme:o.darkTheme,onChange:e=>{null==l||l({colors:e})}}))),e.React.createElement(E.SettingSection,{className:"d-flex"},e.React.createElement(n.Button,{ref:u,className:"flex-fill",type:"secondary",onClick:s,"aria-label":i("resetTheme")},i("resetTheme"))))};var pe=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const he=(0,a.styled)(S.ColorPicker)((({theme:e,styleState:t})=>{const{color:a}=t;return{width:"100%",height:"20px",backgroundColor:a,borderRadius:e.sys.shape.shape1}})),fe=e.React.forwardRef(((t,a)=>{const{color:o,onChange:l,label:n}=t,r=pe(t,["color","onChange","label"]),s=e.React.useRef(null),c=e.hooks.useForkRef(s,a);return e.React.createElement(he,Object.assign({ref:c,color:o,label:n,styleState:t,icon:e.React.createElement(k,{size:"m"}),type:n?"label-icon":"icon-only",className:"widget-theme-setting-color-selector",onChange:l},r))}));var ge=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const ve=t=>{const{className:a,tooltip:o,enterDelay:l=300}=t,r=ge(t,["className","tooltip","enterDelay"]),s=(0,e.useIntl)();return e.React.createElement(n.Tooltip,Object.assign({title:o,enterDelay:l},r),e.React.createElement(n.Button,{size:"sm",variant:"text",icon:!0,className:(0,e.classNames)("p-0",a),disableRipple:!0,disableHoverEffect:!0},e.React.createElement(v,{size:"s",autoFlip:!e.i18n.isSameLanguage(null==s?void 0:s.locale,"he")})))},ye=(0,a.styled)("div")((({theme:e})=>({width:"100%",display:"flex",flexDirection:"column",".label-row-header":{width:"100%",display:"flex",alignItems:"center"},".label-row-content":{width:"100%",flexGrow:1}}))),be=t=>{const{className:a,label:o,tooltip:l,variant:r="title2",children:s}=t;return e.React.createElement(ye,{className:(0,e.classNames)("label-row",a)},e.React.createElement("div",{className:"label-row-header"},e.React.createElement(n.Typography,{variant:r},o),l&&e.React.createElement(ve,{className:"ml-2",tooltip:l})),e.React.createElement("div",{className:"label-row-content mt-2"},s))};var xe=i(778),Re=i.n(xe),we=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Ce=t=>{const a=window.SVG,{className:o}=t,l=we(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:Re()},l)):e.React.createElement("svg",Object.assign({className:n},l))},Ee={light:0,main:1,dark:2,text:3},Ne=(0,a.styled)("div")((({styleState:e})=>({display:"flex",gap:`${e.gap}px`,height:"8px","> div":{flex:"1 1 auto"}}))),Oe=t=>{const{className:a,gap:o=1,value:l}=t,n=Object.assign({gap:o},t);return e.React.createElement(Ne,{className:(0,e.classNames)("color-setting-color-strip",a),styleState:n},(r=Object.entries(l),r.sort(((e,t)=>{var a,o;return(null!==(a=Ee[e[0]])&&void 0!==a?a:0)-(null!==(o=Ee[t[0]])&&void 0!==o?o:0)}))).map((([t,a])=>e.React.createElement("div",{key:t,title:t,style:{backgroundColor:a}}))));var r},Te=(0,a.styled)("div")((()=>({".color-setting-color-strip":{marginTop:"2px"}}))),ke=e.React.forwardRef(((t,a)=>{var o,l;const{className:n,label:r,value:s,displayValue:c,stripColors:i,onChange:m}=t,u=null!==(o=null==s?void 0:s.color)&&void 0!==o?o:null==c?void 0:c.color,d=null===(l=null==s?void 0:s.harmonize)||void 0===l||l;return e.React.createElement(Te,{ref:a,className:(0,e.classNames)("widget-theme-setting-color-setting",n)},e.React.createElement(fe,{color:u,label:r,textColor:i.text,onChange:e=>{m({color:e,harmonize:d})}}),e.React.createElement(Oe,{value:i}))})),Se=(0,a.styled)("div")((({theme:e})=>({display:"flex",alignItems:"center",padding:e.sys.spacing(1),backgroundColor:e.sys.color.action.disabled.default,borderRadius:e.sys.shape.shape1,".widget-theme-setting-color-selector":{width:"24px"},".color-setting-color-strip":{flexGrow:1}}))),je=e.React.forwardRef(((t,a)=>{var o,l;const{className:n,value:r,displayValue:s,stripColors:c,onChange:i}=t,m=null!==(o=null==r?void 0:r.color)&&void 0!==o?o:null==s?void 0:s.color,u=null===(l=null==r?void 0:r.harmonize)||void 0===l||l;return e.React.createElement(Se,{ref:a,className:(0,e.classNames)("widget-theme-setting-neutral-color-setting",n)},e.React.createElement(fe,{color:m,onChange:e=>{i({color:e,harmonize:u})}}),e.React.createElement(Oe,{className:"px-1",gap:0,value:c}))}));var Ie=i(996),Pe=i.n(Ie),Me=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Fe=t=>{const a=window.SVG,{className:o}=t,l=Me(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:Pe()},l)):e.React.createElement("svg",Object.assign({className:n},l))};var ze=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Be=(e,t)=>{if(null!=e&&""!==e)return`var(--ref-palette-${e}-${t})`},Ae=t=>{const{className:o,name:l,size:n="default",colors:r,value:s,onChange:c}=t,i=ze(t,["className","name","size","colors","value","onChange"]),m=e.hooks.useTranslation(),u=e.React.useMemo((()=>Object.entries(r).map((([e,t])=>({color:t,label:`${t}, ${m(`variableColor${a.utils.uppercaseFirstLetter(l)}`)}-${e}`,value:Be(l,e)})))),[l,r,m]);return e.React.createElement(S.ColorStrip,Object.assign({className:o,size:n,fill:!0,shape:"circular",color:s,colors:u,onChange:c},i))};var De=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const $e=(e,t)=>{if(null!=e&&""!==e)return`var(--sys-color-${e}-${t})`},Le=t=>{const{className:o,size:l="default",colorScheme:n,value:r,onChange:s}=t,c=De(t,["className","size","colorScheme","value","onChange"]),i=e.hooks.useTranslation(),m=e.React.useMemo((()=>a.BrandFunctionColorNames.map((e=>{const t=n[e].main;return{color:t,label:`${t}, ${i(`variableColor${a.utils.uppercaseFirstLetter(e)}`)}`,value:$e(e,"main")}}))),[n,i]);return e.React.createElement(S.ColorStrip,Object.assign({className:o,size:l,fill:!1,shape:"circular",color:r,colors:m,onChange:s},c))};var Ve=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Ue="exb-theme-color-picker",Ge=(0,a.styled)("div")((({theme:e})=>({width:"275px",padding:e.sys.spacing(2,4),color:e.sys.color.surface.overlayText}))),Ke=t=>{const{className:o,color:l,value:r,onReset:s,onChange:c,standardColors:i,resettable:m=!0,recentColorsVisibility:u=!0,themeMainColorVisibility:d=!0,specificTheme:p}=t,h=Ve(t,["className","color","value","onReset","onChange","standardColors","resettable","recentColorsVisibility","themeMainColorVisibility","specificTheme"]),f=e.hooks.useTranslation(n.defaultMessages),g=(0,a.useTheme2)(),v=null!=p?p:g,y=v.ref.palette,b=v.sys.color,x=e.React.useRef(r),R=e.React.useRef(!1),[w,C]=e.React.useState();e.React.useEffect((()=>{var t,a;const o=null!==(t=e.utils.readLocalStorage(Ue))&&void 0!==t?t:"",l=(""!==o?null===(a=o.split("|"))||void 0===a?void 0:a.slice(0,8):[]).map((e=>({label:e,value:e,color:e})));C(l)}),[]),e.hooks.useUnmount((()=>{if(R.current&&r!==x.current){let t=(0,S.serializeRecentColorString)(l);t=""!==t?`${l}|`+t:l,e.utils.setLocalStorage(Ue,t)}}));const E=e=>{R.current=!1,null==c||c(e)};return e.React.createElement(Ge,Object.assign({className:(0,e.classNames)("simple-theme-color-panel",o)},h),e.React.createElement(be,{label:f("themeColor"),tooltip:f("themeColorTip")},d&&e.React.createElement(Le,{value:r,colorScheme:b,onChange:E}),e.React.createElement(Ae,{className:(0,e.classNames)({"mt-3":d}),name:"neutral",size:"sm",value:r,colors:y.neutral,onChange:E})),!!(null==i?void 0:i.length)&&e.React.createElement(be,{className:"mt-3",label:f("standardColor"),tooltip:f("standardColorTip")},e.React.createElement(S.ColorStrip,{color:r,shape:"circular",onChange:c,colors:i,"aria-label":f("standardColor")})),u&&(null==w?void 0:w.length)>0&&e.React.createElement(be,{className:"mt-3",label:f("recentColor"),tooltip:f("recentColorTip")},e.React.createElement(S.ColorStrip,{color:r,shape:"circular",onChange:c,colors:w,"aria-label":f("recentColor")})),e.React.createElement(S.CompactColorSketch,{className:"mt-3",color:l,onChange:e=>{R.current=!0;const t=(e=>{if(1===e.rgb.a)return e.hex;{const t=e.rgb;return`rgba(${t.r},${t.g},${t.b},${t.a})`}})(e);null==c||c(t)}}),m&&e.React.createElement("div",{className:"d-flex justify-content-end mt-2"},e.React.createElement(n.Button,{size:"sm",variant:"text","aria-label":f("reset"),onClick:s},e.React.createElement(Fe,null),e.React.createElement(n.Typography,{className:"text-truncate"},f("reset")))))};var _e=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const He={fallbackAxisSideDirection:"start"},We=t=>{const{onReset:o,onClick:l,onChange:r,resettable:s,standardColors:c,value:i,showArrow:m=!0,title:u,placement:d="bottom","aria-label":p,themeMainColorVisibility:h=!0,specificTheme:f}=t,g=_e(t,["onReset","onClick","onChange","resettable","standardColors","value","showArrow","title","placement","aria-label","themeMainColorVisibility","specificTheme"]),v=(0,a.useTheme2)(),y=null!=f?f:v,[b,x]=e.React.useState(!1),R=e.React.useRef(null),w=e.hooks.useTranslation(n.defaultMessages),C=(0,S.useColorVariableTitle)(i),E=u||C;let N=null!=p?p:w("color");N=`${N}. ${C}`;const O=((t,o)=>e.React.useMemo((()=>a.colorUtils.parseThemeVariable(t,o)),[t,o]))(i,y);return e.React.createElement(e.React.Fragment,null,e.React.createElement(S.PickerBlock,Object.assign({ref:R},g,{title:E,color:O,onClick:e=>{x((e=>!e)),null==l||l(e)},"aria-label":N})),null!=R.current&&e.React.createElement(n.Popper,{"aria-label":w("themeColor"),flipOptions:He,arrowOptions:m,placement:d,open:b,autoUpdate:!0,reference:R.current,toggle:t=>{x((e=>!e)),"Escape"===(null==t?void 0:t.key)&&(0,e.focusElementInKeyboardMode)(R.current)}},e.React.createElement(Ke,{value:i,color:O,resettable:s,standardColors:c,specificTheme:y,recentColorsVisibility:!0,themeMainColorVisibility:h,onChange:r,onReset:o})))},qe=(0,a.styled)("div")((()=>({display:"flex",alignItems:"center",justifyContent:"space-between",".widget-theme-setting-element-color-setting-colors":{display:"flex",alignItems:"center"}}))),Xe=e.React.forwardRef(((t,o)=>{const{className:l,label:n,textColor:r,color:s,tooltip:c,supportTextColor:i=!0,themeMainColorVisibility:m=!0,onTextColorChange:u,onColorChange:d,onColorReset:p,onTextColorReset:h}=t,f=(0,a.useTheme2)();return e.React.createElement(qe,{ref:o,className:(0,e.classNames)("widget-theme-setting-element-color-setting",l)},e.React.createElement(be,{variant:"label2",label:n,tooltip:c}),e.React.createElement("div",{className:"widget-theme-setting-element-color-setting-colors"},e.React.createElement(We,{specificTheme:f,themeMainColorVisibility:m,value:s,onChange:d,onReset:p}),i&&e.React.createElement(We,{specificTheme:f,themeMainColorVisibility:m,className:"ml-1",value:r,type:"with-icon",icon:e.React.createElement(Ce,{size:"s"}),onChange:u,onReset:h})))}));var Ye=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Je=t=>{const{className:a,label:o,wrap:l,tooltip:r}=t;return e.React.createElement("div",{className:(0,e.classNames)("tooltip-collapse-header d-flex align-items-center",a)},e.React.createElement(n.Typography,{className:(0,e.classNames)("title",{"text-truncate":!l}),variant:"title2"},o),r&&e.React.createElement(ve,{className:"ml-2",tooltip:r}))},Qe=(0,a.styled)(n.CollapsablePanel)({".collapse-label":{maxWidth:"calc(100% - 22px)"}}),Ze=t=>{const{label:a,tooltip:o,wrap:l}=t,n=Ye(t,["label","tooltip","wrap"]),r=e.React.createElement(Je,{label:a,tooltip:o,wrap:l});return e.React.createElement(Qe,Object.assign({label:r},n))},et=t=>{const{className:o,thickness:l="1px",style:n}=t,r=(0,a.useTheme)();return e.React.createElement("hr",{className:(0,e.classNames)("widget-theme-setting-divider",o),style:Object.assign({border:"none",borderTop:`${l} solid ${r.sys.color.divider.primary}`,margin:r.sys.spacing(3,0)},n)})},tt=(0,e.Immutable)({}),at=(0,e.Immutable)({}),ot=(0,e.Immutable)({}),lt=(0,e.Immutable)({}),nt=(0,e.Immutable)({}),rt=(0,e.Immutable)({}),st=(0,e.Immutable)({}),ct=(0,e.Immutable)({}),it=(0,e.Immutable)({}),mt=(0,e.Immutable)({}),ut=(0,e.Immutable)({}),dt=(0,e.Immutable)({}),pt=(0,e.Immutable)({}),ht=(0,e.Immutable)({}),ft=(0,e.Immutable)({}),gt={sys:{color:{mode:"light",light:{surface:{background:"var(--ref-palette-neutral-300)",backgroundText:"var(--ref-palette-neutral-1300)",paper:"var(--ref-palette-neutral-200)",paperText:"var(--ref-palette-neutral-1000)",overlay:"var(--ref-palette-neutral-100)",overlayText:"var(--ref-palette-neutral-1100)"},divider:{primary:"var(--ref-palette-neutral-600)",secondary:"var(--ref-palette-neutral-500)",tertiary:"var(--ref-palette-neutral-400)",input:"var(--ref-palette-neutral-600)",switch:"var(--ref-palette-neutral-700)"},action:{default:"var(--ref-palette-neutral-200)",hover:"var(--ref-palette-neutral-400)",pressed:"var(--ref-palette-neutral-500)",text:"var(--ref-palette-neutral-1300)",disabled:{default:"var(--ref-palette-neutral-400)",text:"var(--ref-palette-neutral-600)"},focus:"var(--sys-color-primary-light)",selected:{default:"var(--sys-color-primary-main)",hover:"var(--sys-color-primary-dark)",text:"var(--sys-color-primary-text)"},link:{default:"var(--sys-color-primary-main)",hover:"var(--sys-color-primary-dark)",visited:"var(--ref-palette-neutral-1000)"}}},dark:{surface:{background:"var(--ref-palette-neutral-1200)",backgroundText:"var(--ref-palette-neutral-300)",paper:"var(--ref-palette-neutral-1100)",paperText:"var(--ref-palette-neutral-200)",overlay:"var(--ref-palette-neutral-1000)",overlayText:"var(--ref-palette-neutral-100)"},divider:{primary:"var(--ref-palette-neutral-700)",secondary:"var(--ref-palette-neutral-800)",tertiary:"var(--ref-palette-neutral-900)",input:"var(--ref-palette-neutral-700)",switch:"var(--ref-palette-neutral-600)"},action:{default:"var(--ref-palette-neutral-700)",hover:"var(--ref-palette-neutral-600)",pressed:"var(--ref-palette-neutral-900)",text:"var(--ref-palette-neutral-100)",disabled:{default:"var(--ref-palette-neutral-800)",text:"var(--ref-palette-neutral-600)"},focus:"var(--sys-color-primary-light)",selected:{default:"var(--sys-color-primary-main)",hover:"var(--sys-color-primary-dark)",text:"var(--sys-color-primary-text)"},link:{default:"var(--sys-color-primary-main)",hover:"var(--sys-color-primary-dark)",visited:"var(--ref-palette-neutral-1000)"}}}}},mixin:{header:{bg:"var(--sys-color-primary-main)",color:"var(--sys-color-primary-text)"},footer:{bg:"var(--sys-color-surface-background)",color:"var(--sys-color-surface-background-text)"}}},vt=t=>{var o,l,r,s,c,i,m,u,d,h,f,g,v,y,b,x,R;const{className:w,onChange:C}=t,E=e.hooks.useTranslation(n.defaultMessages,p),N=(0,a.useTheme2)(),O=N.sys.color.mode,T=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),k=null!==(o=null==T?void 0:T.sys)&&void 0!==o?o:ot,S=null===(l=T.mixin)||void 0===l?void 0:l.header,j=null===(r=T.mixin)||void 0===r?void 0:r.footer,I=null!==(m=null===(i=null===(c=null===(s=T.sys)||void 0===s?void 0:s.color)||void 0===c?void 0:c[O])||void 0===i?void 0:i.surface)&&void 0!==m?m:mt;let P=null!==(u=k.color)&&void 0!==u?u:rt,M=null!==(d=T.mixin)&&void 0!==d?d:it;const F=(t,o,l)=>{var n,r,s;if("color"===o){const e=a.colorUtils.getReadableThemeColor(l,N);M=M.set(t,{bg:l,color:e})}else M=M.set(t,null!==(s=null===(r=null===(n=T.mixin)||void 0===n?void 0:n[t])||void 0===r?void 0:r.set(o,l))&&void 0!==s?s:(0,e.Immutable)({[o]:l}));const c=T.set("mixin",M);null==C||C(c.asMutable({deep:!0}))},z=(e,t)=>{if(!M[e])return;let a;if("color"===t)a=M.without(e);else if("text"===t){if(!M[e].color)return;a=M.set(e,M[e].without("color"))}const o=T.set("mixin",a);null==C||C(o.asMutable({deep:!0}))},B=(e,t,o)=>{P.mode||(P=P.set("mode",O));let l=null;if("color"===t){const t=a.colorUtils.getReadableThemeColor(o,N),n=a.colorUtils.lightenTextColor(t,N);l=I.set(e,o).set(`${e}Text`,t).set(`${e}Hint`,n)}else{const t=a.colorUtils.lightenTextColor(o,N);l=I.set(`${e}Text`,o).set(`${e}Hint`,t)}P=P.setIn([O,"surface"],l);const n=T.set("sys",k.set("color",P));C(n.asMutable({deep:!0}))},A=(e,t)=>{let a;if("color"===t){if(!I[e])return;a=I.without(e).without(`${e}Text`)}else if("text"===t){if(!I[`${e}Text`])return;a=I.without(`${e}Text`)}P=P.setIn([O,"surface"],a);const o=T.set("sys",k.set("color",P));C(o.asMutable({deep:!0}))};return e.React.createElement(n.CollapsablePanel,{className:(0,e.classNames)("widget-theme-setting-background-setting",w),label:E("background")},e.React.createElement(Xe,{className:"mt-2",label:E("themeHeader"),textColor:null!==(h=null==S?void 0:S.color)&&void 0!==h?h:gt.mixin.header.color,color:null!==(f=null==S?void 0:S.bg)&&void 0!==f?f:gt.mixin.header.bg,onColorReset:()=>{z("header","color")},onTextColorReset:()=>{z("header","text")},onColorChange:e=>{F("header","color",e)},onTextColorChange:e=>{F("header","text",e)}}),e.React.createElement(Xe,{className:"mt-2",themeMainColorVisibility:!1,label:E("pageBackground"),tooltip:E("pageBackgroundTip"),color:null!==(g=null==I?void 0:I.background)&&void 0!==g?g:gt.sys.color[O].surface.background,textColor:null!==(v=null==I?void 0:I.backgroundText)&&void 0!==v?v:gt.sys.color[O].surface.backgroundText,onColorReset:()=>{A("background","color")},onTextColorReset:()=>{A("background","text")},onColorChange:e=>{B("background","color",e)},onTextColorChange:e=>{B("background","text",e)}}),e.React.createElement(Xe,{className:"mt-2",themeMainColorVisibility:!1,label:E("secondaryBackground"),tooltip:E("secondaryBackgroundTip"),color:null!==(y=null==I?void 0:I.paper)&&void 0!==y?y:gt.sys.color[O].surface.paper,textColor:null!==(b=null==I?void 0:I.paperText)&&void 0!==b?b:gt.sys.color[O].surface.paperText,onColorReset:()=>{A("paper","color")},onTextColorReset:()=>{A("paper","text")},onColorChange:e=>{B("paper","color",e)},onTextColorChange:e=>{B("paper","text",e)}}),e.React.createElement(Xe,{className:"mt-2",label:E("themeFooter"),color:null!==(x=null==j?void 0:j.bg)&&void 0!==x?x:gt.sys.color[O].surface.background,textColor:null!==(R=null==j?void 0:j.color)&&void 0!==R?R:gt.sys.color[O].surface.backgroundText,onColorReset:()=>{z("footer","color")},onTextColorReset:()=>{z("footer","text")},onColorChange:e=>{F("footer","color",e)},onTextColorChange:e=>{F("footer","text",e)}}))},yt=(0,e.Immutable)({}),bt=t=>{var o,l,r,s,c,i,m,u,d,h,f,g;const{className:v,onChange:y}=t,b=e.hooks.useTranslation(n.defaultMessages,p),x=(0,a.useTheme2)(),R=x.sys.color.mode,w=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),C=null!==(o=null==w?void 0:w.sys)&&void 0!==o?o:ot;let E=null!==(l=C.color)&&void 0!==l?l:rt;const N=null!==(c=null===(s=null===(r=null==C?void 0:C.color)||void 0===r?void 0:r[R])||void 0===s?void 0:s.action)&&void 0!==c?c:ct,O=(e,t,o)=>{if(E.mode||(E=E.set("mode",R)),"default"===e)if("color"===t){const e=a.colorUtils.augmentThemeColor(o,x),t=N.set("default",o).set("hover",e.light).set("text",e.text);E=E.setIn([R,"action"],t)}else E=E.setIn([R,"action","text"],o);else if("focus"===e)E=E.setIn([R,"action","focus"],o);else if("selected"===e)if("color"===t){const e=a.colorUtils.augmentThemeColor(o,x),t={default:o,hover:e.light,text:e.text};E=E.setIn([R,"action","selected"],t)}else E=E.setIn([R,"action","selected","text"],o);const l=w.set("sys",C.set("color",E));y(l.asMutable({deep:!0}))},T=(e,t)=>{var a;if(!N[e])return;let o;if("default"===e)"color"===t?o=N.without("default").without("text").without("hover"):"text"===t&&(o=N.without("text"));else if("selected"===e){if("color"===t)o=N.without("selected");else if("text"===t){const e=null!==(a=N.selected)&&void 0!==a?a:yt;o=N.set("selected",e.without("text"))}}else"focus"===e&&(o=N.without("focus"));E=E.setIn([R,"action"],o);const l=w.set("sys",C.set("color",E));y(l.asMutable({deep:!0}))};return e.React.createElement(n.CollapsablePanel,{className:(0,e.classNames)("widget-theme-setting-action-element-setting",v),label:b("actionElement")},e.React.createElement(Xe,{className:"mt-2",label:b("default"),tooltip:b("actionElementDefaultTip"),textColor:null!==(i=null==N?void 0:N.text)&&void 0!==i?i:gt.sys.color[R].action.text,color:null!==(m=null==N?void 0:N.default)&&void 0!==m?m:gt.sys.color[R].action.default,onColorReset:()=>{T("default","color")},onTextColorReset:()=>{T("default","text")},onColorChange:e=>{O("default","color",e)},onTextColorChange:e=>{O("default","text",e)}}),e.React.createElement(Xe,{className:"mt-2",label:b("themeSelected"),tooltip:b("actionElementSelectedTip"),textColor:null!==(d=null===(u=null==N?void 0:N.selected)||void 0===u?void 0:u.text)&&void 0!==d?d:gt.sys.color[R].action.selected.text,color:null!==(f=null===(h=null==N?void 0:N.selected)||void 0===h?void 0:h.default)&&void 0!==f?f:gt.sys.color[R].action.selected.default,onColorReset:()=>{T("selected","color")},onTextColorReset:()=>{T("selected","text")},onColorChange:e=>{O("selected","color",e)},onTextColorChange:e=>{O("selected","text",e)}}),e.React.createElement(Xe,{className:"mt-2",supportTextColor:!1,label:b("focus"),tooltip:b("actionElementFocusTip"),color:null!==(g=null==N?void 0:N.focus)&&void 0!==g?g:gt.sys.color[R].action.focus,onColorReset:()=>{T("focus","color")},onColorChange:e=>{O("focus","color",e)}}))},xt=(0,a.styled)("div")((({theme:e})=>({".theme-color-setting-row":{margin:e.sys.spacing(3,0),display:"flex",alignItems:"center",justifyContent:"space-between",".widget-theme-setting-color-setting":{width:"110px"}}}))),Rt=t=>{var o,l,r;const{className:s,onChange:c}=t,i=e.hooks.useTranslation(p,e.defaultMessages),m=(0,a.useTheme2)(),u=m.src,d=m.ref,h=m.sys,f=h.color.mode,g=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),v=null!==(o=g.src)&&void 0!==o?o:at,y=null!==(l=g.sys)&&void 0!==l?l:ot;let b=null!==(r=y.color)&&void 0!==r?r:rt;const[x,R]=e.React.useState(((e,t)=>!!e&&Object.entries(e).every((([e,a])=>{var o;return a.color===(null===(o=t.color[e])||void 0===o?void 0:o.main)})))(v,h)),w=(e,t)=>{let o=v.set(e,t);"primary"===e&&t.color&&(o=o.without("secondary").without("neutral")),o.primary||(o=o.set("primary",u.primary)),o.primary.color||(o=o.set("primary",Object.assign(Object.assign({},t),{color:u.primary.color}))),"neutral"===e&&(o=o.set("neutral",{color:t.color,harmonize:!0})),x&&a.BrandFunctionColorNames.includes(e)&&(b.mode||(b=b.set("mode",f)),b=b.setIn([f,e],{main:t.color}));let l=g.set("src",o);b&&(l=l.set("sys",y.set("color",b))),c(l.asMutable({deep:!0}))};return e.React.createElement(xt,{className:(0,e.classNames)("theme-color-setting",s)},e.React.createElement("div",{className:"theme-color-setting-row px-3"},e.React.createElement(be,{label:i("variableColorPrimary"),tooltip:i("primaryTip")},e.React.createElement(ke,{stripColors:h.color.primary,displayValue:u.primary,value:null==v?void 0:v.primary,onChange:e=>{w("primary",e)}})),e.React.createElement(be,{label:i("variableColorSecondary"),tooltip:i("secondaryTip")},e.React.createElement(ke,{stripColors:h.color.secondary,displayValue:u.secondary,value:null==v?void 0:v.secondary,onChange:e=>{w("secondary",e)}}))),e.React.createElement(Ze,{className:"mt-3 px-3",label:i("themeFunctionalColor"),tooltip:i("functionalTip")},e.React.createElement("div",{className:"theme-color-setting-row"},e.React.createElement(ke,{label:i("variableColorInfo"),stripColors:h.color.info,displayValue:u.info,value:null==v?void 0:v.info,onChange:e=>{w("info",e)}}),e.React.createElement(ke,{label:i("variableColorSuccess"),stripColors:h.color.success,displayValue:u.success,value:null==v?void 0:v.success,onChange:e=>{w("success",e)}})),e.React.createElement("div",{className:"theme-color-setting-row"},e.React.createElement(ke,{label:i("variableColorWarning"),stripColors:h.color.warning,displayValue:u.warning,value:null==v?void 0:v.warning,onChange:e=>{w("warning",e)}}),e.React.createElement(ke,{label:i("variableColorError"),stripColors:h.color.error,displayValue:u.error,value:null==v?void 0:v.error,onChange:e=>{w("error",e)}}))),e.React.createElement("div",{className:"theme-color-setting-row justify-content-start px-3"},e.React.createElement(n.Label,{check:!0,centric:!0},e.React.createElement(n.Checkbox,{checked:x,onChange:(e,t)=>{if(b.mode||(b=b.set("mode",f)),t){a.BrandFunctionColorNames.forEach((e=>{(null==v?void 0:v[e])&&(b=b.setIn([f,e],{main:v[e].color}))}));const e=g.set("sys",y.set("color",b));c(e.asMutable({deep:!0}))}else{let e=b[f];a.BrandFunctionColorNames.forEach((t=>{(null==v?void 0:v[t])&&(e=e.without(t))})),b=b.set(f,e);const t=g.set("sys",y.set("color",b));c(t.asMutable({deep:!0}))}R(t)}}),e.React.createElement("span",{className:"ml-2"},i("stayTrueColorInputs"))),e.React.createElement(ve,{className:"ml-2",tooltip:i("stayTrueColorInputsTip")})),e.React.createElement(be,{className:"mt-3 px-3",label:i("variableColorNeutral"),tooltip:i("neutralTip")},e.React.createElement(je,{stripColors:d.palette.neutral,displayValue:u.neutral,value:null==v?void 0:v.neutral,onChange:e=>{w("neutral",e)}})),e.React.createElement(et,null),e.React.createElement(n.Label,{check:!0,className:(0,e.classNames)("d-flex justify-content-between align-items-center px-3",s)},e.React.createElement("span",null,"Dark mode(test)"),e.React.createElement(n.Switch,{checked:"dark"===f,onChange:(e,t)=>{const a=t?"dark":"light";b=b.set("mode",a);const o=g.set("sys",y.set("color",b));c(o.asMutable({deep:!0}))}})),e.React.createElement(et,null),e.React.createElement("div",{className:"theme-color-setting-row flex-column align-items-start px-3"},e.React.createElement(n.Typography,{variant:"title2"},i("advancedColorSetting")),e.React.createElement(n.Typography,{variant:"label2"},i("advancedColorSettingDescription")),e.React.createElement(vt,{className:"mt-3",onChange:c}),e.React.createElement(bt,{className:"mt-3",onChange:c})))},wt=a.styled.div((({theme:e})=>({position:"relative",paddingBottom:e.sys.spacing(6),"> i":{fontStyle:"normal",minWidth:"20px",textAlign:"center"}}))),Ct=(0,a.styled)("div")((({theme:e})=>({position:"absolute",top:"8px",left:"32px",right:"32px",display:"flex",".jimu-slider-marks-scale":{width:"2px",height:"12px",backgroundColor:"#585858",position:"absolute","&.active":{display:"none"}}}))),Et=(0,a.styled)("div")((({theme:e})=>({position:"absolute",bottom:0,left:"32px",right:"32px",display:"flex",".jimu-slider-marks-label":{display:"none",transform:"translateX(-50%)",position:"absolute",whiteSpace:"nowrap",bottom:0,color:e.sys.color.surface.backgroundText,"&.active":{display:"inline-block"}}}))),Nt=t=>{const{className:a,fontSize:o,onChange:l}=t,r=(0,e.classNames)("fontsize-slider",a,"d-flex align-items-center"),{current:s}=e.React.useRef(null===window||void 0===window?void 0:window._appState.appContext.isRTL),c=e.hooks.useTranslation(e.defaultMessages,n.defaultMessages),i=e.React.useMemo((()=>[{label:c("verySmall"),value:"50%"},{label:c("small"),value:"75%"},{label:c("medium"),value:"100%"},{label:c("large"),value:"125%"},{label:c("varyLarge"),value:"150%"}]),[c]),m=i.length>1?100/(i.length-1):0,u=i.findIndex((e=>e.value===o))+1;return e.React.createElement(wt,{className:r},e.React.createElement("i",{style:{fontSize:"0.75rem"}},"A"),e.React.createElement("div",{className:"mx-3 w-100"},e.React.createElement(Ct,null,i.map((({value:t},a)=>e.React.createElement("span",{key:t,className:(0,e.classNames)("jimu-slider-marks-scale",{active:t===o}),style:{[s?"right":"left"]:a*m+"%"}})))),e.React.createElement(Et,null,i.map((({value:t,label:a},l)=>e.React.createElement("span",{key:t,className:(0,e.classNames)("jimu-slider-marks-label",{active:t===o}),style:{[s?"right":"left"]:l*m+"%"}},a)))),e.React.createElement(n.Slider,{min:1,value:u,max:i.length,title:c("fontSize"),runnableTrackVisibility:!1,"aria-label":c("fontSize"),onChange:e=>{const t=e.currentTarget.value,a=i[t-1].value;null==l||l(a)}})),e.React.createElement("i",{style:{fontSize:"1.125rem"}},"A"))};var Ot=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Tt=(0,a.styled)("ul")((({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",gap:e.sys.spacing(1),listStyleType:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,padding:e.sys.spacing(0,1),margin:e.sys.spacing(1,0)}))),kt=(0,a.styled)("div")((({theme:e})=>({width:"500px"}))),St=t=>{const a=e.hooks.useTranslation(p),{className:o,isOpen:l,onApply:r,onClose:s}=t,c=Ot(t,["className","isOpen","onApply","onClose"]),[i,m]=e.React.useState([]),[u,d]=e.React.useState(""),h=a("googleFontPlaceholder")+" https://fonts.googleapis.com/css2?family=Roboto",f=(0,e.classNames)("widget-theme-setting-custom-font",o);return e.React.createElement(n.AlertPopup,Object.assign({isOpen:l,severity:"info",closable:!1,withIcon:!1,hideCancel:!1,className:f,disableOK:!i.length,onClickOk:()=>{null==r||r(i)},onClickClose:s,title:a("addAGoogleFont")},c),e.React.createElement(kt,null,e.React.createElement(n.Typography,{variant:"body2",className:"mb-2"},a("addGoogleFontTip")," ",e.React.createElement("a",{href:"https://fonts.google.com/",target:"_blank"},a("exploreGoogleFonts"))),e.React.createElement(n.UrlInput,{value:u,height:60,schemes:["https"],placeholder:h,checkValidityOnAccept:e=>{let t=!!e,o="";if(t=(e=>{try{const t=new URL(e);return"https:"===t.protocol&&"fonts.googleapis.com"===t.hostname&&t.pathname.startsWith("/css2")}catch(e){return!1}})(e),t){const t=function(e){const t=new URL(e),a=t.searchParams,o=a.getAll("family");a.delete("family");const l=Array.from(a.entries());return o.map((e=>{const a=new URL(t.origin+t.pathname);return a.searchParams.set("family",e),l.forEach((([e,t])=>{a.searchParams.set(e,t)})),decodeURIComponent(a.toString())}))}(e),a=t.map((e=>{const t=function(e){var t;let a=null===(t=/family=([^:&]+)/.exec(e))||void 0===t?void 0:t[1];return a=null==a?void 0:a.replace("+"," "),a}(e);return{name:t,url:e}})).filter((e=>!!e.name));m(a)}else o=a("invalidGoogleFontTip");return{valid:t,msg:o}},onChange:e=>{d(null==e?void 0:e.value)}}),!!i.length&&e.React.createElement(Tt,null,i.map((t=>e.React.createElement(n.Tag,{key:t.name,color:"default",label:t.name,tag:"li"}))))))};var jt=i(2838),It=i.n(jt),Pt=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Mt=t=>{const a=window.SVG,{className:o}=t,l=Pt(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",o);return a?e.React.createElement(a,Object.assign({className:n,src:It()},l)):e.React.createElement("svg",Object.assign({className:n},l))},Ft=(0,a.styled)(n.DropdownButton)((({theme:e})=>Object.assign({color:e.ref.palette.black,backgroundColor:e.ref.palette.neutral[300]},"builder/themes/dark/"===e.uri&&{"&:disabled":{borderColor:e.sys.color.divider.primary,backgroundColor:"#363636"}}))),zt=({label:t,closable:a,onClose:o})=>e.React.createElement("div",{className:"font-selector-item w-100 d-flex justify-content-between align-items-center"},e.React.createElement("span",{className:"font-selector-item-label"},t),a&&e.React.createElement(n.Button,{icon:!0,variant:"text",onClick:e=>{e.stopPropagation(),null==o||o()},size:"sm",className:"font-selector-item-action"},e.React.createElement(Mt,{size:"s"}))),Bt=t=>{var o,l;const{value:r=a.DefaultThemeFonts[0],onChange:s,onCustomFontsChange:c,"aria-label":i,style:m,className:u}=t,d=e.hooks.useTranslation(p),h=(null==r?void 0:r.includes(","))?r.split(",")[0].replace(/\"/gm,""):null==r?void 0:r.replace(/\"/gm,""),f=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),g=null===(l=null===(o=f.sys)||void 0===o?void 0:o.typography)||void 0===l?void 0:l.customFonts,[v,y]=e.React.useState(!1),b=e.React.useMemo((()=>{var e;return[...null!==(e=null==g?void 0:g.map((e=>e.name)))&&void 0!==e?e:[],...a.DefaultThemeFonts]}),[g]);return e.React.createElement(e.React.Fragment,null,e.React.createElement(n.Dropdown,{size:"sm",fluid:!0,style:m,autoWidth:!0,className:(0,e.classNames)(u,"font-selector"),"aria-label":i,menuRole:"listbox"},e.React.createElement(Ft,{size:"sm",variant:"text",title:h,role:"combobox"},h),e.React.createElement(n.DropdownMenu,null,e.React.createElement(n.DropdownItem,{active:!1,onClick:()=>{y(!0)}},d("addFromGoogleFonts")),e.React.createElement(n.DropdownItem,{divider:!0}),b.map((t=>{const a=null==g?void 0:g.find((e=>e.name===t));return e.React.createElement(n.DropdownItem,{key:t,tag:a?"div":"button",active:t===h,onClick:()=>{(e=>{s(e)})(t)}},e.React.createElement(zt,{label:t,closable:a,onClose:()=>{(e=>{var t;let a=null!==(t=null==g?void 0:g.asMutable({deep:!0}))&&void 0!==t?t:[];a=a.filter((t=>t.name!==e)),c(a,!1)})(t)}}))})))),v&&e.React.createElement(St,{isOpen:v,onClose:()=>{y(!1)},onApply:e=>{y(!1);const t=e;null==g||g.forEach((e=>{t.find((t=>t.name===e.name))||t.push(e)})),c(t,!0)}}))},At=(0,a.styled)("div")({width:"100%"}),Dt=t=>{var o,l,r,s,c,i,m,u,d,h,f;const{className:g,onChange:v}=t,y=(0,a.useTheme2)(),b=y.ref.typeface,x=y.sys.typography,R=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),w=null!==(o=R.ref)&&void 0!==o?o:lt,C=null!==(l=w.typeface)&&void 0!==l?l:nt,E=null!==(r=R.sys)&&void 0!==r?r:ot,N=null!==(s=E.typography)&&void 0!==s?s:st,O=e.hooks.useTranslation(p,n.defaultMessages),T=(e,t)=>{let a=N;("headings"===e?["h1","h2","h3","h4","h5","h6"]:"paragraphs"===e?["body1","body2"]:["label1","label2","label3"]).forEach((e=>{a=a.setIn([e,"fontFamily"],t)}));const o=R.set("sys",E.set("typography",a));v(o.asMutable({deep:!0}))},k=(e,t,o)=>{let l=N.set("customFonts",t);if(o){("headings"===e?["h1","h2","h3","h4","h5","h6"]:"paragraphs"===e?["body1","body2"]:["label1","label2","label3"]).forEach((e=>{l=l.setIn([e,"fontFamily"],t[0].name)}))}else{const e=a.DefaultThemeFonts.concat(t.map((e=>e.name)));a.TypographyVariants.forEach((t=>{var o;(null===(o=l[t])||void 0===o?void 0:o.fontFamily)&&!e.includes(l[t].fontFamily)&&(l=l.setIn([t,"fontFamily"],a.DefaultThemeFonts[0]))}))}const n=R.set("sys",E.set("typography",l));v(n.asMutable({deep:!0}))};return e.React.createElement(At,{className:(0,e.classNames)("widget-theme-setting-typeface-setting",g)},e.React.createElement(n.Typography,{className:"px-3 mt-3",variant:"title2"},O("font")),e.React.createElement(be,{className:"px-3 mt-3",variant:"title3",label:O("headings"),tooltip:O("headingTip")},e.React.createElement(Bt,{className:"mt-2",value:null!==(i=null===(c=N.h1)||void 0===c?void 0:c.fontFamily)&&void 0!==i?i:x.h1.fontFamily,onChange:e=>{T("headings",e)},onCustomFontsChange:(e,t)=>{k("headings",e,t)}})),e.React.createElement(be,{className:"px-3 mt-3",variant:"title3",label:O("paragraphs"),tooltip:O("paragraphTip")},e.React.createElement(Bt,{className:"mt-2",value:null!==(u=null===(m=N.body2)||void 0===m?void 0:m.fontFamily)&&void 0!==u?u:x.body2.fontFamily,onChange:e=>{T("paragraphs",e)},onCustomFontsChange:(e,t)=>{k("paragraphs",e,t)}})),e.React.createElement(be,{className:"px-3 mt-3",variant:"title3",label:O("labels"),tooltip:O("labelTip")},e.React.createElement(Bt,{className:"mt-2",value:null!==(h=null===(d=N.label1)||void 0===d?void 0:d.fontFamily)&&void 0!==h?h:x.label1.fontFamily,onChange:e=>{T("labels",e)},onCustomFontsChange:(e,t)=>{k("labels",e,t)}})),e.React.createElement(et,{className:"mt-3"}),e.React.createElement(be,{className:"px-3 mt-3",variant:"title2",label:O("fontSize"),tooltip:O("htmlSizeTip")},e.React.createElement(Nt,{fontSize:null!==(f=null==C?void 0:C.htmlFontSize)&&void 0!==f?f:b.htmlFontSize,onChange:e=>{((e,t)=>{if(!e||!t)return;let a=C;a=a.set(e,t);const o=R.set("ref",w.set("typeface",a));v(o.asMutable({deep:!0}))})("htmlFontSize",e)}})))};var $t=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Lt=(0,a.styled)("div")((({theme:e,styleState:t})=>{const{width:a,height:o,shape:l,shadow:n,selected:r,transparent:s}=t;return Object.assign({width:a,height:o,backgroundColor:s?"transparent":e.ref.palette.black,border:`1px solid ${e.sys.color.divider.primary}`,borderRadius:l,boxShadow:n,boxSizing:"border-box"},r&&{outline:`2px solid ${e.sys.color.action.selected.default}`,outlineOffset:"2px"})})),Vt=t=>{const{className:a,width:o="100%",height:l="20px",selected:n=!1,shape:r="0px",shadow:s="none",transparent:c=!1,children:i,onClick:m}=t,u=$t(t,["className","width","height","selected","shape","shadow","transparent","children","onClick"]),d={width:o,height:l,shape:r,shadow:s,selected:n,transparent:c};return e.React.createElement(Lt,Object.assign({role:"button",tabIndex:0,onClick:m,onKeyDown:e=>{e.preventDefault(),"Enter"===e.key&&(null==m||m(e))},className:(0,e.classNames)("widget-theme-setting-preview-box",a),styleState:d},u),i)};var Ut=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const Gt=(0,a.styled)("div")((({theme:e})=>({width:"100%",".label-row-content":{display:"flex",flexDirection:"row",gap:e.sys.spacing(2)}}))),Kt={none:{shape1:"0px",shape2:"0px"},sm:{shape1:"2px",shape2:"4px"},md:{shape1:"3px",shape2:"6px"},lg:{shape1:"5px",shape2:"9px"}},_t={none:"none",sm:"small",md:"medium",lg:"large"},Ht=t=>{var a,o;const{className:l,onChange:r}=t,s=Ut(t,["className","onChange"]),c=e.hooks.useTranslation(p,n.defaultMessages),i=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),m=null!==(a=i.sys)&&void 0!==a?a:ot,u=null!==(o=m.shape)&&void 0!==o?o:ut,d=Object.keys(Kt).find((e=>u.shape1===Kt[e].shape1&&u.shape2===Kt[e].shape2));return e.React.createElement(Gt,Object.assign({className:(0,e.classNames)("theme-shape-setting p-3",l)},s),e.React.createElement(be,{variant:"title2",label:c("borderRadius"),tooltip:c("borderRadiusTip")},Object.keys(Kt).map((t=>e.React.createElement(Vt,{key:t,transparent:!0,selected:d===t,shape:Kt[t].shape2,title:c(_t[t]),onClick:()=>{(e=>{const t=Kt[e],a=i.set("sys",m.set("shape",t));r(a.asMutable({deep:!0}))})(t)}})))))};var Wt=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const qt=(0,a.styled)("div")((({theme:e})=>({width:"100%",".label-row-content":{display:"flex",flexDirection:"row",gap:e.sys.spacing(2)}}))),Xt={sm:"2px 2px 3px 0px rgb(150 150 150)",md:"3px 3px 3px 0px rgb(150 150 150)",lg:"4px 4px 3px 0px rgb(150 150 150)"},Yt={sm:{shadow1:"0 0 2px 0px rgba(0,0,0,0.24)",shadow2:"0 0 6px 0 rgba(0,0,0,0.24)",shadow3:"0 0 12px 0px rgba(0,0,0,0.24)"},md:{shadow1:"0 0 10px 1px rgba(0,0,0,0.2)",shadow2:"0 0 6px 0 rgba(0,0,0,0.15)",shadow3:"0 0 20px 2px rgba(0,0,0,0.2)"},lg:{shadow1:"0 0 8px 0px rgba(0,0,0,0.25)",shadow2:"0 0 16px 0 rgba(0,0,0,0.3)",shadow3:"0 0 32px 0px rgba(0,0,0,0.4)"}},Jt={sm:"small",md:"medium",lg:"large"},Qt=t=>{var a,o;const{className:l,onChange:r}=t,s=Wt(t,["className","onChange"]),c=e.hooks.useTranslation(p,n.defaultMessages),i=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),m=null!==(a=i.sys)&&void 0!==a?a:ot,u=null!==(o=m.shadow)&&void 0!==o?o:dt,d=Object.keys(Yt).find((e=>u.shadow1===Yt[e].shadow1&&u.shadow2===Yt[e].shadow2&&u.shadow3===Yt[e].shadow3));return e.React.createElement(qt,Object.assign({className:(0,e.classNames)("theme-shadow-setting p-3",l)},s),e.React.createElement(be,{variant:"title2",label:c("shadow"),tooltip:c("shadowTip")},Object.keys(Yt).map((t=>e.React.createElement(Vt,{key:t,selected:d===t,shadow:Xt[t],title:c(Jt[t]),onClick:()=>{(e=>{const t=Yt[e],a=i.set("sys",m.set("shadow",t));r(a.asMutable({deep:!0}))})(t)}})))))};var Zt=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const ea=(0,a.styled)(Ze)((({theme:e})=>({width:"100%",".theme-button-setting-shapes":{display:"flex",flexDirection:"row",gap:e.sys.spacing(2)}}))),ta={none:"0px",md:"3px",lg:"5px",circle:"100px"},aa={none:"none",md:"medium",lg:"large",circle:"circle"},oa=t=>{var o,l,r,s,c,i,m,u,d;const{className:h,onChange:f}=t,g=Zt(t,["className","onChange"]),v=e.hooks.useTranslation(p,n.defaultMessages),y=(0,a.useTheme2)(),b=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),x=null!==(o=b.comp)&&void 0!==o?o:pt,R=x.getIn(["Button","root","vars"],ht),w=R.shape,C=Object.keys(ta).find((e=>w===ta[e])),E=(e,t,o)=>{let l;if("color"===t){const t=a.colorUtils.augmentThemeColor(o,y);l=R.setIn(["contained",e],{default:t.main,hover:t.dark,text:t.text})}else l=R.setIn(["contained",e,"text"],o);const n=x.setIn(["Button","root","vars"],l),r=b.set("comp",n);f(r.asMutable({deep:!0}))},N=(e,t)=>{var a;if(!(null===(a=R.contained)||void 0===a?void 0:a[e]))return;let o;if("color"===t)o=R.set("contained",R.contained.without(e));else if("text"===t){if(!R.contained[e].text)return;o=R.setIn(["contained",e],R.contained[e].without("text"))}const l=x.setIn(["Button","root","vars"],o),n=b.set("comp",l);f(n.asMutable({deep:!0}))};return e.React.createElement(ea,Object.assign({className:(0,e.classNames)("theme-shadow-setting",h),label:v("variableButton"),tooltip:v("buttonTip")},g),e.React.createElement(n.Typography,{variant:"label2"},v("style")),e.React.createElement("div",{className:"theme-button-setting-shapes mt-2"},Object.keys(ta).map((t=>e.React.createElement(Vt,{key:t,selected:C===t,shape:ta[t],title:v(aa[t]),onClick:()=>{(e=>{const t=ta[e],a=x.setIn(["Button","root","vars","shape"],t),o=b.set("comp",a);f(o.asMutable({deep:!0}))})(t)}})))),e.React.createElement(Xe,{className:"mt-3",label:v("default"),color:null===(r=null===(l=null==R?void 0:R.contained)||void 0===l?void 0:l.default)||void 0===r?void 0:r.default,textColor:null===(c=null===(s=null==R?void 0:R.contained)||void 0===s?void 0:s.default)||void 0===c?void 0:c.text,onColorReset:()=>{N("default","color")},onTextColorReset:()=>{N("default","text")},onColorChange:e=>{E("default","color",e)},onTextColorChange:e=>{E("default","text",e)}}),e.React.createElement(Xe,{className:"mt-2",label:v("variableColorPrimary"),color:null===(m=null===(i=null==R?void 0:R.contained)||void 0===i?void 0:i.primary)||void 0===m?void 0:m.default,textColor:null===(d=null===(u=null==R?void 0:R.contained)||void 0===u?void 0:u.primary)||void 0===d?void 0:d.text,onColorReset:()=>{N("primary","color")},onTextColorReset:()=>{N("primary","text")},onColorChange:e=>{E("primary","color",e)},onTextColorChange:e=>{E("primary","text",e)}}))};var la=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const na=(0,a.styled)("div")((({theme:e,styleState:t})=>{var a,o;return{height:"26px",display:"flex",cursor:"pointer",justifyContent:"center",alignItems:"center",fontSize:e.sys.typography.pxToRem(19),textDecoration:null!==(a=t.textDecoration)&&void 0!==a?a:"none",textDecorationStyle:null!==(o=t.textDecorationStyle)&&void 0!==o?o:"solid",color:e.sys.color.action.link.default,border:`1px solid ${e.sys.color.divider.primary}`,"&:hover":{border:`1px solid ${e.sys.color.action.selected.hover}`,color:e.sys.color.action.link.hover},"&.link-comp-preview-active":{border:`1px solid ${e.sys.color.action.selected.default}`}}})),ra=t=>{const{className:a,active:o,textDecoration:l,hoverTextDecoration:n,textDecorationStyle:r="solid"}=t,s=la(t,["className","active","textDecoration","hoverTextDecoration","textDecorationStyle"]),c={active:o,textDecoration:l,hoverTextDecoration:n,textDecorationStyle:r};return e.React.createElement(na,Object.assign({className:(0,e.classNames)("link-comp-preview",{"link-comp-preview-active":o},a),styleState:c},s),"A")};var sa=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const ca=(0,a.styled)(Ze)((({theme:e})=>({width:"100%",".theme-link-setting-styles":{display:"flex",flexDirection:"row",gap:e.sys.spacing(2),"> .link-comp-preview":{flex:"1 1 auto"}}}))),ia={underline:{decoration:"underline",decorationStyle:"solid",hover:{decoration:"underline",decorationStyle:"solid"}},dotted:{decoration:"underline",decorationStyle:"dotted",hover:{decoration:"underline",decorationStyle:"dotted"}},none:{decoration:"none",decorationStyle:"solid",hover:{decoration:"none",decorationStyle:"solid"}}},ma=t=>{var o,l,r,s,c,i,m;const{className:u,onChange:d}=t,h=sa(t,["className","onChange"]),f=e.hooks.useTranslation(p,n.defaultMessages),g=e.ReactRedux.useSelector((e=>{var t;return null!==(t=e.appStateInBuilder.appConfig.customThemeOptions)&&void 0!==t?t:tt})),v=(0,a.useTheme2)(),y=v.sys.color.mode,b=null!==(o=g.sys)&&void 0!==o?o:ot;let x=null!==(l=b.color)&&void 0!==l?l:rt;const R=null!==(s=null===(r=x[y])||void 0===r?void 0:r.action)&&void 0!==s?s:ct,w=null!==(c=g.comp)&&void 0!==c?c:pt;let C=w.getIn(["Link","root","vars"],ft);const E=Object.keys(ia).find((e=>{var t,a;return C.decoration===ia[e].decoration&&(null==C?void 0:C.decorationStyle)===ia[e].decorationStyle&&(null===(t=C.hover)||void 0===t?void 0:t.decoration)===ia[e].hover.decoration&&(null===(a=C.hover)||void 0===a?void 0:a.decorationStyle)===ia[e].hover.decorationStyle}));return e.React.createElement(ca,Object.assign({className:(0,e.classNames)("theme-shadow-setting",u),label:f("link"),tooltip:f("linkTip")},h),e.React.createElement(n.Typography,{variant:"label2"},f("style")),e.React.createElement("div",{className:"theme-link-setting-styles mt-2"},Object.keys(ia).map((t=>{var a;return e.React.createElement(ra,{key:t,title:f(t),active:E===t,onClick:()=>{(e=>{C=C.merge(ia[e]);const t=w.setIn(["Link","root","vars"],C),a=g.set("comp",t);d(a.asMutable({deep:!0}))})(t)},textDecoration:ia[t].decoration,hoverTextDecoration:ia[t].hover.decoration,textDecorationStyle:null!==(a=ia[t].hover.decorationStyle)&&void 0!==a?a:"solid"})}))),e.React.createElement(Xe,{className:"mt-2",label:f("color"),supportTextColor:!1,onColorReset:()=>{if(!R.link)return;const e=R.without("link");x=x.setIn([y,"action"],e);const t=g.set("sys",b.set("color",x));d(t.asMutable({deep:!0}))},color:null!==(m=null===(i=R.link)||void 0===i?void 0:i.default)&&void 0!==m?m:gt.sys.color[y].action.link.default,onColorChange:e=>{(e=>{x.mode||(x=x.set("mode",y));const t={default:e,hover:a.colorUtils.augmentThemeColor(e,v).light};x=x.setIn([y,"action","link"],t);const o=g.set("sys",b.set("color",x));d(o.asMutable({deep:!0}))})(e)}}))};var ua=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]])}return a};const da=(0,a.styled)("div")((({theme:e})=>({width:"100%"}))),pa=t=>{const{className:a,onChange:o}=t,l=ua(t,["className","onChange"]),r=e.hooks.useTranslation();return e.React.createElement(da,Object.assign({className:(0,e.classNames)("theme-shadow-setting px-3 mt-2",a)},l),e.React.createElement(n.Typography,{variant:"title2"},r("themeComponents")),e.React.createElement(oa,{onChange:o}),e.React.createElement(ma,{onChange:o}))},ha=(0,a.styled)("div")({width:"100%"}),fa=t=>{const{className:a,onChange:o}=t;return e.React.createElement(ha,{className:(0,e.classNames)("widget-theme-setting-others-setting",a)},e.React.createElement(Ht,{onChange:o}),e.React.createElement(Qt,{onChange:o}),e.React.createElement(et,null),e.React.createElement(pa,{onChange:o}))},ga=a.styled.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  .back-main-btn {
    width: fit-content;
    font-size: 1rem;
    font-weight: 500;
    > svg {
      position: relative;
      top: -2px;
    }
  }
  .theme-system-setting {
    height: 100%;
    flex: 1 1 0%;
    overflow: auto;
  }
`,va=o=>{const{className:l,onBack:r}=o,s=e.hooks.useTranslation(p,n.defaultMessages),c=(0,e.classNames)("jimu-builder-theme-color-shade py-3",l),i=e.React.useRef(null),m=e.React.useRef(null);e.React.useEffect((()=>{(0,e.focusElementInKeyboardMode)(i.current)}),[]),(0,n.useTrapFocusByBoundaryNodes)(i,m);const u=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig})),d=(0,a.useTheme2)(),h=e=>{(0,t.getAppConfigAction)(u).editCustomThemeOption(e).exec()};return e.React.createElement(ga,{className:c},e.React.createElement(n.Button,{ref:i,className:"back-main-btn",type:"tertiary",onClick:r,"aria-label":s("backToMainThemePanel")},e.React.createElement(q,{className:"mr-1",autoFlip:!0}),s("backToMainThemePanel")),d&&e.React.createElement(e.React.Fragment,null,e.React.createElement("div",{className:"theme-system-setting"},e.React.createElement(n.Tabs,{className:"mt-2",defaultValue:"color",fill:!0,type:"underline"},e.React.createElement(n.Tab,{id:"color",title:s("color")},e.React.createElement(Rt,{className:"mt-2",onChange:h})),e.React.createElement(n.Tab,{id:"typography",title:s("typography")},e.React.createElement(Dt,{className:"mt-2",onChange:h})),e.React.createElement(n.Tab,{id:"more",title:s("more")},e.React.createElement(fa,{className:"mt-2",onChange:h}))))),e.React.createElement("div",{className:"d-flex justify-content-end mt-3"},e.React.createElement(n.Button,{ref:m,className:"flex-fill mx-3",variant:"outlined",onClick:()=>{(0,t.getAppConfigAction)(u).editCustomThemeOption({}).exec()},"aria-label":s("resetTheme")},s("resetTheme"))))};var ya=function(e,t,a,o){return new(a||(a=Promise))((function(l,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}))};const ba=o=>{const n=e.ReactRedux.useSelector((e=>{var t;return null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig})),r=(0,a.useTheme2)(),[s,c]=e.React.useState(0),[i,m]=e.React.useState(null),u=(null==n?void 0:n.theme)&&r;e.React.useEffect((()=>{ya(void 0,void 0,void 0,(function*(){const t=yield fetch(`${e.urlUtils.getAbsoluteRootUrl()}themes/themes-info.json`);return yield Promise.resolve((0,e.Immutable)(yield t.json()))})).then((e=>{m(e),c(1)}))}),[]);const d=a=>{var o;if(!a)return;let l=null!==(o=n.customTheme)&&void 0!==o?o:(0,e.Immutable)({});l=l.merge(a,{deep:!0}),(0,t.getAppConfigAction)(n).editCustomTheme(l).exec()},p=()=>{(0,t.getAppConfigAction)(n).editCustomTheme((0,e.Immutable)({})).exec()};return e.React.createElement("div",{className:"jimu-widget widget-builder-themes d-flex flex-column bg-light-300 w-100 h-100"},u&&e.React.createElement(e.React.Fragment,null,e.React.createElement(l,{active:1===s},e.React.createElement(C,{themeListInfo:i,selectedTheme:null==n?void 0:n.theme,onChange:a=>{if(!a)return;const o=(0,e.Immutable)({});(0,t.getAppConfigAction)(n).editTheme(a).editCustomTheme(o).exec()},disabled:(null==n?void 0:n.theme)===e.CONSTANTS.SHARED_THEME,onCustomize:()=>{const e=(0,a.getTheme2Module)(!1);a.mapping.whetherIsNewTheme(e)?c(2):c(3)}})),e.React.createElement(l,{active:2===s},e.React.createElement(va,{onChange:d,onBack:()=>{c(1)},onAdvance:()=>{c(4)}})),e.React.createElement(l,{active:3===s},e.React.createElement(Y,{theme:r,onChange:d,onReset:p,onBack:()=>{c(1)},onAdvance:()=>{c(4)}})),e.React.createElement(l,{active:4===s},e.React.createElement(de,{theme:r,onChange:d,onReset:p,onBack:()=>{c(3)}}))))};function xa(e){i.p=e}})(),m})())}}}));