"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-9ecda2"],{6122:(e,t,o)=>{o.r(t),o.d(t,{arcgis_ba_search:()=>r});var s=o(8796),i=o(4280),a=o(983);class n{token;geocoderUrl;constructor(e,t){this.token=e,this.geocoderUrl=t||i.E.getUrl("geocode"),this.geocoderUrl.endsWith("/")||(this.geocoderUrl+="/")}suggest(e,t){return new Promise(((o,s)=>{if(!e||!e.length)return void o([]);let a=new URLSearchParams({text:e});t?.location&&a.set("location",t.location),t?.sourceCountry&&a.set("sourceCountry",t.sourceCountry),t?.langCode&&a.set("langCode",t.langCode),this._request(this.geocoderUrl+"suggest",a,i.E.isOnlineGeocoder(this.geocoderUrl)).then((e=>{o(e.suggestions)})).catch((e=>{498===e.code?this._request(this.geocoderUrl+"suggest",a,!0).then((e=>{o(e.suggestions)})).catch((e=>{s(e)})):s(e)}))}))}geocode(e,t){return new Promise(((o,s)=>{if(!e||!e.length)return void o([]);let a=new URLSearchParams({maxLocations:t?.maxLocations||10,singleLine:e});t?.location&&a.set("location",t.location),t?.outFields&&a.set("outFields",t.outFields),t?.magicKey&&a.set("magicKey",t.magicKey),a.set("outSR","4326"),this._request(this.geocoderUrl+"findAddressCandidates",a,i.E.isOnlineGeocoder(this.geocoderUrl)).then((e=>{o(e)})).catch((e=>{498===e.code?this._request(this.geocoderUrl+"findAddressCandidates",a,!0).then((e=>{o(e)})).catch((e=>{s(e)})):s(e)}))}))}geocodeUsingApi(e,t){return new Promise(((o,s)=>{let a=new URLSearchParams({location:JSON.stringify({spatialReference:{wkid:4326},x:t.toString(),y:e.toString()}),outSR:"4326"});i.E.isOnlineGeocoder(this.geocoderUrl)||a.append("token",this.token);const n=e=>{const t=e?.address,o=t?.LongLabel,s=t?.Match_addr,i=t?.Address,a=s&&s.length>0?s:o&&o.length>0?o:i;return{address:i,shortAddressType:t.Addr_type,shortAddress:i,city:t.City,countryCode:t.CountryCode,postal:t.Postal,label:a,matchAddr:s}};this._request(this.geocoderUrl+"reverseGeocode",a,i.E.isOnlineGeocoder(this.geocoderUrl)).then((e=>{o(n(e))})).catch((e=>{498===e.code?this._request(this.geocoderUrl+"reverseGeocode",a,!0).then((e=>{o(n(e))})).catch((e=>{s(e)})):s(e)}))}))}_request(e,t,o){return new Promise(((s,i)=>{o?t.delete("token"):t.set("token",this.token),t.set("f","json");let n=e+"?"+t.toString();fetch(n,{method:"GET"}).then((e=>{if(!e.ok)throw new Error(a.B.i18n("network-response-error"));return e.json()})).then((e=>{e.error?i(e.error):s(e)})).catch((e=>{i(e)}))}))}}const r=class{get el(){return(0,s.g)(this)}baseConfig;geocoderClient=n;baSearchKeyTimer=null;suggestionTimer=null;labels;mapActions;_lastInputValue="";_openFirst=!1;_accordionTheme;_onChangeCallback;_onChangeQueue;_debounceTimer;_hasSetEnv=!1;_verboseLogging=!0;_geographyLevelData;_localeSettings;_searchTypeConv=["all","address","boundary"];_instanceId;_idPrefix="arcgis-ba-search-";_inputId;_idPrefixInput="ba-search-input-";_dropdownId;_idPrefixDropDown="ba-search-drop-";_dropAllid;_dropLocId;_idPrefixDropLoc="ba-search-drop-loc-";_idPrefixDropAll="ba-search-drop-all-";_dropBdyId;_idPrefixDropBdy="ba-search-drop-bdy-";_dropGroupId;_idPrefixDropGroup="ba-search-drop-group-";_suggestId;_idPrefixSuggest="ba-search-suggest-";_defaultHierarchy="";_useLatestDefaultHierarchy=!1;_searchResponseItemData;_geographyLevels;_geographyActiveLevels=[];_geographyLevelsSource;_dbg=!1;_searchScopeDropDownSelected=!1;constructor(e){if((0,s.r)(this,e),this.searchResults=(0,s.c)(this,"searchResults",6),this.searchCleared=(0,s.c)(this,"searchCleared",7),this.selectorPopupOpened=(0,s.c)(this,"selectorPopupOpened",6),this.selectorPopupClosed=(0,s.c)(this,"selectorPopupClosed",6),this.config=void 0,this.colors=void 0,this.theme=void 0,this.env=void 0,this.token=void 0,this.username=void 0,this.langCode=void 0,this.sourceCountry=void 0,this.selectedHierarchy=void 0,this.geoenrichmentUrl=void 0,this.geocodeUrl=void 0,this.nogeography=void 0,this.maxsuggestionheight=void 0,this.showSearch=void 0,this.searchPlaceholder=void 0,this.currentSearchText=void 0,this.searchLabel=void 0,this.searchAll=void 0,this.searchAllPlaceholder=void 0,this.searchPlaceholderShort=void 0,this.searchEnterBoundary=void 0,this.searchBoundary=void 0,this.mode=void 0,this.suglite=void 0,this.activeLevels=void 0,this.stEnv=void 0,this.stToken=void 0,this.stUsername=void 0,this.stLangCode=void 0,this.stGeoenrichmentUrl=void 0,this.stTheme=void 0,this.stSearchScope="all",this.searchQuery=null,this.suggestionResults={location:[],boundary:[]},this.stActiveLevels=void 0,this.stNoGeography=void 0,this.stMaxSuggestionHeight=void 0,this.stMode=void 0,this.stSourceCountry=void 0,this.stSuglite=void 0,this.baseConfig=new a.a("search",this,this.onUpdateUI),a.A.announceVersion(),this.stSearchScope="all",this._onChangeQueue={},a.a.Log("SEARCH constructor"),i.E.getGeocoders(),this.langCode=this.langCode||"en-us",a.B._initialize(this.langCode),this.setLocaleStrings(),this.sourceCountry=this.sourceCountry||"US",this.selectedHierarchy=this.selectedHierarchy,this.stSearchScope="all",this.baseConfig.updateLocaleSettings({language:this.langCode,country:this.sourceCountry}),this.config){const e=JSON.parse(this.config);this.baseConfig.updateConfig(e),e?.selectedGeographyLevels&&e?.selectedGeographyLevels.length>0&&this.setActiveLevels(e.selectedGeographyLevels,!0)}this._onChangeQueue={},this.geoenrichmentUrl&&i.E.setGeoenrichmentUrl(this.geoenrichmentUrl),i.T.token?.access_token&&(this.token=this.stToken=i.T.token.access_token),i.T.setToken(this.username,this.token)}onConfigChange(e){if(this.baseConfig&&e&&a.A.hasText(e)){const t=JSON.parse(e);a.a.LogConfig("SEARCH config changed=",t),t&&t.config&&void 0!==t.config.useLatestDataSource&&(this._useLatestDefaultHierarchy=t.config.useLatestDataSource,this._defaultHierarchy="",i.G.getGEDefaultHierarchy(this.stSourceCountry,this.stToken).then((e=>{this._defaultHierarchy=e}))),this.baseConfig.updateConfig(t),this.baseConfig?.config?.selectedGeographyLevels&&this.baseConfig?.config?.selectedGeographyLevels.length>0&&this.setActiveLevels(this.baseConfig.config.selectedGeographyLevels),this.syncSearchScopeFromConfig(!0)}}onLocaleSettingsChanged(){this.getFilteredGeographyLevels()}parseGeographyFlag(e){return null!=typeof e&&a.A.hasText(e)&&"true"==e.trim().toLowerCase()}onNoGeographyChanged(){this.stNoGeography=this.parseGeographyFlag(this.nogeography),!1===this.stNoGeography&&(this.stSearchScope="all")}onMaxSuggestionHeightChanged(){this.stMaxSuggestionHeight=null!=typeof this.maxsuggestionheight&&a.A.hasText(this.maxsuggestionheight)?parseInt(this.maxsuggestionheight):300,a.a.Log("SEARCH max suggestion height changed to ",this.stMaxSuggestionHeight)}onEnvChanged(){this.stEnv=this.env,i.E.setEnvironment(this.env),this.baseConfig&&this.baseConfig.updateConfig({env:this.env})}onTokenChanged(){this.stToken=this.token,this.baseConfig&&this.baseConfig.updateConfig({token:this.token}),this.token&&i.T.token&&(i.T.token.access_token=this.token)}onUsernameChanged(){this.stUsername=this.username,this.baseConfig&&this.baseConfig.updateConfig({username:this.username})}onLangCodeChanged(){this.stLangCode=this.langCode,this.baseConfig&&this.baseConfig.updateConfig({langCode:this.langCode})}onGeoenrichmentUrlChanged(){this.stGeoenrichmentUrl=this.geoenrichmentUrl,this.baseConfig&&this.baseConfig.updateConfig({geoenrichmentUrl:this.geoenrichmentUrl})}onThemeChanged(){this.stTheme=this.theme,this.baseConfig&&this.baseConfig.setTheme(this.theme)}onCountryChanged(){this.stSourceCountry=this.sourceCountry,this.baseConfig&&this.baseConfig.updateConfig({sourceCountry:this.sourceCountry})}onSearchTextChanged(){this.hideDropdown(),this.hideSuggestions(null);const e=a.A.queryElementById.call(this,this._inputId);e&&this.currentSearchText&&(e.value=this.currentSearchText)}onModeChanged(){this.stMode=this.mode}onSugliteChanged(){this.stSuglite=!1,void 0!==typeof this.suglite&&"true"===this.suglite&&(this.stSuglite=!0)}onActiveLevelsChanged(){this.stActiveLevels=JSON.parse(this.activeLevels)}searchResults;searchCleared;onStandardGeographyItemSelected(e){this._onSelectedGeographyItem(e.detail.item),this.hideSuggestions(null),this._clearSearchText(),this.focusInput(),this.adjustSuggestionsPosition()}onStandardGeographyItemChecked(e){"other"==e.detail.itemsType&&(this.hideSuggestions(null),this._clearSearchText(),this.focusInput())}async searchIsEmpty(){const e=a.A.queryElementById.call(this,this._inputId);if(!e)return!1;const t=a.A.queryElement.call(self,"input",e);if(!t)return!1;const o=t.value;return!(o&&a.A.hasText(o))}async getSearchResults(){return this._searchResponseItemData}async getConfig(){return this.baseConfig}async setLocale(e){e&&(null!=typeof e.language&&this.baseConfig.updateLocaleSettings({language:e.language}),null!=typeof e.country&&this.baseConfig.updateLocaleSettings({country:e.country}),null!=typeof e.location&&this.baseConfig.updateLocaleSettings({location:e.location}),null!=typeof e.geocodeOutFields&&this.baseConfig.updateLocaleSettings({geocodeOutFields:e.geocodeOutFields}),this.onLocaleSettingsChanged())}async getGeographyLevels(){let e=[],t=await this.getFilteredGeographyLevels();return t&&t.length>0&&t.forEach((t=>{e.push(t.name)})),e}async setActiveLevels(e,t=!1){if(t||this.resetUI(!0,!1),e)if(e.length>0){this.stActiveLevels=[...e],this._geographyActiveLevels=[];for(let t=0;t<e.length;t++){let o=await this.levelNameIsValid(e[t]);o&&this._geographyActiveLevels.push(o)}t||this.populateSuggestions()}else this._geographyActiveLevels=[]}async setMapView(e){}async setColors(e){this.colors=e,this.baseConfig.syncConfigFromProps()}async setTheme(e){this.baseConfig.setTheme(e)}async onPropChange(e,t){this._onChangeCallback={fn:e,ctx:t}}selectorPopupOpened;selectorPopupClosed;_doBackspace(){const e=a.A.queryElementById.call(this,this._inputId);if(e){const t=e.shadowRoot.querySelector("input");if(t){let e=t.value;if(e&&e.length>0&&null!=t.selectionStart&&null!=t.selectionEnd){const o=t.selectionStart,s=t.selectionEnd,i=o===s?e.slice(0,o-1)+e.slice(o):e.slice(0,o)+e.slice(s);t.value=i,t.focus(),o===s?t.setSelectionRange(o-1,o-1):t.setSelectionRange(o+1,o)}}}}onUpdateUI(){this.applyStyles()}applyStyles(){if(this.baseConfig?.config?.colors&&Object.keys(this.baseConfig.config.colors).length>0){a.a.LogConfig("SEARCH applyStyles",this.baseConfig?.config?.colors);const e=this.baseConfig.config.colors,t=a.A.queryElement.call(this,"div.baSearchOuter");if(t&&"style"in t&&(t.style.setProperty("--calcite-color-border-input","unset"),t.style.setProperty("--calcite-color-foreground-1",e.foreground),t.style.setProperty("--calcite-color-brand",e.brand),t.style.setProperty("--calcite-color-border-2",e.foreground),t.style.setProperty("--calcite-color-border-3",e.foreground)),t){const e=t.querySelectorAll("calcite-dropdown");e&&"style"in e&&e.style.setProperty("height","32px"),t.querySelectorAll("calcite-button").forEach((e=>{if(e.shadowRoot){let t=e.shadowRoot.querySelector("button");t&&"style"in t&&(t.style.setProperty("height","32px"),t.style.setProperty("border-color","var(--calcite-color-border-input)"))}}))}}}syncSearchScopeFromConfig(e){a.a.LogConfig("SEARCH syncSearchScope",this.baseConfig.config);let t=!1;const o=this.baseConfig.config.baSearchType;o&&(1==o?(t="address"!=this.stSearchScope,this.stSearchScope="address"):2==o?(t="boundary"!=this.stSearchScope,this.stSearchScope="boundary"):(t="all"!=this.stSearchScope,this.stSearchScope="all"),a.a.Log("SEARCH searchScope is now:",this.stSearchScope)),t&&e&&(this.hideSuggestions(null),this._clearSearchText(),this.focusInput())}_debug(...e){this._verboseLogging}_debounce2(e,t){const o=this;o._debounceTimer&&clearTimeout(o._debounceTimer),o._debounceTimer=setTimeout((function(){o._debounceTimer=null,e.apply(o)}),t)}_onFilteredPropChanged(){this._onChangeCallback&&this._onChangeCallback.fn(this._onChangeCallback.ctx,this._onChangeQueue),this._onChangeQueue={}}setLocaleStrings(){a.B._initialize(this.langCode),this.labels={dropdownLocation:a.B.i18n("address-location-or-place"),dropdownBoundary:a.B.i18n("boundary-name"),dropdownAll:a.B.i18n("dropdown-all"),watermarkAll:a.B.i18n("all-placeholder"),watermarkLocation:a.B.i18n("enter-address-loc-or-place"),watermarkBoundary:a.B.i18n("enter-boundary-name")},this.showSearch=a.B.i18n("show-search"),this.searchPlaceholder=a.B.i18n("search-placeholder"),this.searchLabel=a.B.i18n("search-label"),this.searchAll=a.B.i18n("dropdown-all"),this.searchAllPlaceholder=a.B.i18n("all-placeholder"),this.searchPlaceholderShort=a.B.i18n("search-placeholder-short"),this.searchEnterBoundary=a.B.i18n("search-enter-boundary"),this.searchBoundary=a.B.i18n("search-boundary")}_onPropChanged(e,t){const o=this;this._onChangeQueue[e]=t,this._debounce2((()=>{o._onFilteredPropChanged.call(o)}),250)}_clearSearchText(){const e=a.A.queryElementById.call(this,this._inputId);e&&(e.value="")}async onClickLocationSuggestionItem(e){const t=this;!t.geocoderClient&&t.token&&(t.geocoderClient=new n(t.token)),t.geocoderClient&&(await t.geocoderClient.geocode(e.text,{magicKey:e.magicKey,outFields:t.baseConfig._localeSettings.geocodeOutFields,outSR:4326}).then((e=>{e&&(t._searchResponseItemData={context:t,type:"location",mode:t.stMode,name:e.candidates[0].attributes.PlaceName,address:e.candidates[0].attributes.Place_addr,location:{lon:e.candidates[0].location.x,lat:e.candidates[0].location.y}},t.searchResults.emit(t._searchResponseItemData),t._onPropChanged("searchResults",t._searchResponseItemData),t.resetUI(!1))})).catch((e=>{a.a.Error("arcgis-ba-search Error:",e)})),t.hideSuggestions(null),t._clearSearchText(),t.focusInput())}_findGeographyLevel(e){let t;if(this._geographyLevels)for(let o=0;o<this._geographyLevels.length;o++){const s=this._geographyLevels[o];if(s.id===e){t=s;break}}return t}_onSelectedGeographyItem(e){const t=this,o=e.id,s=e.name;if(this.suggestionResults?.boundary)for(let e=0;e<this.suggestionResults.boundary.length;e++){let n=this.suggestionResults.boundary[e];if(n.attributes&&n.attributes.ObjectId==o){let e=n.attributes,o=t._findGeographyLevel(e.DataLayerID);const r=o?o.defaultGeneralization:0;i.G.requestStdGeography(e.DataLayerID,e.AreaID,{generalizationLevel:r,returnGeometry:!0,sourceCountry:t.stSourceCountry||"US",optionalCountryHierarchy:t.selectedHierarchy,langCode:t.langCode,token:t.token}).then((o=>{if(o&&o.length>0){let i=o[0];t._searchResponseItemData={context:t,type:"geography",areaName:n.attributes.AreaName,areaId:n.attributes.AreaID,geometry:i.geometry.rings,mode:t.stMode,attributes:e,title:s},t.searchResults.emit(t._searchResponseItemData),this._onPropChanged("searchResults",t._searchResponseItemData),t.resetUI(!1)}}),(e=>{if(a.a.Error("arcgis-ba-search Error ",e),e)throw e}));break}}}async levelNameIsValid(e){if(!e||!a.A.hasText(e))return;let t=await this.getFilteredGeographyLevels();if(t&&t.length>0)for(let o=0;o<t.length;o++)if(t[o].name==e)return t[o].id}focusInput(){const e=a.A.queryElementById.call(this,this._inputId);e&&a.A.queryElement.call(this,"input",e).focus()}_loadInstances(){this._instanceId||(this._instanceId=a.E.generateId(this._idPrefix).id),this._inputId||(this._inputId=a.E.generateId(this._idPrefixInput).id),this._dropLocId||(this._dropLocId=a.E.generateId(this._idPrefixDropLoc).id),this._dropAllid||(this._dropAllid=a.E.generateId(this._idPrefixDropAll).id),this._dropBdyId||(this._dropBdyId=a.E.generateId(this._idPrefixDropBdy).id),this._dropGroupId||(this._dropGroupId=a.E.generateId(this._idPrefixDropGroup).id),this._suggestId||(this._suggestId=a.E.generateId(this._idPrefixSuggest).id),this._dropdownId||(this._dropdownId=a.E.generateId(this._idPrefixDropDown).id)}getCountry(){return this.stSourceCountry||this.baseConfig._localeSettings.country}async getFilteredGeographyLevels(){let e=this,t=e.stActiveLevels&&e.stActiveLevels.length>0;if(t||!e._geographyLevels||e._geographyLevels.length<=0||e._geographyLevelsSource!=e.getCountry()){let o=await i.G.getStandardGeographyLevels(e.getCountry(),e.langCode,e.baseConfig?.config?.selectedHierarchy,e.token);if(o&&o&&o.levels&&o.levels.length>0){e._geographyLevels=[];for(let s=0;s<o.levels.length;s++){let i=o.levels[s];(!t||e.stActiveLevels&&e.stActiveLevels.length>0&&e.stActiveLevels.includes(i.name))&&i&&i.id&&i.name&&a.A.hasText(i.id)&&a.A.hasText(i.name)&&e._geographyLevels.push({id:i.id,name:i.name,show:!0,defaultGeneralization:i.defaultGeneralizationLevel})}e._geographyLevelsSource=e.getCountry()}}return e._geographyLevels}async componentWillLoad(){this.stNoGeography=this.parseGeographyFlag(this.nogeography),this.stMaxSuggestionHeight=null!=typeof this.maxsuggestionheight&&a.A.hasText(this.maxsuggestionheight)?parseInt(this.maxsuggestionheight):300,a.a.Log("SEARCH componentWillLoad max suggest height= ",this.stMaxSuggestionHeight),this.activeLevels&&a.A.hasText(this.activeLevels)&&(this.stActiveLevels=JSON.parse(this.activeLevels)),this.sourceCountry&&a.A.hasText(this.sourceCountry)&&(this.stSourceCountry=this.sourceCountry),!this._hasSetEnv&&this.env&&(this._hasSetEnv=!0,this.stEnv=this.env,i.E.setEnvironment(this.env)),this.geocodeUrl&&i.E.setGeocodeUrl(this.geocodeUrl),this.theme?this.baseConfig.setTheme(this.theme):this.baseConfig.setTheme("light"),this.nogeography=this.stNoGeography.toString(),this._loadInstances(),this.stMode=this.mode,this.stSuglite=!1,void 0!==typeof this.suglite&&"true"===this.suglite&&(this.stSuglite=!0),await this.getFilteredGeographyLevels()}resetUI(e,t){if(t||this.hideDropdown(),this.hideSuggestions(null),!e){a.A.queryElementById.call(this,this._inputId).value=""}}componentDidLoad(){const e=this,t=a.A.queryElementById.call(e,e._dropAllid);t&&(t.innerText=e.labels.dropdownAll);const o=a.A.queryElementById.call(e,e._dropLocId);o&&(o.innerText=e.labels.dropdownLocation);const s=a.A.queryElementById.call(e,e._dropBdyId);s&&(s.innerText=e.labels.dropdownBoundary);const n=(new Date).getTime();a.A.runUntilCondition((()=>{const t=a.A.queryElementById.call(e,e._inputId),o=a.A.queryElement.call(e,"input",t);return null!=t&&null!=o}),n,30,1800,(()=>{e._loadInstances(),e.applyCssAndThemeTo_Search(),i.T.setToken(e.username,e.token),(!e.baseConfig._localeSettings.language||e.baseConfig._localeSettings.language.length<=0||e.baseConfig._localeSettings.language!==e.langCode&&e.langCode)&&(e.baseConfig._localeSettings.language=e.langCode||"en-us",a.B._initialize(e.baseConfig._localeSettings.language),e.setLocaleStrings());const t=a.A.queryElementById.call(e,e._inputId),o=a.A.queryElement.call(e,"input",t),s=a.A.queryElementById.call(e,e._dropAllid);s&&(s.innerText=e.labels.dropdownAll);const n=a.A.queryElementById.call(e,e._dropLocId);n&&(n.innerText=e.labels.dropdownLocation);const r=a.A.queryElementById.call(e,e._dropBdyId);if(r&&(r.innerText=e.labels.dropdownBoundary),t){let o="all";switch(e.stSearchScope){case"all":o=e.labels.watermarkAll;break;case"address":o=e.labels.watermarkLocation;break;case"boundary":o=e.labels.watermarkBoundary}t.setAttribute("placeholder",o)}function l(){e.baSearchKeyTimer=null;const t=a.A.queryElementById.call(e,e._inputId);e._lastInputValue=t.value,e.populateSuggestions();let o=a.A.queryElement.call(e,"ba-accordion");o&&o.openAccordion()}o&&(o.addEventListener("focusin",(()=>{e.hideSuggestions(null)})),o.onchange=()=>{const t=a.A.queryElementById.call(e,e._inputId).value;e._lastInputValue!=t&&e.toggleSuggestions(),e._lastInputValue=t},o.onkeyup=()=>{setTimeout((function(){e.hideDropdown(),function(){if(e.baSearchKeyTimer){let t=e.baSearchKeyTimer;e.baSearchKeyTimer=null,clearTimeout(t)}e.baSearchKeyTimer=setTimeout(l,1e3)}()}),0)});let c=a.A.queryElementById.call(e,e._dropdownId);c&&c.addEventListener("calciteDropdownOpen",(function(){e.resetUI(!1,!0)})),e.baseConfig&&e.baseConfig.onComponentHasRendered(),e.applyCssAndThemeTo_Suggestions();const h=a.A.queryElement.call(e,"div.baSearchOuter",e.el);h&&(h.style.visibility="inherit")}))}componentWillRender(){const e=this;try{const t=e.baseConfig.config.baSearchType;if(t){if(e._searchTypeConv[t]!=e.stSearchScope&&!e._searchScopeDropDownSelected){const t=!0;e.syncSearchScopeFromConfig(t)}}}catch(e){a.a.Error("error: search has invalid config baSearchType",e)}}componentDidUpdate(){const e=this;e.baseConfig&&e.baseConfig.onComponentHasRendered()}handleSearchScopeSelection(e){this.stSearchScope=e,this._searchScopeDropDownSelected=!0,this.suggestionResults={location:[],boundary:[]},this.focusInput()}handleLocationSelection(e,t){return t.context.onClickLocationSuggestionItem(t.item),e.preventDefault(),e.stopPropagation(),!1}renderLocationSuggestions(){const e=this,t={"margin-right":"0px"};return("address"==e.stSearchScope||"all"==e.stSearchScope)&&e.suggestionResults?.location&&e.suggestionResults.location.length>0?(0,s.h)("calcite-list",{label:"Location Suggestions"},this.suggestionResults.location.map((o=>(0,s.h)("calcite-list-item",{value:o.magicKey,label:o.text,onClick:t=>e.handleLocationSelection(t,{context:e,item:o})},(0,s.h)("calcite-icon",{style:t,icon:"pin",scale:"s",slot:"content-start"}))))):(0,s.h)("ul",{class:"baSearchSuggestionsUl"})}renderBoundarySuggestions(){const e=this;if(("boundary"==e.stSearchScope||"all"==e.stSearchScope)&&e.suggestionResults?.boundary&&e.suggestionResults.boundary.length>0&&e.suggestionResults.boundary[0].attributes&&e.suggestionResults.boundary[0].attributes.DataLayerID){let t,o,s={};for(let i=0;i<e.suggestionResults.boundary.length;i++)try{if(t=e.suggestionResults.boundary[i],o=t.attributes.DataLayerID,a.A.hasText(o)){s[o]||(s[o]={aveScore:null,records:[]});let e="   Score:"+t.attributes.Score.toString(),i=t.attributes.CountryAbbr+"/"+t.attributes.MajorSubdivisionName+"/"+t.attributes.AreaID+e,a={id:t.attributes.ObjectId,areaId:t.attributes.AreaID,name:t.attributes.AreaName,major:t.attributes.MajorSubdivisionAbbr,subText:i,score:t.attributes.Score,isZipcode:t.attributes.DataLayerID.toLowerCase().includes("zip")};s[o].records.push(a)}}catch(e){a.a.Error("arcgis-ba-search error",e)}let i=(new Date).getTime();return e.renderStdGeographyLevelLists(s,i)}}_getAccordionTitle(e){let t=e;if(this._geographyLevelData)for(let o=0;o<this._geographyLevelData.length;o++){const s=this._geographyLevelData[o];if(e==s.id&&a.A.hasText(s.name)){t=s.name;break}}return t}renderStdGeographyLevelAccordion(e,t,o){const i=this;if(t.records&&t.records.length>0){const a=100,n=t.records.sort((function(e,t){return null==e.score?0:null==t.score?1:t.score-e.score})).slice(0,a);let r=[];n.forEach((function(e){const t=", "+e.major,o=e.name.includes(t)?"":t,s=e.isZipcode&&("US"==i.sourceCountry||"PR"===i.sourceCountry),a=!("US"==i.sourceCountry||"PR"===i.sourceCountry),n=s||a?e.areaId+" ("+e.name+")":e.name+o;r.push({id:e.id,name:n,subText:e.subText||"",score:e.score,icon:"polygon-area"})}));const l=JSON.stringify(r),c=void 0!==typeof this.stSuglite&&!1!==this.stSuglite?"true":"false",h=this._getAccordionTitle(e);return(0,s.h)("ba-accordion",{suglite:c,groupid:o,calciteicon:"polygon-area",displayname:h,content:l})}}calculateLevelAverageScores(e){let t=a.A.getKeys(e);for(let o=0;o<t.length;o++){let s=e[t[o]];if(!s.records||s.records.length<=0)s.aveScore=null;else{let e=0,t=0;s.records.forEach((function(o){e+=o.score,t++})),s.aveScore=e/t}}}renderStdGeographyLevelLists(e,t){let o=[],i=a.A.getKeys(e);if(i.length>0){this.calculateLevelAverageScores(e);let a=i.sort((function(t,o){return null==e[t].aveScore?0:null==e[o].aveScore?1:e[o].aveScore-e[t].aveScore}));for(let s=0;s<a.length;s++){let i=e[a[s]];null!=i.aveScore&&o.push(this.renderStdGeographyLevelAccordion(a[s],i,t))}return o&&o.length>0?(0,s.h)("div",{class:"ba-search-boundary-types"},o):(0,s.h)("div",null)}}hideDropdown(){let e=a.A.queryElementById.call(this,this._dropdownId);e&&e.setAttribute("open","false")}showDropdown(){let e=a.A.queryElementById.call(this,this._dropdownId);e&&e.setAttribute("open","true")}toggleDropdown(){let e=a.A.queryElementById.call(this,this._dropdownId);if(e){"true"==e.getAttribute("open")?this.hideDropdown():(this.hideSuggestions(null),e.setAttribute("open","true"))}else this._debug("arcgis-ba-search: missing dropdown...",this._dropdownId);a.A.queryElementById.call(this,this._inputId).value=""}toggleSuggestions(){const e=a.A.queryElementById.call(this,this._suggestId);e&&("0"==e.style.maxHeight?this.showSuggestions(e):this.hideSuggestions(e))}applyCssAndThemeTo_Suggestions(){let e=this,t=a.A.queryElementAll.call(e,"calcite-dropdown-item");t&&t.length>0&&t.forEach((function(t){let o=a.A.queryElement.call(e,"div.container",t);o&&(o.style.paddingLeft="4px")}))}applyCssAndThemeTo_Search(){const e=this;this.config&&a.A.hasText(this.config)&&!this.baseConfig.config&&this.onConfigChange(this.config),a.A.applyCss.call(e,[["paddingLeft","4px"]],{id:a.A.fixId(e._dropLocId),subSelector:"div.container"}),a.A.applyCss.call(e,[["fontSize","9pt"]],{selector:"calcite-dropdown-item",subSelector:"div.container"}),a.A.applyCss.call(e,[["minWidth","212px"]],{selector:"calcite-dropdown-group"}),2===e.theme&&(e.el.style.setProperty("--calcite-color-brand","#007F94"),e.el.style.setProperty("--calcite-color-brand-hover","#00aabb"),e.el.style.setProperty("--calcite-color-brand-press","#00aabb"),e.el.style.setProperty("--calcite-color-background","#353535"),e.el.style.setProperty("--calcite-color-foreground-1","#181818"),e.el.style.setProperty("--calcite-color-foreground-2","#4a4a4a"),e.el.style.setProperty("--calcite-color-foreground-3","#4a4a4a"),e.el.style.setProperty("--calcite-color-text-1","#ffffff"),e.el.style.setProperty("--calcite-color-text-2","#bfbfbf"),e.el.style.setProperty("--calcite-color-text-3","#9f9f9f"),e.el.style.setProperty("--calcite-color-text-inverse","#151515"),e.el.style.setProperty("--calcite-color-text-link","#00a0ff"),e.el.style.setProperty("--calcite-color-border-1","#555555"),e.el.style.setProperty("--calcite-color-border-2","#181818"),e.el.style.setProperty("--calcite-color-border-3","#181818"),e.el.style.setProperty("--calcite-color-border-input","#757575"),e.el.style.setProperty("--calcite-color-info","#00a0ff"),e.el.style.setProperty("--calcite-color-success","#36da43"))}adjustSuggestionsPosition(){const e=a.A.queryElementById.call(this,this._suggestId);e&&this.showSuggestions(e)}repositionSuggesions(e){a.a.Log("SEARCH repositionSuggestions..."),e=e||a.A.queryElementById.call(this,this._suggestId);const t=a.A.queryElementById.call(this,a.A.fixId(this._inputId)),o=t.getBoundingClientRect(),s=window.innerHeight;let i;const n=o.bottom,r=o.top;i=n+300+30>s?s-r:s-n-30,e.style.maxHeight=i<300?s-(s-r+30)+"px":i+"px",n+i+30>s?(e.style.top="auto",e.style.bottom="calc(100% + 5px)"):e.style.top="";const l=a.A.queryElement.call(this,"button.calcite-input__clear-button",t);l&&(l.style.border="none",l.style.backgroundColor="transparent")}showSuggestions(e){a.a.Log("SEARCH showSuggestions= ",this.suggestionResults);const t=this.baseConfig.config.colors;(e=e||a.A.queryElementById.call(this,this._suggestId))&&(e.style.backgroundColor=t.foreground,this.repositionSuggesions(e),this.selectorPopupOpened.emit(),setTimeout((()=>{e.style.display="block"}),100))}hideSuggestions(e){e||(e=a.A.queryElementById.call(this,this._suggestId)),e&&"0"!=e.style.maxHeight&&(e.style.maxHeight="0",e.style.display="none",this.selectorPopupClosed.emit())}async populateSuggestions(){const e=this;a.a.Log("SEARCH populate suggestions...");const t=a.A.queryElementById.call(e,e._inputId);if(e.searchQuery=t.value,e.searchQuery&&e.searchQuery.length>0){o=e.token,e.geocoderClient&&e.geocoderClient.suggest||(e.geocoderClient=new n(o)),i.E.orgGeocoders&&i.E.orgGeocoders.length>0&&(e.geocoderClient.geocoderUrl=a.A.fixUrlEndingSlash(i.E.geocodeUrl)),e.suggestionResults={location:[],boundary:[]};const t={location:[],boundary:[]};if("address"===e.stSearchScope||"all"===e.stSearchScope)try{const o=await e.geocoderClient.suggest(e.searchQuery,{sourceCountry:e.sourceCountry,langCode:e.langCode});a.a.Log("SEARCH suggest query results=",o),o&&o.length>0?o.forEach((e=>{e.isCollection||t.location.push(e)})):"address"===e.stSearchScope&&(this._debug("arcgis-ba-search: no locations found "),e.hideSuggestions(null))}catch(t){e.suggestionResults={location:[],boundary:[]},a.a.Error("arcgis-ba-search error ",t),"address"===e.stSearchScope&&e.hideSuggestions(null)}if("boundary"===e.stSearchScope||"all"===e.stSearchScope)if(e._geographyLevelData=await e.getFilteredGeographyLevels(),e._geographyLevelData&&e._geographyLevelData.length>0){const o=await i.T.token.access_token,s=e._geographyLevelData.map((e=>e.id.toString()));let n;try{n=await i.G.searchStdGeography(e.searchQuery,{featureLimit:1e3,geographyLayers:s,useFuzzySearch:!0,langCode:e.langCode,sourceCountry:e.stSourceCountry,optionalCountryHierarchy:e.selectedHierarchy||e.baseConfig?.config?.selectedHierarchy,token:o})}catch(t){e.suggestionResults={location:[],boundary:[]},-1!=t.message.indexOf("token")?a.a.Error("search: invalid token",t):a.a.Error("arcgis-ba-search error ",t)}n?.length?(e._openFirst=!0,t.boundary=n):(a.a.Warn("arcgis-ba-search Warning: No STD GEO search results"),"boundary"===e.stSearchScope&&e.hideSuggestions(null))}else a.a.Error("arcgis-ba-search searchStdGeography error: no geography levels selected"),e.hideSuggestions(null);e.suggestionResults=t,e.showSuggestions(null),e.repositionSuggesions(null)}else e.hideSuggestions(null);var o}render(){const e=this;if(a.a.Log("SEARCH render",this.baseConfig.config,this.stSearchScope),e._openFirst){function o(){let t=a.A.queryElement.call(e,"ba-accordion");t&&t.openAccordion()}e._openFirst=!1,setTimeout(o,100)}null!=e.stNoGeography&&!0===e.stNoGeography&&(e.stSearchScope="address");const t=void 0!==this.baseConfig.config?.baSearchType&&"0"!==this.baseConfig.config?.baSearchType?"arcgisBaSearchNoDropdown":"arcgisBaSearchDropdownChooser";return(0,s.h)("div",{key:"85567df74397272f3f78e26be71dc3a419afc251"},(0,s.h)("div",{key:"28998f7cc1f533cc1178aa13641192d21e61ce2b",class:"baSearchOuter",style:{visibility:"hidden"}},(0,s.h)("calcite-dropdown",{key:"3a4e330549f1a3d16c33ef05e5c5525642b43320",class:t},(0,s.h)("calcite-button",{key:"9fe93d434de00a04231299e019b03834ed1e817c",slot:"trigger",style:{position:"absolute",width:"30px",height:"32px",overflow:"hidden"},kind:"neutral","icon-start":"chevron-down"}),(0,s.h)("calcite-dropdown-group",{key:"fdb34a050d8ed2314d5d0a8bf655033328b90e71","selection-mode":"single"},(0,s.h)("calcite-dropdown-item",{key:"843b47c92c699d706e5ea50536b6da3c5920c173","icon-start":"analysis",tabIndex:0,onClick:()=>this.handleSearchScopeSelection("all")},this.searchAll),(0,s.h)("calcite-dropdown-item",{key:"2949eda8aa42f77eb0fd8df97d7d7edef9bd9ec2","icon-start":"pin",tabIndex:0,onClick:()=>this.handleSearchScopeSelection("address")},this.searchPlaceholderShort),(0,s.h)("calcite-dropdown-item",{key:"823bc7d7de269ca2b042697b082f4de0d1fb69f9","icon-start":"polygon",tabIndex:0,onClick:()=>this.handleSearchScopeSelection("boundary")},this.searchBoundary," "))),(0,s.h)("calcite-input",{key:"f75d3119584c94b0b1a47fb8f7107bf144f02a09",id:this._inputId,class:"arcgisBaSearchInput",clearable:!0,placeholder:"address"===this.stSearchScope?this.searchPlaceholder:"all"===this.stSearchScope?this.searchAllPlaceholder:this.searchEnterBoundary}),(0,s.h)("div",{key:"3d3ec2896e93c894e3d27a7d7d1bf3a678e691c4",id:this._suggestId,class:"lightSuggestionOuter"},("address"===this.stSearchScope||"all"===this.stSearchScope)&&this.renderLocationSuggestions(),("boundary"===this.stSearchScope||"all"===this.stSearchScope)&&this.renderBoundarySuggestions())))}static get watchers(){return{config:["onConfigChange"],nogeography:["onNoGeographyChanged"],maxsuggestionheight:["onMaxSuggestionHeightChanged"],env:["onEnvChanged"],token:["onTokenChanged"],username:["onUsernameChanged"],langCode:["onLangCodeChanged"],geoenrichmentUrl:["onGeoenrichmentUrlChanged"],theme:["onThemeChanged"],sourceCountry:["onCountryChanged"],currentSearchText:["onSearchTextChanged"],mode:["onModeChanged"],suglite:["onSugliteChanged"],activeLevels:["onActiveLevelsChanged"]}}};r.style=":host{display:block}arcgis-ba-search{width:50%;height:36px}.ba-calcite-dropdown-group{display:block;min-width:240px}.arcgisBaSearchIconButton{width:30px;height:30px}.arcgisBaSearchInputNoGeog{position:relative;left:0;width:100%;z-index:1}.arcgisBASearchOuter{position:relative}.baSearchElement{position:absolute;top:0;left:0;width:32px;height:32px;font-family:arial;font-size:13pt;z-index:1}.baSearchMagGlass{position:absolute;top:0;right:-7px;height:calc(100% - 2px);width:32px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' version='1.1' x='0px' y='0px' width='28px' height='28px' viewBox='0 0 28 28' enable-background='new 0 0 28 28' xml:space='preserve'%3E%3Cpath d='M29.974,53.745c-0.034-0.165-0.307-0.782-0.402-0.923c-0.096-0.137-1.078-0.882-1.232-0.942 c-0.158-0.06-0.851-0.03-1.041-0.03l-14.906,0.033l2.392-2.447c0.085-0.086,0.173-0.184,0.259-0.27 c0.087-0.086,0.173-0.173,0.261-0.26c0.086-0.086,0.168-0.172,0.247-0.26c0.077-0.086,0.149-0.172,0.22-0.259 c0.139-0.12,0.258-0.251,0.352-0.39c0.096-0.139,0.176-0.281,0.247-0.428c0.07-0.148,0.12-0.303,0.156-0.469 c0.035-0.166,0.051-0.342,0.051-0.533c0-0.087-0.005-0.168-0.014-0.247c-0.008-0.078-0.021-0.155-0.038-0.233 c-0.018-0.077-0.039-0.156-0.065-0.234c-0.025-0.077-0.057-0.16-0.091-0.246c-0.035-0.086-0.074-0.169-0.117-0.246 c-0.043-0.078-0.092-0.156-0.143-0.234c-0.051-0.077-0.108-0.151-0.168-0.221c-0.061-0.07-0.126-0.138-0.195-0.207 c-0.139-0.121-0.281-0.225-0.429-0.312s-0.3-0.158-0.455-0.22c-0.156-0.061-0.321-0.102-0.494-0.127 c-0.172-0.025-0.354-0.035-0.546-0.035c-0.19,0-0.372,0.025-0.545,0.051c-0.173,0.025-0.337,0.092-0.494,0.152 c-0.156,0.061-0.307,0.178-0.455,0.264c-0.146,0.086-0.29,0.279-0.429,0.4L2,54.301l9.95,9.646c0.138,0.139,0.281,0.08,0.429,0.174 c0.147,0.096,0.298,0.18,0.454,0.248c0.156,0.07,0.321,0.121,0.494,0.154c0.173,0.035,0.355,0.053,0.546,0.053 c0.19,0,0.372-0.018,0.545-0.053c0.174-0.033,0.339-0.084,0.493-0.154c0.155-0.068,0.308-0.152,0.454-0.248 c0.148-0.094,0.29-0.211,0.43-0.35c0.139-0.121,0.257-0.252,0.351-0.391c0.096-0.139,0.178-0.285,0.248-0.441 c0.068-0.156,0.121-0.318,0.156-0.482c0.034-0.164,0.051-0.34,0.051-0.531c0-0.07-0.004-0.143-0.014-0.221 c-0.009-0.078-0.021-0.156-0.038-0.234c-0.018-0.076-0.04-0.154-0.064-0.232c-0.026-0.078-0.058-0.162-0.092-0.248 c-0.035-0.088-0.075-0.168-0.117-0.246c-0.043-0.078-0.091-0.15-0.143-0.223c-0.051-0.068-0.107-0.139-0.168-0.205 c-0.061-0.072-0.127-0.141-0.195-0.211c-0.07-0.084-0.143-0.174-0.221-0.258c-0.078-0.088-0.16-0.176-0.247-0.262 c-0.088-0.086-0.173-0.176-0.261-0.262c-0.085-0.088-0.172-0.18-0.259-0.266l-2.391-2.352l14.906-0.031 c0.19,0,0.883-0.059,1.041-0.121c0.154-0.061,0.742-0.436,0.882-0.559c0.139-0.121,0.528-0.676,0.598-0.832 c0.068-0.156,0.121-0.217,0.155-0.379C30.009,54.619,30.009,53.91,29.974,53.745z' style='fill:%23555;fill-opacity:1'/%3E%3Cg id='g2988' style='fill:%23555;fill-opacity:1'%3E%3Cpath d='M0.1,10.535c0-1.45,0.271-2.808,0.815-4.076c0.543-1.268,1.286-2.374,2.229-3.315c0.941-0.942,2.047-1.685,3.315-2.229 C7.727,0.372,9.085,0.1,10.535,0.1s2.808,0.271,4.076,0.815c1.269,0.543,2.374,1.286,3.315,2.229 c0.94,0.941,1.685,2.047,2.229,3.315c0.543,1.268,0.814,2.626,0.814,4.076c0,0.508-0.035,1.01-0.109,1.509 c-0.071,0.498-0.177,0.982-0.311,1.453c-0.138,0.47-0.306,0.924-0.504,1.358c-0.198,0.434-0.428,0.851-0.681,1.25l7.88,7.853 c0.221,0.219,0.381,0.471,0.491,0.762c0.108,0.291,0.163,0.586,0.163,0.883c0,0.298-0.055,0.595-0.163,0.884 c-0.11,0.291-0.271,0.543-0.491,0.76c-0.106,0.109-0.227,0.206-0.351,0.287c-0.127,0.08-0.26,0.149-0.395,0.204 c-0.137,0.054-0.275,0.095-0.422,0.124c-0.145,0.025-0.29,0.039-0.435,0.039s-0.291-0.014-0.436-0.039 c-0.146-0.029-0.291-0.07-0.434-0.124c-0.146-0.055-0.281-0.124-0.408-0.204c-0.127-0.081-0.244-0.178-0.354-0.287l-7.853-7.881 c-0.398,0.255-0.816,0.483-1.25,0.681c-0.435,0.2-0.888,0.367-1.359,0.505c-0.471,0.136-0.956,0.238-1.454,0.312 c-0.499,0.072-1,0.107-1.509,0.107c-1.448,0-2.807-0.271-4.076-0.814c-1.268-0.543-2.373-1.288-3.314-2.229 c-0.943-0.942-1.685-2.048-2.229-3.315c-0.543-1.268-0.815-2.626-0.815-4.076H0.1z M3.579,10.535c0,0.961,0.182,1.862,0.544,2.704 c0.362,0.844,0.86,1.581,1.494,2.215c0.634,0.635,1.372,1.131,2.215,1.493c0.841,0.363,1.742,0.545,2.703,0.545 s1.862-0.182,2.704-0.545c0.844-0.362,1.581-0.858,2.214-1.493c0.635-0.634,1.132-1.372,1.494-2.215 c0.363-0.841,0.545-1.743,0.545-2.704s-0.182-1.862-0.545-2.703c-0.362-0.843-0.859-1.582-1.494-2.215 c-0.633-0.634-1.371-1.132-2.214-1.494c-0.841-0.362-1.743-0.544-2.704-0.544S8.673,3.76,7.832,4.123 C6.989,4.485,6.25,4.983,5.617,5.617S4.485,6.989,4.123,7.832C3.76,8.673,3.579,9.574,3.579,10.535z' id='path2990' style='fill:%23555;fill-opacity:1'/%3E%3C/g%3E%3C/svg%3E\");background-size:18px;background-position:2px 6px;background-repeat:no-repeat;border:none}.baSearchInput{position:absolute;top:0;left:32px;height:28px;width:100%;border:none;font-size:12pt}.htmlSearchBounds{position:relative;top:0;left:40px;width:50%}.baSearchToggle{position:absolute;top:0;left:0;width:32px;height:32px;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 1000 1000' enable-background='new 0 0 1000 1000' xml:space='preserve'%3E%3Cg%3E%3Cpath d='M18.1,232.2l452.4,581.9c15.1,19.5,44.5,19.5,59.7,0L982,232.2c19.3-24.8,1.5-60.9-29.9-60.9H47.9C16.4,171.2-1.3,207.4,18.1,232.2z'/%3E%3C/g%3E%3C/svg%3E%0A\");background-size:12px;background-position:12px;background-repeat:no-repeat;border:none}.baSearchInput:focus{outline:none}.baSearchDropdownTarget{position:absolute;top:-10px;left:-10px;width:42px;height:42px;z-index:3}.baSearchDropdownText{position:absolute;top:8px;left:37px}.baSearchDropdownImgLoc{position:absolute;top:6px;left:4px;width:24px;height:26px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%236F6F6F' d='M7.4688 0C5.3586 0 3 .8459 3 3.0469V12l4.5 4 4.5-4V3.047C12 .8459 9.5797 0 7.4687 0zM11 11.5508L7.5 14.662 4 11.5508v-8.504C4 1.0577 7.1138 1 7.4688 1 8.7803 1 11 1.4312 11 3.0469v8.5039zM7.5 3C6.1193 3 5 4.1193 5 5.5S6.1193 8 7.5 8 10 6.8807 10 5.5 8.8807 3 7.5 3zm0 4.125c-.896 0-1.625-.729-1.625-1.625 0-.8961.729-1.625 1.625-1.625s1.625.7289 1.625 1.625c0 .896-.729 1.625-1.625 1.625z'/%3E%3C/svg%3E\");background-size:24px;background-repeat:no-repeat}.baSearchDropdownImgBdy{position:absolute;top:6px;left:4px;width:24px;height:24px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%236F6F6F' d='M2 16H1V1h1v15zM15 .5h-1v7h1v-7zm0 .5V0H1v1h14zm-5 6.4928V8h5V7h-4.5432M3.445 15.8799V15H1v1h2.2299m8.5968-8.9816h-.9945l-.112.1134c-.1064.1133-.375.4022-.4073.4598-.1172.21-.1445.5303-.1787 1.0361-.0117.168-.0628.9791-.1039 1.0621-.2607.3682-.1006.8613.0166 1.2237a1.806 1.806 0 0 1 .0264.078c-.0977.0157-.1816.047-.252.0929l-.0605-.0127c-.0068-.002-.7373-.1768-1.3828-.1768-.4082 0-.6934.0674-.876.21-.3232.2548-.501.3945-.5195.6513-.0166.2373.1289.3887.2558.5205l.0899.0957c.2217.2412.33.545.2617.7393-.0791.2275-.417.3135-.6113.3437a1.6306 1.6306 0 0 1-.2725.0235c-.3242 0-.5664-.1084-.8525-.2354-.3399-.1513-.9566-.3222-1.5338-.3398-.3095 0-.9385.25-1.0361.7265-.043.2042-.0918.5948.0596.8975.0039.0381.2027.2861-.7915 1.3555L2.4448 16h1.0748c.5275-.638.8057-1.2883.5453-1.815-.0214-.044-.04-.1885-.0127-.3555.0342-.042.2041-.124.255-.125.4072.0127.9077.1308 1.2241.2705.3193.1426.6807.3027 1.1748.3027.123 0 .2549-.0098.3975-.0312.8203-.13 1.128-.546 1.2422-.873.168-.4815.0029-1.0724-.4297-1.544l-.0176-.0186c.0322-.0254.0664-.0517.0996-.0781.001 0 .0664-.039.3408-.039.3545 0 .8496.0624 1.2334.1552.1338.0322.2373.0527.336.0527.162 0 .288-.0556.3379-.121l.1445.0038c.1816 0 .3262-.0683.4297-.203.2011-.2589.0976-.5772-.0127-.917-.0957-.291-.1358-.4678-.126-.5108.1611-.2246.2103-.8912.2513-1.484.0127-.1826.043-.6093.0752-.6826a.309.309 0 0 1 .0303-.039h2.8057v-.8008l-2.0175-.129z'/%3E%3C/svg%3E\");background-size:24px;background-repeat:no-repeat}.baSearchDropdownMenu{position:absolute;top:27px;left:6px;min-width:260px;margin:0;list-style:none;padding-left:0;z-index:4;display:none}.baSearchDropdownMenu.baSearchMenuIsVisible{display:block}.baSearchDropdownMenu li{padding:5px 10px}ul.baSearchDropdownMenu li{position:relative;height:30px;padding-top:9px;padding-bottom:0;z-index:4}.lightSuggestionOuter,.baSearchSuggestionsOuter{position:absolute;top:30px;left:0px;min-width:210px;height:auto;min-height:41px;overflow-y:none;max-height:0px;transition-property:all;transition-duration:.5s;transition-timing-function:cubic-bezier(0, 1, 0.5, 1);font-family:arial;font-size:10pt;z-index:4;overflow:none;display:none}.baSearchSuggestionsOuter{width:210px;max-width:210px;}.lightSuggestionOuter{width:100%;max-width:100%;overflow-y:auto;box-shadow:rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;top:37px;}ul.baSearchSuggestionsUl{padding-inline-start:12px;margin-block-start:8px;margin-block-end:6px;width:calc(100% - 14px)}ul.baSearchSuggestionsUl li{position:relative;display:flex;flex-direction:row;align-items:center;padding-top:4px;padding-left:1px;padding-bottom:4px;font-size:9.5pt;list-style:none;z-index:4}.baSearchSuggestionNoSub{font-size:11.5pt;}.baSearchStdGeographyInfo{font-size:8.5pt;padding-top:4px;}.baSearchStdGeographyName{font-size:11.5pt}calcite-input::part(badarkinput)::placeholder{opacity:1;}calcite-input::part(badarkinput):-ms-input-placeholder{}calcite-input::part(badarkinput)::-ms-input-placeholder{}.baSearchOuter{position:relative;width:100%;height:32px;display:flex;justify-content:left;align-items:center;}.arcgisBaSearchDropdownChooser{position:relative;width:30px;height:32px;z-index:5}.arcgisBaSearchInput{flex-grow:1;height:32px;z-index:1}.arcgisBaSearchInput>input{left:1px}.arcgisBaSearchNoDropdown{display:none}"}}]);