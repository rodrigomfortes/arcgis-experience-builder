"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-cb9ce4"],{1925:(e,t,i)=>{i.d(t,{a:()=>r,g:()=>a,s:()=>n});var s=i(4280),o=i(983);function r(e,t){try{return null!=e&&e.length>0?null!=t&&t.length>0?(s.T.setToken(e,t),o.B.i18n("ok")):o.B.i18n("invalid-token"):o.B.i18n("invalid-username")}catch(e){return e}}function n(e){try{return null!=e&&e.length>0?(s.S.setEnvironment(e),o.B.i18n("ok")):o.B.i18n("invalid-environment")}catch(e){return e}}async function a(e,t=!1,i,o){return await s.G.getInfographicTemplatesList(e,t,i,o)}},4560:(e,t,i)=>{i.r(t),i.d(t,{arcgis_infographic_selector:()=>h,arcgis_infographic_tree:()=>l});var s=i(8796),o=i(983),r=i(4280),n=i(1925);class a{static show=(e,t,i,s,r)=>{t&&i&&r&&o.U.hasText(r)&&(e==this._reportId?this._resetTimer():(this.hidePopup(),this.timeoutSeconds||(this.timeoutSeconds=6),this._container=t,this._reportId=e,this._generatePopup(i,s,r),this._startTimer()))};static nextCallback(e){e&&(this._callbackNext=e)}static previousCallback(e){e&&(this._callbackPrev=e)}static hidePopup(){this._cancelTimer(),this._removePopup(),this._reportId=""}static timeoutSeconds;static _container;static _popupElement;static _reportId;static _callbackNext;static _callbackPrev;static _rightPad=60;static _timer;static _onTimerTick(){this._timer=void 0,this.hidePopup()}static _onGoToNext(){this._callbackNext&&this._callbackNext(this._reportId)}static _onGoToPrev(){this._callbackPrev&&this._callbackPrev(this._reportId)}static _startTimer(){const e=this;e._cancelTimer(),e._timer=setTimeout((()=>{e._onTimerTick.call(e)}),1e3*this.timeoutSeconds)}static _cancelTimer(){this._timer&&(clearTimeout(this._timer),this._timer=void 0)}static _resetTimer(){this._cancelTimer(),this._startTimer()}static _removePopup(){this._popupElement&&this._popupElement.remove(),this._popupElement=void 0}static _generatePopup(e,t,i){const s=this,o=document.createElement("div");o.style.position="absolute",o.style.left="0",o.style.top="0",o.style.width=this._container.offsetWidth-this._rightPad+"px",o.style.height=this._container.offsetHeight+"px",o.style.backgroundColor="transparent",o.style.zIndex="900",this._popupElement=o,this._container.appendChild(this._popupElement),o.addEventListener("mouseover",(()=>{s.hidePopup()})),this._placeImageDiv(e,t,i)}static _placeImageDiv(e,t,i){try{const s=20,o=document.createElement("img");let r={click:{y:e},popup:{top:0,right:0,wt:1,ht:1},adjustedContHt:this._popupElement.offsetHeight-2*s,adjustedContWt:this._popupElement.offsetWidth-s,ratio:t};r.ratio>=1?(r.popup.wt=r.adjustedContWt,r.popup.ht=r.popup.wt/r.ratio,r.popup.ht>r.adjustedContHt&&(r.popup.ht=r.adjustedContHt,r.popup.wt=r.adjustedContHt*r.ratio)):(r.popup.ht=r.adjustedContHt,r.popup.wt=r.popup.ht*r.ratio,r.popup.wt>r.adjustedContWt&&(r.popup.wt=r.adjustedContWt,r.popup.ht=r.adjustedContWt/r.ratio));const n=e/2-r.popup.ht/2+s,a=this._popupElement.offsetHeight-r.popup.ht-s,l=s;r.popup.top=Math.max(Math.min(n,a),l),o.style.position="absolute",o.style.right=`${r.popup.right}px`,o.style.top=`${r.popup.top}px`,o.style.width=`${r.popup.wt}px`,o.style.height=`${r.popup.ht}px`,o.src=i,this._popupElement.appendChild(o),o.addEventListener("mouseover",(e=>(e.stopPropagation(),e.preventDefault(),!1)))}catch(e){console.error("PreviewPopup error:",e)}return document.createElement("img")}}const l=class{get el(){return(0,s.g)(this)}baseConfig;_instanceId;_idPrefix="arcgis-infographic-tree-";_busyId;_idPrefixBusy="arcgis-infographic-tree-busy-";_containerId;_busyIdPrefix="ig-tree-busy-";_containerPrefix="ait-container-";_infographics;_elementIds={};_idListPrefix="ig-tree-list-";_idSearchPrefix="ig-tree-search-";_idSortPrefix="ig-tree-sort-";_reportsId;_idPrefixReports="selector-popover-reports-";_debounceTimer;_imgOffset=1;_content;_selectedReport;_configFilteredReports;_dbg=!1;_cachedReports;constructor(e){(0,s.r)(this,e),this.reportSelected=(0,s.c)(this,"reportSelected",7),this.config=void 0,this.colors=void 0,this.theme=void 0,this.env=void 0,this.token=void 0,this.username=void 0,this.langCode=void 0,this.sourceCountry=void 0,this.selectedHierarchy=void 0,this.geoenrichmentUrl=void 0,this.selectedReportId=void 0,this.portalUrl=void 0,this.reportList=void 0,this.portalOnlineGEProxy=void 0,this.stEnv=void 0,this.stToken=void 0,this.stUsername=void 0,this.stLangCode=void 0,this.stSourceCountry="US",this.stSelectedHierarchy="",this.stColors=void 0,this.stTheme=void 0,this.stMultipleChoice=!1,this.stSelectedReportId=void 0,this.stColorTheme=void 0,this.stReportList=void 0,this.stGeoenrichmentUrl=void 0,this.stSortType="newest",this.stTimestamp=void 0,this._isInitialized=!1,this.openPopoverId=null,this.defaultReport=void 0,this.stDefaultReport=void 0,this.baseConfig=new o.a("tree",this,this.onUpdateUI),o.A.announceVersion(),this._instanceId=o.E.generateId(this._idPrefix).id,this._busyId=o.E.generateId(this._busyIdPrefix).id,this._infographics={MyInfographics:{dataId:2,tag:"report-my-infographics",data:void 0},EsriInfographics:{dataId:3,tag:"report-esri-infographics",data:void 0},SharedInfographics:{dataId:4,tag:"report-shared-infographics",data:void 0},GalleryInfographics:{dataId:5,tag:"report-gallery-infographics",data:void 0},TabularReports:{dataId:6,tag:"report-tabular-reports",data:void 0}},this.langCode="en-us",this.sourceCountry="US",this.stMultipleChoice=!1,o.B._initialize(this.langCode)}onConfigChange(e,t){if(o.a.LogConfig("TREE config change",e,t),e&&"string"==typeof e&&this.baseConfig&&o.A.hasText(e)){const t=JSON.parse(e);if(this.baseConfig.updateConfig(t),this.baseConfig.config?.reportList){let e={};const t="string"==typeof this.baseConfig.config.reportList?JSON.parse(this.baseConfig.config.reportList):this.baseConfig.config.reportList,i=o.A.getKeys(t);if(i&&i.length>0)for(let s=0;s<i.length;s++){let o=[];const r=i[s],n=t[r];n.length>0&&n.forEach((e=>{e.isChecked&&o.push(e)})),o.length>0&&(e[r]=o)}this._configFilteredReports=e}else this._configFilteredReports=void 0;if(e&&o.A.hasText(e)){const t=JSON.parse(e);t&&this.setDefaultReport(t.defaultReport)}}}onDefaultReportChanged(){if(o.a.Log("TREE updating defaultReport",this.defaultReport),"string"==typeof this.defaultReport){if(this.defaultReport&&o.A.hasText(this.defaultReport)){const e=JSON.parse(this.defaultReport);e&&e.id&&e.name?(this.stDefaultReport=e,this.stSelectedReportId=e.id):(this.stDefaultReport=void 0,this.stSelectedReportId="")}}else void 0===this.defaultReport?(this.stDefaultReport=void 0,this.stSelectedReportId=""):this.defaultReport?.id&&this.defaultReport?.name&&o.A.hasText(this.defaultReport?.id)&&o.A.hasText(this.defaultReport?.name)?(this.stDefaultReport=this.defaultReport,this.stSelectedReportId=this.defaultReport.id):(this.stDefaultReport=void 0,this.stSelectedReportId="")}_hasReport(e){return e&&e.id&&o.A.hasText(e.id)&&e.name&&o.A.hasText(e.name)}_sameReport(e,t){return!e&&!t||e&&t&&e.id==t.id&&e.name==t.name}_getSelectedReport(){let e;const t=this.baseConfig.getParentConfigProperty("selectedReport");return e=this._sameReport(this._selectedReport,t)?this._selectedReport:t,this._sameReport(this._selectedReport,t)||(this._selectedReport=t),e}async setDefaultReport(e){o.a.Log("TREE setDefaultReport",e),e&&e.id&&o.A.hasText(e.id)&&e.name&&o.A.hasText(e.name)?(this.stDefaultReport=e,this.stSelectedReportId=e.id):(this.stDefaultReport=void 0,this.stSelectedReportId="")}onEnvChanged(){this.stEnv=this.env,r.E.setEnvironment(this.env),this.baseConfig&&this.baseConfig.updateConfig({env:this.env})}onLangCodeChanged(){this.stLangCode=this.langCode,o.B._initialize(this.stLangCode),this.baseConfig&&this.baseConfig.updateConfig({langCode:this.langCode})}onSourceCountryChanged(){this.stSourceCountry=this.sourceCountry,this.baseConfig&&this.baseConfig.updateConfig({sourceCountry:this.sourceCountry}),this._configFilteredReports=void 0,this._cachedReports=void 0,this.stReportList=void 0}onSelectedHierarchyChanged(){this.stSelectedHierarchy=this.selectedHierarchy,this.baseConfig&&this.baseConfig.updateConfig({selectedHierarchy:this.selectedHierarchy}),this._configFilteredReports=void 0,this._cachedReports=void 0,this.stReportList=void 0}onTokenChanged(){this.stToken=this.token,this.baseConfig&&this.baseConfig.updateConfig({token:this.token}),this.username&&o.A.hasText(this.username)&&this.token&&o.A.hasText(this.token)&&(0,n.a)(this.username,this.token),r.T.setToken(this.username,this.token)}onUsernameChanged(){this.stUsername=this.username,this.baseConfig&&this.baseConfig.updateConfig({username:this.username}),this.username&&o.A.hasText(this.username)&&(0,n.a)(this.username,r.T.token.access_token)}onSelectedReportChanged(){this.stSelectedReportId=this.selectedReportId}onReportListChanged(){this.stReportList=Object.keys(this.reportList).length?JSON.parse(this.reportList):{}}onThemeChanged(){this.stTheme=this.theme,this.baseConfig&&this.baseConfig.setTheme(this.theme)}onPortalUrlChanged(){this.portalUrl&&r.E.setPortalUrl(this.portalUrl)}onGeoenrichmentUrlChanged(){this.stGeoenrichmentUrl=this.geoenrichmentUrl,this.baseConfig&&this.baseConfig.updateConfig({geoenrichmentUrl:this.geoenrichmentUrl}),this.geoenrichmentUrl&&r.E.setGeoenrichmentUrl(this.geoenrichmentUrl)}reportSelected;async updateLayout(){this.adjustTreeItemsWidth()}async getConfig(){return this.baseConfig}async initialize(e,t,i,a,l,h,c){const d=this;d.token=t,d.username=e,d.sourceCountry=a,d.selectedHierarchy=l,d.langCode=h,d.env=i,d.stReportList=Object.keys(c).length?JSON.parse(c):{},d.onTokenChanged(),r.E.setEnvironment(d.env),d.geoenrichmentUrl&&r.E.setGeoenrichmentUrl(d.geoenrichmentUrl),d.portalUrl&&r.E.setPortalUrl(d.portalUrl),(0,n.a)(e,t);try{let e,i,o,r,h;const c=await(0,n.g)(a,!1,t,l);Object.keys(d.stReportList).length?(e=d.stReportList.user,i=d.stReportList.public,o=d.stReportList.shared,r=d.stReportList.gallery,h=d.stReportList.tabular):(e=(c.user??[]).map((e=>({...e,isChecked:!1}))),i=(c.public??[]).map((e=>({...e,isChecked:!0}))),o=(c.shared??[]).map((e=>({...e,isChecked:!1}))),r=(c.gallery??[]).map((e=>({...e,isChecked:!1}))),h=(c.tabular??[]).map((e=>({...e,isChecked:!1}))),d.stReportList={user:e,public:i,shared:o,gallery:r,tabular:h}),c?(d._infographics.MyInfographics.data=e,d._infographics.EsriInfographics.data=i,d._infographics.SharedInfographics.data=o,d._infographics.GalleryInfographics.data=r,d._infographics.TabularReports.data=h):(d._infographics.MyInfographics.data=void 0,d._infographics.EsriInfographics.data=void 0,d._infographics.SharedInfographics.data=void 0,d._infographics.GalleryInfographics.data=void 0,d._infographics.TabularReports.data=void 0),this._isInitialized=!0;const p=(0,s.h)("calcite-tree",{scale:"m",selectionMode:"single"},d.renderList("EsriInfographics",!0),d.renderList("MyInfographics",this.isOnlyConfiguredReportList("MyInfographics")),d.renderList("SharedInfographics",this.isOnlyConfiguredReportList("SharedInfographics")),d.renderList("GalleryInfographics",this.isOnlyConfiguredReportList("GalleryInfographics")),d.renderList("TabularReports",this.isOnlyConfiguredReportList("TabularReports")));d._content=p,d.showBusy.call(d,!1)}catch(e){o.a.Log("arcgis-infographic-tree request for esri reports failed",e)}}setLocaleStrings(){}showBusy(e){const t=o.A.queryElementById.call(this,this._busyId);t&&(t.style.display=e?"block":"none")}async getReportName(e){let t,i,s;if(e&&o.A.hasText(e)&&this._infographics){if(this._infographics.MyInfographics?.data)for(s=this._infographics.MyInfographics.data,i=0;i<s.length;i++)if(s[i].id===e){t=s[i].title;break}if(!t&&this._infographics.EsriInfographics?.data)for(s=this._infographics.EsriInfographics.data,i=0;i<s.length;i++)if(s[i].id===e){t=s[i].title;break}if(!t&&this._infographics.SharedInfographics?.data)for(s=this._infographics.SharedInfographics.data,i=0;i<s.length;i++)if(s[i].id===e){t=s[i].title;break}if(!t&&this._infographics.GalleryInfographics?.data)for(s=this._infographics.GalleryInfographics.data,i=0;i<s.length;i++)if(s[i].id===e){t=s[i].title;break}if(!t&&this._infographics.TabularReports?.data)for(s=this._infographics.TabularReports.data,i=0;i<s.length;i++)if(s[i].id===e){t=s[i].title;break}}return t}async setColorTheme(e){if(e&&o.A.hasText(e)&&this.el){this.stColorTheme=e.trim().toLowerCase();const t=e.trim().toLowerCase();"light"===t?(this.el.style.setProperty("--calcite-color-brand","#007ac2"),this.el.style.setProperty("--calcite-color-brand-hover","#00619b"),this.el.style.setProperty("--calcite-color-brand-press","#004874"),this.el.style.setProperty("--calcite-color-background","#f8f8f8"),this.el.style.setProperty("--calcite-color-foreground-1","#ffffff"),this.el.style.setProperty("--calcite-color-foreground-2","#f3f3f3"),this.el.style.setProperty("--calcite-color-foreground-3","#eaeaea"),this.el.style.setProperty("--calcite-color-text-1","#151515"),this.el.style.setProperty("--calcite-color-text-2","#4a4a4a"),this.el.style.setProperty("--calcite-color-text-3","#6a6a6a"),this.el.style.setProperty("--calcite-color-text-inverse","#ffffff"),this.el.style.setProperty("--calcite-color-text-link","#00619b"),this.el.style.setProperty("--calcite-color-border-1","#cacaca"),this.el.style.setProperty("--calcite-color-border-2","#d4d4d4"),this.el.style.setProperty("--calcite-color-border-3","#dfdfdf"),this.el.style.setProperty("--calcite-color-border-input","#949494"),this.el.style.setProperty("--calcite-color-info","#00619b"),this.el.style.setProperty("--calcite-color-success","#35ac46"),this.el.style.setProperty("--calcite-tree-padding-y","0")):"dark"===t&&(this.el.style.setProperty("--calcite-color-brand","#009af2"),this.el.style.setProperty("--calcite-color-brand-hover","#007ac2"),this.el.style.setProperty("--calcite-color-brand-press","#00619b"),this.el.style.setProperty("--calcite-color-background","#353535"),this.el.style.setProperty("--calcite-color-foreground-1","#2b2b2b"),this.el.style.setProperty("--calcite-color-foreground-2","#202020"),this.el.style.setProperty("--calcite-color-foreground-3","#151515"),this.el.style.setProperty("--calcite-color-text-1","#ffffff"),this.el.style.setProperty("--calcite-color-text-2","#bfbfbf"),this.el.style.setProperty("--calcite-color-text-3","#9f9f9f"),this.el.style.setProperty("--calcite-color-text-inverse","#151515"),this.el.style.setProperty("--calcite-color-text-link","#00a0ff"),this.el.style.setProperty("--calcite-color-border-1","#555555"),this.el.style.setProperty("--calcite-color-border-2","#4a4a4a"),this.el.style.setProperty("--calcite-color-border-3","#404040"),this.el.style.setProperty("--calcite-color-border-input","#757575"),this.el.style.setProperty("--calcite-color-info","#00a0ff"),this.el.style.setProperty("--calcite-color-success","#36da43"))}}_loadInstances(){this._instanceId||(this._instanceId=o.E.generateId(this._idPrefix).id),this._busyId||(this._busyId=o.E.generateId(this._idPrefixBusy).id),this._elementIds.list||(this._elementIds.list=o.E.generateId(this._idListPrefix).id),this._elementIds.search||(this._elementIds.search=o.E.generateId(this._idSearchPrefix).id),this._elementIds.sort||(this._elementIds.sort=o.E.generateId(this._idSortPrefix).id)}onUpdateUI(){}onClickTreeItem(e,t){return a.hidePopup(),this.reportSelected.emit({report:t}),e.stopPropagation(),e.preventDefault(),!1}applySort(e){if(e&&e.length>0){const t=[...e];let i=this.stSortType||"newest";const s=o.A.queryElementById.call(this,o.A.fixId(this._elementIds.sort));if(void 0!==s&&(i=s.value),i)switch(i){case"oldest":t.sort(((e,t)=>e.date-t.date));break;case"ascending":t.sort(((e,t)=>{let i=e.title,s=t.title;return i<s?-1:i>s?1:0}));break;case"descending":t.sort(((e,t)=>{let i=e.title,s=t.title;return i>s?-1:i<s?1:0}));break;default:t.sort(((e,t)=>{let i=e.date;return t.date-i}))}return t}return e}getFilteredReportList(e){const t=[],i={MyInfographics:"user",EsriInfographics:"public",SharedInfographics:"shared",GalleryInfographics:"gallery",TabularReports:"tabular"}[e],s=this._configFilteredReports||this.stReportList||this._cachedReports,r=s[i],n=this.el.querySelector("#"+this._elementIds.search);if(!n)return this.applySort(r);{const e=n.value.trim().toLowerCase();if(!e||!o.A.hasText(e))return this.applySort(r);s&&s[i]&&s[i].length>0&&s[i].forEach((i=>{const s=i.title;s&&o.A.hasText(s)&&s.toLowerCase().includes(e)&&t.push(i)}))}return this.applySort(t)}isOnlyConfiguredReportList(e){const t={MyInfographics:"user",EsriInfographics:"public",SharedInfographics:"shared",GalleryInfographics:"gallery",TabularReports:"tabular"}[e],i=this._configFilteredReports||this.stReportList||this._cachedReports;return!!i[t]&&1===Object.keys(i).length}async getNumberOfConfiguredReports(){const e=this._configFilteredReports||this.stReportList||this._cachedReports;if(e){let t=Object.keys(e).length;for(let i=0;i<Object.keys(e).length;i++)t+=Object.values(e)[i].length;return t}return null}onUpdateThumbnailPopoverSize(){if(!this.el)return;let e=100;const t=document.documentElement.clientHeight,i=document.documentElement.clientWidth,s=this.el.offsetTop,r=t-(this.el.offsetTop+this.el.offsetHeight)+window.scrollY;let n=i/2;const a=i-this.el.offsetLeft+window.scrollX;e=r<100&&r<s?s-36:r-36,n=Math.max(200,Math.min(a-16,735));const l=o.A.queryElementById.call(this.el,this._elementIds.content);l&&l&&(l.style.height=e+"px");const h=o.A.queryElementById.call(this.el,this._elementIds.popover);h&&(h.style.width=n+"px");const c=o.A.queryElementById.call(this.el,this._elementIds.reports);c&&c.updateLayout()}handleMouseOver(e,t){const i=e.clientY,s=t;return this._debounce2((()=>{a.hidePopup();const e=l._getThumbnailUrl(s);if(e&&e.isOk){const t=this.el.closest("calcite-popover");if(t){const o=t.getBoundingClientRect(),r=i-o.top,n=t.shadowRoot;if(n){const t=n.querySelector("div");t&&a.show(s,t,r,e.ratio,e.url)}}}}),200),!0}handleMouseOut(){this._debounce2((()=>{a.hidePopup()}),300)}static ThumbnailIndex={};static _setThumbnailIndex(e,t,i,s){l.ThumbnailIndex[e]={url:i,ratio:t,isOk:s}}static _getThumbnailUrl(e){return l.ThumbnailIndex[e]}renderList(e,t){o.a.Log(" TREE renderList",e);const i=this,n={MyInfographics:"report-my-infographics",EsriInfographics:"report-esri-infographics",SharedInfographics:"report-shared-infographics",GalleryInfographics:"report-gallery-infographics",TabularReports:"report-tabular-reports",NoPreviewAvailable:"preview-not-available"};const a={position:"relative",width:"100%",height:"100%"},h=i.getFilteredReportList(e);if(h&&h.length>0){let c=o.B.i18n(n[e]);"??"===c&&(o.a.Error("Missing Report Category name",n[e]),c=o.B.i18n(n[e]));const d=this.getFilteredReportList(e);if(o.a.Log("TREE renderList["+e+"] filtered=",d),!d)return;if(o.A.isDef(d)){let p,g=!1;d.forEach((e=>{e.isChecked&&(g=!0)}));const f=i._getSelectedReport();return p=f&&f?.id?f.id:i.stSelectedReportId,g?(0,s.h)("div",{style:a},(0,s.h)("calcite-tree-item",{class:"reportList",slot:"children",expanded:t},c,h.length>0&&(0,s.h)("calcite-tree",{slot:"children",class:"reportTree",scale:"s"},h.map((t=>{if(d.some((e=>e.id===t.id&&!0===e.isChecked))){const a="tree-item-"+t.id,h=a+"-prev",c=a+"-pop",d=i._instanceId+"-img"+i._imgOffset++,g=this.stDefaultReport&&this.stDefaultReport.id===t.id?{textDecoration:"underline"}:{};return function(e,t,s,a,h){if(o.A.hasText(e)&&o.A.hasText(t)&&o.A.hasText(s)){const c=t,d=s,p=a;function g(e){const t=i.el.querySelector(o.A.fixId(d));t&&t.remove();const s=i.el.querySelector(o.A.fixId(e));if(s){const t=document.createElement("calcite-tooltip");t.setAttribute("reference-element",e),t.style.minWidth="160px",t.style.left="-40px";const i=document.createElement("span");i.innerText=o.B.i18n(n.NoPreviewAvailable),t.appendChild(i),s.appendChild(t)}}function f(e){return"EsriInfographics"===e&&!(!i.portalOnlineGEProxy||r.E.isAGOPortal(r.E.getPortalBase()))}let u=!0;const m=l._getThumbnailUrl(t);if(m&&(m.isOk||0==m.isOk)&&(u=!1),u){let y="";function b(e,t,s,r,n){l._setThumbnailIndex(s,r/n,t,!0);const a=i.el.querySelector(o.A.fixId(e));if(a){const e=a.querySelector("calcite-tooltip");e&&e.remove()}}function _(e,t,i){l._setThumbnailIndex(i,1,t,!1),g(e)}f(h)?y="https://www.arcgis.com/sharing/rest/content/items/"+c+"/resources/thumbnail.png":(y=r.E.getPortalBase()+"/sharing/rest/content/items/"+c+"/resources/thumbnail.png",r.T.token?.access_token&&(y+="?token="+r.T.token?.access_token));try{const C=new Image;C.onload=function(){const e=this.width,t=this.height;b(p,y,c,e,t)},C.onerror=()=>{_(p,y,c)},C.src=y}catch(v){_(p,y,c)}}}}(d,t.id,c,h,e),(0,s.h)("calcite-tree-item",{id:a,selected:t.id===p,class:"reportItems",onClick:e=>i.onClickTreeItem(e,{thumbnail:c,id:t.id,reportID:t.reportID,name:t.title})},(0,s.h)("div",{class:"report-item-content"},(0,s.h)("div",{class:"report-item-text",style:g},t.title),(0,s.h)("div",{class:"report-item-buttons"},(0,s.h)("div",null,(0,s.h)("div",{id:h,class:"report-item-preview",onMouseOver:e=>this.handleMouseOver(e,t.id),onMouseOut:()=>this.handleMouseOut()},(0,s.h)("svg",{"aria-hidden":"true",class:"svg",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("path",{d:"M17 16h-5.525a5.95 5.95 0 0 0-.172-1H17zm2-7h-9v1h9zm0 3h-9v.544q.193.22.364.456H19zm3 8H11.818l-.913-.913c.014-.028.023-.059.037-.087H21V7h-4V3H8v8.053a5.945 5.945 0 0 0-1-.356V2h11.4L22 5.6zM21 5.69L18.31 3H18v3h3zM8.926 19.23l3.085 3.084a.476.476 0 0 1 0 .674l-.017.017a.476.476 0 0 1-.673 0L8.237 19.92A4.383 4.383 0 1 1 9.9 16.5a4.358 4.358 0 0 1-.974 2.73zM5.5 19.9a3.4 3.4 0 1 0-3.4-3.4 3.404 3.404 0 0 0 3.4 3.4z"})))))))}}))))):""}return""}return""}async refreshInfographicList(){const e=this;let t,i,a,l,h;o.a.Log("TREE refreshInfographicList",e.stReportList);let c,d=this._configFilteredReports||this.stReportList||this._cachedReports;if(this.baseConfig.config?.reportList){const e="string"==typeof this.baseConfig.config?.reportList?JSON.parse(this.baseConfig.config?.reportList):this.baseConfig.config?.reportList,t=o.A.getKeys(e);d||(d=e),0==t?.length&&(delete d?.user,delete d?.shared,delete d?.gallery,delete d?.tabular)}d&&Object.keys(d).length?(t=d.user,i=d.public,a=d.shared,l=d.gallery,h=d.tabular):(e._isInitialized=!1,c=await(0,n.g)(e.sourceCountry,!1,r.T.token?.access_token,e.selectedHierarchy),t=c.user.map((e=>({...e,isChecked:!1}))),i=c.public.map((e=>({...e,isChecked:!0}))),a=c.shared.map((e=>({...e,isChecked:!1}))),l=c.gallery.map((e=>({...e,isChecked:!1}))),h=c.tabular.map((e=>({...e,isChecked:!1}))),this._configFilteredReports=void 0,e._cachedReports={user:t,public:i,shared:a,gallery:l,tabular:h},e._isInitialized=!0),d||c?(e._infographics.MyInfographics.data=t,e._infographics.EsriInfographics.data=i,e._infographics.SharedInfographics.data=a,e._infographics.GalleryInfographics.data=l,e._infographics.TabularReports.data=h):(e._infographics.MyInfographics.data=void 0,e._infographics.EsriInfographics.data=void 0,e._infographics.SharedInfographics.data=void 0,e._infographics.GalleryInfographics.data=void 0,e._infographics.TabularReports.data=void 0);const p=(0,s.h)("calcite-tree",{scale:"m",selectionMode:"single"},e.renderList("EsriInfographics",!0),e.renderList("MyInfographics",this.isOnlyConfiguredReportList("MyInfographics")),e.renderList("SharedInfographics",this.isOnlyConfiguredReportList("SharedInfographics")),e.renderList("GalleryInfographics",this.isOnlyConfiguredReportList("GalleryInfographics")),e.renderList("TabularReports",this.isOnlyConfiguredReportList("TabularReports")));e._content=p,e.adjustTreeItemsWidth()}async getLocalFilteredInfographicsList(){}async componentWillLoad(){const e=this;e.env&&e.onEnvChanged(),e.token&&e.onTokenChanged(),e.username&&e.onUsernameChanged(),e.selectedReportId&&e.onSelectedReportChanged(),e.reportList&&e.onReportListChanged(),e.langCode&&e.onLangCodeChanged(),e.geoenrichmentUrl&&e.onGeoenrichmentUrlChanged(),e.sourceCountry&&e.onSourceCountryChanged(),e.selectedHierarchy&&e.onSelectedHierarchyChanged(),e.portalUrl&&e.onPortalUrlChanged(),e.config&&e.onConfigChange(e.config,""),this.theme?this.baseConfig.setTheme(this.theme):this.baseConfig.setTheme("light"),this.defaultReport&&o.A.hasText(this.defaultReport)&&(this.stDefaultReport=JSON.parse(this.defaultReport));const t=JSON.parse(this.config);t.selectedReportId&&(this.selectedReportId=this.stSelectedReportId=t.selectedReportId),e._loadInstances();try{await e.refreshInfographicList(),e._isInitialized=!0}catch(e){o.a.Error("arcgis-infographic-tree request for esri reports failed",e)}}componentDidUpdate(){const e=this;e.showBusy.call(this,!1),e.baseConfig&&e.baseConfig.onComponentHasRendered(),e._cachedReports&&(e.stReportList=e._cachedReports,e._cachedReports=void 0)}componentDidLoad(){const e=this;requestAnimationFrame((()=>{e._loadInstances(),e.showBusy.call(e,!1);const t=e.el.querySelector("#"+e._elementIds.search);function i(){e.adjustTreeItemsWidth()}window.removeEventListener("resize",i),window.addEventListener("resize",i),e.adjustTreeItemsWidth();const s=()=>{e._debounce2((()=>{e.stTimestamp=(new Date).getTime()}),500)},r=o.A.queryElementById.call(e,o.A.fixId(e._elementIds.sort));r&&r.addEventListener("calciteSelectChange",(()=>{e.stSortType=r.value})),t&&(t.removeEventListener("input",s),t.addEventListener("input",s),t.addEventListener("calciteInputChange",s)),e.adjustTreeItemsWidth()}))}_debounce2(e,t){const i=this;i._debounceTimer&&clearTimeout(i._debounceTimer),i._debounceTimer=setTimeout((function(){i._debounceTimer=null,e.apply(i)}),t)}adjustTreeItemsWidth(){if(this.el){const e=this.el.querySelectorAll("div.report-item-content");if(!e||e.length<=0)return;const t=e[0].closest(".reportList");if(t){const i=t.offsetWidth;e.forEach((e=>{e.style.width=i-60+"px"}))}}const e=this.el.parentElement?.parentElement,t=e?.style?.width;if(t&&o.A.hasText(t)){const e=parseInt(t);if(!Number.isNaN(e)){const t=.9*e;if(t>300){const e=this.el.querySelectorAll("img.thumbnail-preview");e&&e.forEach((e=>{e.style.maxWidth=t+"px",e.style.maxHeight=.66*t+"px"}))}}}}render(){const e=o.B.i18n("search-infos-by-name"),t=o.B.i18n("date-sort-newest"),i=o.B.i18n("date-sort-oldest"),r=o.B.i18n("name-sort-asc"),n=o.B.i18n("name-sort-desc");this.refreshInfographicList(),o.a.Log("TREE RENDER def rep=",this.stDefaultReport);return(0,s.h)("div",{key:"23c88a55fbb5830c3c37e5bfbff39f0ee8e76bc7",id:this._instanceId,style:{position:"absolute",width:"calc(100% - 12px)",height:"calc(100% - 8px)","overflow-x":"hidden","overflow-y":"auto"},class:"arcgis-tree-outer",onClick:e=>{e.stopPropagation()}},(0,s.h)("div",{key:"84732bb84b377c3305f00deddfa54a08c5893aa8",id:this._busyId,class:"infographic-tree-busy"}),(0,s.h)("div",{key:"aa12f793b8c5d9b196b63ebae81250b9d2a972d3",class:"info-tree-search-div"},(0,s.h)("calcite-input",{key:"84c303a7a60f582b503b53a4d83ffcd19bbde3c1",clearable:!0,id:this._elementIds.search,placeholder:e,class:"info-tree-search"}),(0,s.h)("div",{key:"ba29465b9651be8ec28f4656285227175dfbe85b",id:this._elementIds.icon,class:"info-tree-icon"},(0,s.h)("calcite-icon",{key:"dc966197b2576dcf1b452b09b7fea2386df32522",scale:"l",icon:"search"}))),(0,s.h)("calcite-select",{key:"d43ce73a07c1c998de501a5fd864db3c45569ebe",label:"",id:this._elementIds.sort,class:"info-tree-sort"},(0,s.h)("calcite-option",{key:"51b94db8ad408f5e5f1e9916f529304f6a549e39",value:"newest"},t),(0,s.h)("calcite-option",{key:"e61f57542dbb75d8d54e1534787dbe4aa9c38f8a",value:"oldest"},i),(0,s.h)("calcite-option",{key:"68df1bece9e42d27194b415e42cff38cc96331fc",value:"ascending"},r),(0,s.h)("calcite-option",{key:"0011eb2c830aff6906ba69a0122a100d7f811781",value:"descending"},n)),(0,s.h)("div",{key:"144975aa6043f6064d5fb14b71fd8ec10b4da534",id:this._elementIds.list,class:"info-tree-list"},(0,s.h)("div",{key:"f5812f306c9b54180de8906ea12c83502a48e79a"},this._content)))}static get watchers(){return{config:["onConfigChange"],defaultReport:["onDefaultReportChanged"],env:["onEnvChanged"],langCode:["onLangCodeChanged"],sourceCountry:["onSourceCountryChanged"],selectedHierarchy:["onSelectedHierarchyChanged"],token:["onTokenChanged"],username:["onUsernameChanged"],selectedReportId:["onSelectedReportChanged"],reportList:["onReportListChanged"],theme:["onThemeChanged"],portalUrl:["onPortalUrlChanged"],geoenrichmentUrl:["onGeoenrichmentUrlChanged"]}}};l.style=':host{display:block}::slotted([slot="children"]){width:100%}.reportList{font-weight:200}.reportItems{font-weight:200;margin-inline-end:0.25rem}.report-item-buttons{position:relative;width:23px;height:28px}.report-item-preview{position:absolute;top:5px;width:22px;height:22px}.report-item-dots{position:absolute;top:7px;left:34px;width:22px;height:22px}.reportTree{padding-bottom:2px}.infographic-tree-busy{position:absolute;top:0;left:0;width:100%;height:100%;background:url(./assets/largeBusy.gif);background-repeat:no-repeat;background-position:center;z-index:999;display:none}calcite-tree-item [hover]{background-color:red}calcite-tree-item [selected]{font-weight:bold}.report-item-content{width:100%;display:flex}.report-refresh-button{position:absolute;top:8px;right:10px;width:18px;height:18px}.info-tree-search-div{position:absolute;top:3px;left:3px;width:calc(100% - 165px);height:33px;display:flex}.info-tree-search{flex:1 1 0%;width:calc(100% - 29px);height:24px;float:left}.info-tree-icon{position:relative;top:4px;left:2px;width:24px;height:26px;float:right;transform:scale(0.6);background-repeat:no-repeat}.info-tree-sort{position:absolute;top:3px;left:calc(100% - 148px);width:144px;height:32px;z-index:6}.info-tree-list{position:absolute;top:36px;left:3px;height:calc(100% - 40px);width:calc(100% - 6px)}.report-item-text{position:relative;top:7px;flex:1 1 0%;text-align:left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-weight:200}.report-item-popover{width:auto;height:auto;min-width:300px;min-height:200px;background-color:transparent}.report-item-popover-content{min-height:32px;line-height:200px;text-align:right}.report-item-default-popover{min-width:160px;padding:3px;height:42px}.tree-container{position:absolute;width:calc(100% - 12px);height:calc(100% - 18px);overflow-x:hidden;overflow-y:scroll}.thumbnail-preview{position:absolute;top:0;right:0;max-width:300px;max-height:200px;background-color:transparent;border:none;z-index:6;opacity:1;object-fit:cover}.report-item-popover-not-found{position:absolute;top:4px;right:41px;min-width:160px;height:32px !important;line-height:24px !important}';const h=class{get el(){return(0,s.g)(this)}baseConfig;_localeSettings={};_popoverIsOpen=!1;_instanceId;_idPrefix="arcgis-infographic-selector-";_elementIds={};_idButtonPrefix="selector-dropdown-button-";_idDropdownArrowPrefix="selector-dropdown-arrow-";_idDropdownLabelPrefix="selector-dropdown-label-";_idReportListPrefix="selector-report-list-";_idPopoverPrefix="selector-popover-";_idPopoverContentPrefix="selector-popover-content-";_report={id:null,name:""};_selectedReport;constructor(e){(0,s.r)(this,e),this.selectorPopupOpened=(0,s.c)(this,"selectorPopupOpened",6),this.selectorPopupClosed=(0,s.c)(this,"selectorPopupClosed",6),this.colors=void 0,this.theme=void 0,this.env=void 0,this.token=void 0,this.username=void 0,this.langCode=void 0,this.sourceCountry=void 0,this.geoenrichmentUrl=void 0,this.portalOnlineGEProxy=void 0,this.defaultReport=void 0,this.stDefaultReport=void 0,this.stTheme=void 0,this.config=void 0,this.baseConfig=new o.a("selector",this,this.onUpdateUI),o.A.announceVersion(),this.langCode=this.langCode||"en-us",o.B._initialize(this.langCode),this.setLocaleStrings(),this.sourceCountry=this.sourceCountry||"US",this.baseConfig.updateLocaleSettings({language:this.langCode,country:this.sourceCountry})}onDefaultReportChanged(){o.a.Log("SELECTOR updating defaultReport",this.defaultReport),this._setDefaultReport(this.defaultReport)}updateChildrenDefaultReport(e){const t=o.A.queryElementById.call(this.el,this._elementIds.reports);t&&t.setDefaultReport(e)}_setDefaultReport(e){this._sameReport(this.stDefaultReport,this._selectedReport)&&(this._selectedReport=void 0),this._hasReport(e)?(this.stDefaultReport=e,this.updateChildrenDefaultReport(e),this._selectedReport||(this._selectedReport={id:e.id,name:e.name})):(this._selectedReport||this._showPlaceholder(),this.stDefaultReport=void 0,this.updateChildrenDefaultReport(void 0)),this._selectedReport&&this._selectedReport.name&&(this._hidePlaceholderAndShowLabel(this._selectedReport.name),this.hidePopover())}_hasReport(e){return e&&e.id&&o.A.hasText(e.id)&&e.name&&o.A.hasText(e.name)}_sameReport(e,t){return!e&&!t||e&&t&&e.id==t.id&&e.name==t.name}_getSelectedReport(){let e;const t=this.baseConfig.getParentConfigProperty("selectedReport");return e=this._sameReport(this._selectedReport,t)?this._selectedReport:t,this._sameReport(this._selectedReport,t)||(this._selectedReport=t),e}_getDefaultReport(e){let t;const i=this.baseConfig.getParentConfigProperty("defaultReport");return t=this._sameReport(this.stDefaultReport,i)?this.stDefaultReport:i,e&&(this._sameReport(this.stDefaultReport,i)||(this.stDefaultReport=i)),t}async setDefaultReport(e){o.a.Log("SELECTOR updating setDefaultReport",e),this._setDefaultReport(e)}selectorPopupOpened;selectorPopupClosed;onEnvChanged(){r.E.setEnvironment(this.env),this.baseConfig&&this.baseConfig.updateConfig({env:this.env})}onTokenChanged(){o.a.Log("selector: token changed",this.token);const e=this.token,t=this.baseConfig?.config?.username;e&&o.A.hasText(e)&&t&&o.A.hasText(t)&&r.T.setToken(t,e),this.baseConfig&&this.baseConfig.updateConfig({token:this.token})}onUsernameChanged(){o.a.Log("selector: username changed",this.username);const e=this.username,t=this.baseConfig?.config?.token;t&&o.A.hasText(t)&&e&&o.A.hasText(e)&&r.T.setToken(e,t),this.baseConfig&&this.baseConfig.updateConfig({username:this.username})}onLangCodeChanged(){this.baseConfig&&this.baseConfig.updateConfig({langCode:this.langCode})}onGeoenrichmentUrlChanged(){this.baseConfig&&this.baseConfig.updateConfig({geoenrichmentUrl:this.geoenrichmentUrl})}onSourceCountryChanged(){this.baseConfig&&this.baseConfig.updateConfig({sourceCountry:this.sourceCountry})}onThemeChanged(){this.stTheme=this.theme,this.baseConfig&&this.baseConfig.setTheme(this.theme)}onConfigChange(e,t){if(this.baseConfig&&e&&o.A.hasText(e)){const i=JSON.parse(e);o.a.LogConfig("SELECTOR config change",i,t),this.baseConfig.updateConfig(i)}if(e&&o.A.hasText(e)){const t=JSON.parse(e);t&&t.defaultReport&&t.defaultReport.id&&t.defaultReport.name&&this.setDefaultReport(t.defaultReport)}}async getConfig(){return this.baseConfig}reportSelectedEventHandler(e){const t=e.detail?.report;t?.id&&t?.name&&(this._selectedReport={id:t.id,name:t.name},this.baseConfig.updateConfig({selectedReport:{id:t.id,name:t.name}}),o.a.LogConfig("SELECTOR selected report change",t),this._hidePlaceholderAndShowLabel(t.name),this.hidePopover())}async _getReportNameFromId(e){let t;const i=o.A.queryElementById.call(this.el,this._elementIds.reports);return i&&(t=await i.getReportName(e)),t}onUpdateUI(){}_loadInstances(){this._instanceId||(this._instanceId=o.E.generateId(this._idPrefix).id),this._elementIds.label||(this._elementIds.label=o.E.generateId(this._idDropdownLabelPrefix).id),this._elementIds.button||(this._elementIds.button=o.E.generateId(this._idButtonPrefix).id),this._elementIds.popover||(this._elementIds.popover=o.E.generateId(this._idPopoverPrefix).id),this._elementIds.content||(this._elementIds.content=o.E.generateId(this._idPopoverContentPrefix).id),this._elementIds.arrow||(this._elementIds.arrow=o.E.generateId(this._idDropdownArrowPrefix).id),this._elementIds.reports||(this._elementIds.reports=o.E.generateId(this._idReportListPrefix).id)}setLocaleStrings(){}async componentWillLoad(){this.env&&this.onEnvChanged(),this.token&&this.onTokenChanged(),this.username&&this.onUsernameChanged(),this.langCode&&this.onLangCodeChanged(),this.geoenrichmentUrl&&this.onGeoenrichmentUrlChanged(),this.sourceCountry&&this.onSourceCountryChanged(),this.config&&this.onConfigChange(this.config,""),this.theme?this.baseConfig.setTheme(this.theme):this.baseConfig.setTheme("light"),this.defaultReport&&o.A.hasText(this.defaultReport)&&(this.stDefaultReport=JSON.parse(this.defaultReport)),this._loadInstances()}componentDidUpdate(){const e=this;e.baseConfig&&e.baseConfig.onComponentHasRendered()}onClickDropdown(e){e.stopPropagation(),this.onUpdatePopoverSize();const t=o.A.queryElementById.call(this.el,this._elementIds.popover),i=o.A.queryElementById.call(this.el,this._elementIds.arrow);if(t){const e=!t.open;t.open=e,this._popoverIsOpen=e,e?(this.selectorPopupOpened.emit(),i?.classList.add("selector-drop-open")):(this.selectorPopupClosed.emit(),i?.classList.remove("selector-drop-open"))}return!1}componentDidLoad(){const e=this;requestAnimationFrame((()=>{function t(t){e.onClickDropdown.call(e,t)}o.a.Log("arcgis-infographic-selector didUpdate"),e._loadInstances();const i=o.A.queryElementById.call(e.el,e._elementIds.button);i&&(i.removeEventListener("click",t),i.addEventListener("click",t));const s=o.A.queryElementById.call(e.el,e._elementIds.label);s&&(s.removeEventListener("click",t),s.addEventListener("click",t));const r=o.A.queryElementById.call(e.el,e._elementIds.arrow);function n(){e.hidePopover(),e.onUpdatePopoverSize()}r&&(r.removeEventListener("click",t),r.addEventListener("click",t)),window.removeEventListener("resize",n),window.addEventListener("resize",n),e.baseConfig&&e.baseConfig.onComponentHasRendered()}))}hidePopover(){const e=o.A.queryElementById.call(this.el,this._elementIds.popover),t=o.A.queryElementById.call(this.el,this._elementIds.arrow);e&&(e.open=!1),this._popoverIsOpen=!1,this.selectorPopupClosed.emit(),t&&t.classList.remove("selector-drop-open")}async onUpdatePopoverSize(){if(!this.el)return;let e=100;const t=document.documentElement.clientHeight,i=document.documentElement.clientWidth,s=this.el.getBoundingClientRect(),r=o.A.queryElementById.call(this.el,this._elementIds.reports),n=await(r?.getNumberOfConfiguredReports())||0,a=s.top,l=t-(s.top+s.height)+window.scrollY;let h=i/2;const c=i-s.left+window.scrollX;e=l<100&&l<a||a>l&&a>=100?a-36:l-36,n>0&&(e=Math.min(e,32*n+45)),h=c<s.width&&s.left>c||s.left>c&&s.left>=s.width?s.left-16:i-s.left-16,h=Math.min(450,h);const d=o.A.queryElementById.call(this.el,this._elementIds.content);d&&d&&(d.style.height=e+"px");const p=o.A.queryElementById.call(this.el,this._elementIds.popover);p&&(p.style.width=Math.min(450,h)+"px"),r&&r.updateLayout()}_showPlaceholder(){const e=o.B.i18n("select-infographic"),t=o.A.queryElementById.call(this,this._elementIds.label);t&&(t.classList.add("selector-label-placeholder"),t.innerText=e)}_hidePlaceholderAndShowLabel(e){const t=o.A.queryElementById.call(this,this._elementIds.label);t&&(t.classList.remove("selector-label-placeholder"),e&&(t.innerText=e))}_getDropdownLabel(){const e=this._getSelectedReport(),t=this._getDefaultReport();let i=o.B.i18n("select-infographic");return this._hasReport(e)?i=e.name:this._hasReport(t)&&(i=t.name),i}render(){this.baseConfig.config?.username&&o.A.hasText(this.baseConfig.config.username)||o.a.Error("ERROR: arcgis-infographic-selector missing [username]"),this.baseConfig.config?.token&&o.A.hasText(this.baseConfig.config.token)||o.a.Error("ERROR: arcgis-infographic-selector missing [token]");const e=this._getDropdownLabel();o.a.Log("SELECTOR RENDER pText=",e,this.baseConfig?.config?.selectedReport,this.stDefaultReport);return o.a.Log("SELECTOR RENDER def rep=",this.stDefaultReport),o.a.Log("SELECTOR RENDER selected rep=",this._selectedReport),(0,s.h)("div",{id:this._instanceId,class:"infographicSelectorOuter"},(0,s.h)("div",{id:this._elementIds.button,class:"selector-dropdown"},(0,s.h)("div",{id:this._elementIds.label,class:"selector-dropdown-label"},e),(0,s.h)("svg",{id:this._elementIds.arrow,class:"selector-dropdown-arrow",width:"24",height:"24",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("path",{fill:"currentColor","fill-rule":"evenodd",stroke:"currentColor",d:"M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .538.538 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.538.538 0 0 1 0-.738Z","clip-rule":"evenodd"}))),(0,s.h)("calcite-popover",{id:this._elementIds.popover,style:{position:"absolute",top:"0px",left:"0px",transform:"translate(-312px, 7px)",border:"none",boxShadow:"none",minWidth:"450px",zIndex:"1"},label:"Choose infographics","pointer-disabled":"true","trigger-disabled":"true","overlay-positioning":"fixed",placement:"bottom-start","offset-skidding":"4","auto-close":"true","focus-trap-disabled":"true",referenceElement:this._elementIds.button,onCalcitePopoverClose:e=>{if(e.target!==e.currentTarget)return;this._popoverIsOpen=!1,this.selectorPopupClosed.emit();const t=o.A.queryElementById.call(this.el,this._elementIds.arrow);t&&t.classList.remove("selector-drop-open")}},(0,s.h)("div",{id:this._elementIds.content,style:{width:"100%",minWidth:"450px",height:"auto"},onClick:e=>{e.stopPropagation()}},(0,s.h)("div",{style:{padding:"6px"}},(0,s.h)("arcgis-infographic-tree",{id:this._elementIds.reports,portalOnlineGEProxy:this.portalOnlineGEProxy,class:"arcSel-reports",defaultReport:this.stDefaultReport?JSON.stringify(this.stDefaultReport):void 0,config:this.baseConfig.getConfigString()})))))}static get watchers(){return{defaultReport:["onDefaultReportChanged"],env:["onEnvChanged"],token:["onTokenChanged"],username:["onUsernameChanged"],langCode:["onLangCodeChanged"],geoenrichmentUrl:["onGeoenrichmentUrlChanged"],sourceCountry:["onSourceCountryChanged"],theme:["onThemeChanged"],config:["onConfigChange"]}}};h.style=":host{display:block}.infographicSelectorOuter{position:relative;width:100%;height:30px;justify-content:left;align-items:center}.selector-label-placeholder{color:gray}.infoSel-magnify{position:absolute;top:2px;left:100px;height:32px;width:32px;background-color:blue}.arcSel-combo{width:100%;height:32px;font-size:11pt;color:darkslategray}.arcSel-reports{width:calc(100% - 16px);height:100%;overflow:auto}.selector-dropdown-label{position:absolute;top:7px;left:6px;width:calc(100% - 35px);height:25px;font-size:10.5pt;font-weight:300;text-align:left;text-overflow:ellipsis;border-radius:0px;overflow:hidden;white-space:nowrap;cursor:pointer}.selector-dropdown{position:relative;height:32px;width:100%;cursor:pointer}.selector-dropdown-arrow{position:absolute;top:9px;right:7px;width:12px;height:12px;transition:all 0.15s 0.15s;transform:rotate(0)}.selector-drop-open{transform:rotate(180deg)}calcite-popover ::-webkit-scrollbar{background-color:var(--calcite-color-background-1);width:8px;height:8px}calcite-popover ::-webkit-scrollbar-thumb{background-color:var(--calcite-color-foreground-3)}calcite-popover ::-webkit-scrollbar-track{background-color:transparent}calcite-popover ::-webkit-scrollbar-corner{background-color:var(--calcite-color-background-1);width:8px;height:8px}"}}]);