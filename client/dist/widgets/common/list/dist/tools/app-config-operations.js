System.register(["jimu-core","jimu-ui"],(function(t,e){var n={},i={};return{setters:[function(t){n.Immutable=t.Immutable,n.dataSourceUtils=t.dataSourceUtils,n.dynamicStyleUtils=t.dynamicStyleUtils},function(t){i.utils=t.utils}],execute:function(){t((()=>{var t={14321:t=>{"use strict";t.exports=i},79244:t=>{"use strict";t.exports=n}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var l=e[n]={exports:{}};return t[n](l,l.exports,o),l.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.p="";var l={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(l),o.d(l,{default:()=>E});var t,e=o(79244);!function(t){t.AUTO="Auto",t.CUSTOM="Custom"}(t||(t={}));var n,i,r,a,c,u,s,S,d,f,y;!function(t){t.None="NONE",t.Arrangement="ARRANGEMENT",t.States="STATES",t.Tools="TOOLS"}(n||(n={})),function(t){t.None="NONE",t.Single="SINGLE",t.Multiple="MULTIPLE"}(i||(i={})),function(t){t.Scroll="SCROLL",t.MultiPage="MULTIPAGE"}(r||(r={})),function(t){t.Start="FLEX-START",t.Center="CENTER",t.End="FLEX-END"}(a||(a={})),function(t){t.Horizon="HORIZON",t.Vertical="VERTICAL"}(c||(c={})),function(t){t.Row="ROW",t.Column="COLUMN",t.GRID="GRID"}(u||(u={})),function(t){t.Glide="GLIDE",t.Fade="FADE",t.Float="FLOAT"}(s||(s={})),function(t){t.Hover0="HOVER0",t.Hover1="HOVER1",t.Hover2="HOVER2",t.Hover3="HOVER3"}(S||(S={})),function(t){t.Style0="STYLE0",t.Style1="STYLE1",t.Style2="STYLE2",t.Style3="STYLE3"}(d||(d={})),function(t){t.Style0="STYLE0",t.Style1="STYLE1",t.Style2="STYLE2",t.Style3="STYLE3",t.Style4="STYLE4",t.Style5="STYLE5",t.Style6="STYLE6",t.Style7="STYLE7",t.Style8="STYLE8",t.Style9="STYLE9",t.Style10="STYLE10",t.Style11="STYLE11",t.Style12="STYLE12"}(f||(f={})),function(t){t.Default="DEFAULT",t.Selected="SELECTED",t.Hover="HOVER"}(y||(y={}));var g=o(14321);class E{constructor(){this.id="list-app-config-operation"}useDataSourceWillChange(t,n,i){if(!n)return t;let o=t.widgets[this.widgetId],l=o.config;if(n||i){const r=n?e.dataSourceUtils.getUseDataSourceByDataSourceId(n):null,a=i?e.dataSourceUtils.getUseDataSourceByDataSourceId(i):null;l=function(t,n,i,o){let l=t;if(l.cardConfigs){const t=l.cardConfigs;Object.keys(t).forEach((r=>{let a=t[r];const c=null==a?void 0:a.dynamicStyleConfig;if(c&&Object.keys(c).length>0)if(o){const t=e.dynamicStyleUtils.updateDynamicStyleWhenUseDataSourcesChange(n,i,o,c);a=a.set("dynamicStyleConfig",t),t||(a=a.set("enableDynamicStyle",!1))}else a=a.without("dynamicStyleConfig").set("enableDynamicStyle",!1);l=l.setIn(["cardConfigs",r],a)}))}return l}(l,this.widgetId,(0,e.Immutable)([r]),(0,e.Immutable)([a])),o=o.set("config",l),t=t.setIn(["widgets",this.widgetId],o)}return t}afterWidgetCopied(t,n,i,o,l){var r,a,c,u;let s=o;const S=s.widgets[i].config,d=S.cardConfigs,f=null===(r=null==n?void 0:n.widgets)||void 0===r?void 0:r[t];if(!l)return s;if((null===(a=null==d?void 0:d[y.Default])||void 0===a?void 0:a.dynamicStyleConfig)||(null===(c=null==d?void 0:d[y.Hover])||void 0===c?void 0:c.dynamicStyleConfig)||(null===(u=null==d?void 0:d[y.Selected])||void 0===u?void 0:u.dynamicStyleConfig)){const t=function(t,n,i){let o=t;if(o.cardConfigs){const t=o.cardConfigs;Object.keys(t).forEach((l=>{let r=t[l];const a=null==r?void 0:r.dynamicStyleConfig;if(a&&Object.keys(a).length>0){const t=e.dynamicStyleUtils.getCopiedDynamicStyleConfig(n,i,a);r=r.set("dynamicStyleConfig",t)}o=o.setIn(["cardConfigs",l],r)}))}return o}(S,l,f);s=s.setIn(["widgets",i,"config"],t)}if(null==S?void 0:S.linkParam){const{linkParam:t,isChanged:e}=g.utils.mapLinkParam(l,null==S?void 0:S.linkParam,f);e&&t&&(s=s.setIn(["widgets",i,"config","linkParam"],t))}return s}}})(),l})())}}}));