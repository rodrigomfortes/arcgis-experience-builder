/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-arcgis","jimu-ui","calcite-components","esri/applications/Components/reactiveUtils.js","esri/identity/IdentityManager.js","esri/portal/PortalItem.js","esri/layers/support/RasterFunction.js","esri/rest/geoprocessor.js","esri/request.js","esri/intl.js","esri/widgets/ValuePicker.js","esri/widgets/ValuePicker/ValuePickerSlider.js","esri/layers/support/DimensionalDefinition.js","esri/layers/support/MultidimensionalSubset.js","esri/config.js","esri/Map.js","esri/layers/ImageryLayer.js","esri/layers/support/MosaicRule.js","esri/views/MapView.js","esri/geometry/Point.js","esri/rest/support/ImageIdentifyParameters.js","esri/smartMapping/raster/renderers/classBreaks.js","esri/core/reactiveUtils.js","esri/geometry/Extent.js","esri/geometry/operators/unionOperator.js","esri/geometry/operators/projectOperator.js","esri/Graphic.js","esri/layers/support/CodedValueDomain.js","esri/layers/support/Field.js"],(function(e,t){var s={},i={},o={},n={},r={},a={},c={},d={},l={},h={},u={},p={},g={},m={},_={},y={},f={},v={},b={},w={},A={},$={},E={},S={},x={},C={},L={},T={},U={},j={};return Object.defineProperty(u,"__esModule",{value:!0}),{setters:[function(e){s.React=e.React,s.SupportedJSAPILayerTypes=e.SupportedJSAPILayerTypes,s.classNames=e.classNames,s.hooks=e.hooks},function(e){i.JimuMapViewComponent=e.JimuMapViewComponent,i.MapViewManager=e.MapViewManager},function(e){o.DataActionList=e.DataActionList,o.DataActionListStyle=e.DataActionListStyle,o.Loading=e.Loading,o.LoadingType=e.LoadingType,o.Option=e.Option,o.Select=e.Select,o.WidgetPlaceholder=e.WidgetPlaceholder},function(){},function(e){r.createObservable=e.createObservable,r.createTrackingTarget=e.createTrackingTarget,r.runTracked=e.runTracked,r.trackAccess=e.trackAccess},function(e){a.default=e.default},function(e){c.default=e.default},function(e){d.default=e.default},function(e){l.submitJob=e.submitJob},function(e){h.default=e.default},function(e){Object.keys(e).forEach((function(t){u[t]=e[t]}))},function(e){p.default=e.default},function(e){g.default=e.default},function(e){m.default=e.default},function(e){_.default=e.default},function(e){y.default=e.default},function(e){f.default=e.default},function(e){v.default=e.default},function(e){b.default=e.default},function(e){w.default=e.default},function(e){A.default=e.default},function(e){$.default=e.default},function(e){E.createRenderer=e.createRenderer},function(e){S.watch=e.watch},function(e){x.default=e.default},function(e){C.executeMany=e.executeMany},function(e){L.execute=e.execute,L.isLoaded=e.isLoaded,L.load=e.load},function(e){T.default=e.default},function(e){U.default=e.default},function(e){j.default=e.default}],execute:function(){e((()=>{var e,t,O={310:(e,t,s)=>{"use strict";s.d(t,{C:()=>x,G:()=>L,a:()=>f,b:()=>E,c:()=>n,d:()=>h,e:()=>u,h:()=>v,i:()=>r,k:()=>w,o:()=>g,s:()=>c,t:()=>$});var i=s(7274),o=s(9722);const n=Symbol.for("controller"),r=e=>"function"==typeof e?.then;let a;const c=e=>{a!==e&&(a=e,queueMicrotask((()=>a===e?a=void 0:0)))},d=e=>a;let l=[];const h=e=>{if(void 0===e)return void(l=[]);const t=l.indexOf(e);l=-1===t?[...l,e]:l.slice(0,t+1),queueMicrotask((()=>l=[]))},u=()=>l;let p;const g=e=>{p!==e&&(p=e,queueMicrotask((()=>p===e?p=void 0:0)))},m=async(e,t)=>{const s=y(e);if(void 0===s)return e;if(await s.ready,"function"==typeof t){0;const e=s.watchExports((s=>t(s,e)))}return s.exports},_=async e=>{const t=y(e);return await t.ready,t},y=e=>{const t=d().manager.X(e);if(void 0!==t)return t;if((e=>"object"==typeof e&&null!==e&&(n in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e))(e))return e;const s=(()=>{const e=p;return p=void 0,e})();return void 0!==s?s:void 0};let f=!1;const v=e=>{f=!0;try{return e()}finally{f=!1}};let b;const w=()=>{b?.forEach((({callbacks:e},t)=>{const s=Object.keys(t);e.forEach((e=>e(s)))})),b=void 0},A=(e,t,s)=>{const n=e.manager;return n.V!==o.s6&&n.V!==s&&n.S(void 0,void 0),0===n.T.length&&queueMicrotask((()=>n.S(void 0,void 0))),n.V=s,n.T.push(((e,o)=>(0,i.UF)(t,void 0,s===o?e:void 0))),s},$=(e=[d(),...u()],t,s)=>{const o=Array.isArray(e)?e:[e];let n=o.length+1;const r=e=>{n-=1,void 0!==e&&(n=Math.min(n,0)),0===n&&t(e)};o.forEach((e=>((e,t,s)=>{const o=Object.keys(e),n=o.length;void 0===b&&queueMicrotask(w),b??=new Map;let r=b.get(e);return void 0===r&&(r={callbacks:[],keyCount:n},b.set(e,r)),r.keyCount!==n&&(r.callbacks.forEach((e=>e(o))),r.callbacks=[],r.keyCount=n),r.callbacks.push((o=>{const r=e=>(0,i.UF)(t,null,e),a=o[n];void 0===a?r(void 0):e[a]===s?r(a):r(void 0)})),s})(e,(t=>r(void 0===t?void 0:{key:t,host:e,isReactive:!1})),s)));for(const e of o)if("manager"in e&&e.manager.component===e){A(e,(t=>r(void 0===t?void 0:{key:t,host:e,isReactive:!0})),s);break}return s},E=((e="",t={},s=d())=>{const i={emit:i=>{""===e&&w();const o=new CustomEvent(e,{detail:i,cancelable:!0,bubbles:!0,composed:!0,...t});return s.el.dispatchEvent(o),o}};return""===e&&$(void 0,(t=>e=t.key),i),i}).bind(null,"");var S;S=n;class x{constructor(e){this.#e=[],this.#t=[],this.#s=[],this.#i=[],this.#o=[],this.#n=[],this.#r=[],this.#a=[],this.#c=[],this.#d=!1,this.P=new i.cY,this.connectedCalled=!1,this.loadedCalled=!1,this[S]=!0,this.#l=[];const t=this,s=e??d(new.target.name);t.#h=s,t.ready=t.P.promise,t.#u=T(t),t.component=s,t.#h.addController(t);void 0===t.#h.manager||(h(t),queueMicrotask((()=>t.catchUpLifecycle())))}#e;#t;#s;#i;#o;#n;#r;#a;#c;#d;#h;catchUpLifecycle(){const{manager:e}=this.#h;!e.connectedCalled||this.connectedCalled||this.triggerConnected();!e.#d||this.triggerLoad().then((()=>e.loadedCalled&&this.triggerLoaded())).catch(console.error)}#u;get exports(){return this.#u}set exports(e){const t=this.#u;t!==e&&(this.#u=e,this.#l.forEach(i.UF),this.connectedCalled&&!1!==this.O&&this.#h.requestUpdate(this.O,t)),this.P.resolve(e)}setProvisionalExports(e,t=!0){this.#u=t?T(e):e,this.#l.forEach(i.UF)}#l;watchExports(e){const t=()=>e(this.#u);return this.#l.push(t),()=>{this.#l.splice(this.#l.indexOf(t),1)}}get use(){return c(this.#h),m}get useRef(){return c(this.#h),_}get useRefSync(){return c(this.#h),y}controllerRemoved(){this.#h.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#e.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#s.push(e)}onLoaded(e){this.#i.push(e)}onUpdate(e){this.#o.push(e)}onUpdated(e){this.#n.push(e)}onDestroy(e){this.#r.push(e)}onLifecycle(e){this.#a.push(e),this.connectedCalled&&this.#h.el.isConnected&&this.#p(e)}triggerConnected(){const e=this;e.hostConnected&&(0,i.UF)(e.hostConnected,e),e.#e.forEach(i.UF),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&(0,i.UF)(e.hostDisconnected,e),e.#t.forEach(i.UF),e.#c.forEach(i.UF),e.#c=[]}async triggerLoad(){if(this.#d)return;this.#d=!0;const e=this;e.hostLoad&&await(0,i.ao)(e.hostLoad,e),this.#s.length>0&&await Promise.allSettled(this.#s.map(i.ao)),this.P.resolve(this.#u)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,i.UF)(this.hostLoaded,this),this.#i.forEach(i.UF),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&(0,i.UF)(this.hostUpdate,this,e),this.#o.forEach(C,e)}triggerUpdated(e){this.hostUpdated&&(0,i.UF)(this.hostUpdated,this,e),this.#n.forEach(C,e)}triggerDestroy(){this.hostDestroy&&(0,i.UF)(this.hostDestroy,this),this.#r.forEach(i.UF)}triggerLifecycle(){this.hostLifecycle&&this.#p((()=>this.hostLifecycle())),this.#a.forEach(this.#p,this)}#p(e){c(this.#h);const t=(0,i.UF)(e);(Array.isArray(t)?t:[t]).forEach((e=>{"function"==typeof e?this.#c.push(e):"object"==typeof e&&"function"==typeof e.remove&&this.#c.push(e.remove)}))}}function C(e){(0,i.UF)(e,void 0,this)}const L=x,T=e=>{if("object"!=typeof e&&"function"!=typeof e||null===e)return e;const t=new Proxy(e,{get(e,s,i){if("exports"!==s&&"_exports"!==s||!(s in e)||e[s]!==t)return s in e||s in Promise.prototype||"symbol"==typeof s?"function"==typeof e?e[s]:Reflect.get(e,s,i):void 0}});return t}},588:e=>{"use strict";e.exports=a},1072:e=>{"use strict";e.exports=L},1508:e=>{"use strict";e.exports=w},1552:e=>{"use strict";e.exports=$},1802:e=>{"use strict";e.exports=l},1840:e=>{"use strict";e.exports=v},2373:e=>{"use strict";e.exports=b},2686:e=>{"use strict";e.exports=i},2762:e=>{"use strict";e.exports=y},2797:e=>{"use strict";e.exports=u},2883:(e,t,s)=>{"use strict";s.d(t,{Ec:()=>_,W3:()=>m,mN:()=>f});var i=s(6011);const{is:o,defineProperty:n,getOwnPropertyDescriptor:r,getOwnPropertyNames:a,getOwnPropertySymbols:c,getPrototypeOf:d}=Object,l=globalThis,h=l.trustedTypes,u=h?h.emptyScript:"",p=l.reactiveElementPolyfillSupport,g=(e,t)=>e,m={toAttribute(e,t){switch(t){case Boolean:e=e?u:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let s=e;switch(t){case Boolean:s=null!==e;break;case Number:s=null===e?null:Number(e);break;case Object:case Array:try{s=JSON.parse(e)}catch(e){s=null}}return s}},_=(e,t)=>!o(e,t),y={attribute:!0,type:String,converter:m,reflect:!1,useDefault:!1,hasChanged:_};Symbol.metadata??=Symbol("metadata"),l.litPropertyMetadata??=new WeakMap;class f extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=y){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(e,s,t);void 0!==i&&n(this.prototype,e,i)}}static getPropertyDescriptor(e,t,s){const{get:i,set:o}=r(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:i,set(t){const n=i?.call(this);o?.call(this,t),this.requestUpdate(e,n,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??y}static _$Ei(){if(this.hasOwnProperty(g("elementProperties")))return;const e=d(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g("properties"))){const e=this.properties,t=[...a(e),...c(e)];for(const s of t)this.createProperty(s,e[s])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,s]of t)this.elementProperties.set(e,s)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const s=this._$Eu(e,t);void 0!==s&&this._$Eh.set(s,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const e of s)t.unshift((0,i.sk)(e))}else void 0!==e&&t.push((0,i.sk)(e));return t}static _$Eu(e,t){const s=t.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const s of t.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,i.Rf)(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,s){this._$AK(e,s)}_$ET(e,t){const s=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,s);if(void 0!==i&&!0===s.reflect){const o=(void 0!==s.converter?.toAttribute?s.converter:m).toAttribute(t,s.type);this._$Em=e,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,t){const s=this.constructor,i=s._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=s.getPropertyOptions(i),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:m;this._$Em=i,this[i]=o.fromAttribute(t,e.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,t,s){if(void 0!==e){const i=this.constructor,o=this[e];if(s??=i.getPropertyOptions(e),!((s.hasChanged??_)(o,t)||s.useDefault&&s.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,s))))return;this.C(e,t,s)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:s,reflect:i,wrapped:o},n){s&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,n??t??this[e]),!0!==o||void 0!==n)||(this._$AL.has(e)||(this.hasUpdated||s||(t=void 0),this._$AL.set(e,t)),!0===i&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,s]of e){const{wrapped:e}=s,i=this[t];!0!==e||this._$AL.has(t)||void 0===i||this.C(t,void 0,s,i)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}}f.elementStyles=[],f.shadowRootOptions={mode:"open"},f[g("elementProperties")]=new Map,f[g("finalized")]=new Map,p?.({ReactiveElement:f}),(l.reactiveElementVersions??=[]).push("2.1.0")},3174:(e,t,s)=>{"use strict";s.d(t,{c:()=>r,g:()=>a,r:()=>n});var i=s(5860),o=s(3987);const n=(0,i.le)({defaultAssetPath:"https://js.arcgis.com/4.33/imagery-components/",hydratedAttribute:"hydrated"}),{customElement:r,getAssetPath:a,setAssetPath:c}=n;n.t=o.trackAccess,n.o=o.createObservable,n.c=o.createTrackingTarget,n.r=o.runTracked},3438:e=>{"use strict";e.exports=T},3661:e=>{"use strict";e.exports=x},3715:(e,t,s)=>{"use strict";s.d(t,{OA:()=>i,WL:()=>n,u$:()=>o});const i={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=e=>(...t)=>({_$litDirective$:e,values:t});class n{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,s){this._$Ct=e,this._$AM=t,this._$Ci=s}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},3722:e=>{"use strict";e.exports=g},3752:e=>{"use strict";e.exports=c},3789:e=>{"use strict";e.exports=p},3987:e=>{"use strict";e.exports=r},4312:e=>{"use strict";e.exports=S},4321:e=>{"use strict";e.exports=o},4345:e=>{"use strict";e.exports=h},4824:e=>{"use strict";e.exports=f},4951:e=>{"use strict";e.exports=_},5508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},5860:(e,t,s)=>{"use strict";s.d(t,{WF:()=>C,lh:()=>i.b,G$:()=>d,le:()=>L,Iq:()=>a,s6:()=>j,CP:()=>T,zl:()=>U});Event;Event;var i=s(310),o=s(2883);o.W3,o.Ec;var n=s(7274);const r=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const s=t;return s.manager?.loadedCalled||(s.J??s._offspring).push(e),(s.I??s._postLoad).promise}return!1};const a={};function c(){}const d=(e,t)=>function(s,i){if(!globalThis.customElements)return;const o=(i??s??{}).resourcesUrl;o&&e.setAssetPath(o);for(const[s,[i,o=""]]of Object.entries(t)){if(customElements.get(s))continue;const[t,n,r]=o.split(";"),a=t?t?.split(",").map(h):void 0,c=a?.map((([e])=>e)),d=class extends p{static{this.observedAttributes=a?.map((([,e])=>e)).filter((e=>""!==e))}static{this.C=c}static{this.E=n?n?.split(","):void 0}static{this.D=r?.split(",")}static{this.L=s}static{this.K=e}constructor(){!d.B&&(d.B=i(),d.F()),super()}};customElements.define(s,d)}},l=Object.defineProperty,h=e=>{const t=e.split(":");return 1===t.length?[t[0],(0,n.j1)(t[0])]:t},u=globalThis.HTMLElement??c;class p extends u{constructor(){super(),this.#g={},this.#m=[],this.I=new n.cY,this.H=new n.cY,this.J=[];const e=this,t=e.constructor;e._offspring=e.J,e._postLoad=e.I,t.C?.forEach((t=>{Object.hasOwn(e,t)&&(e.#g[t]=e[t],delete e[t])})),t.A?e.#_({a:t.A}):t.B.then((async s=>{await t.K.p,e.#_(await(s.default?.then((e=>"function"==typeof e?{a:e}:e))??s))})).catch((t=>{e.H.reject(t),setTimeout((()=>{throw t}))}))}static{this.lumina=!0}static F(){for(const e of this.C??[])l(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#g[e]},set(t){this.#g[e]=t}});for(const e of this.E??[])l(this.prototype,e,{async value(...t){this.#y||await this.H.promise;const s=this.#y;return await s[e](...t)},configurable:!0});for(const e of this.D??[])l(this.prototype,e,{value(...t){return this.#y[e](...t)},configurable:!0})}#y;#g;#m;get manager(){return this.#y?.manager}attributeChangedCallback(e,t,s){this.#y?.attributeChangedCallback(e,t,s),this.#y||this.#m.push(e)}connectedCallback(){this.#y?this.#y.connectedCallback?.():queueMicrotask((()=>this.G=r(this)))}disconnectedCallback(){this.#y?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#_(e){const t=this.constructor,s=t.L,i=this.#g,o=Object.values(e).find((e=>e.L===s));const n=`${s}--lazy`;let r=o;for(;r&&!Object.hasOwn(r,"lumina");)r=Object.getPrototypeOf(r);m(r);!t.A&&(t.A=o,customElements.define(n,o)),o.N=this;const a=document.createElement(n);o.N=void 0,this.#y=a,this.#g=a,this.#m.forEach((e=>a.attributeChangedCallback(e,null,this.getAttribute(e)))),Object.entries(i).forEach(g,a);const c=this.isConnected;(c||this.G)&&(a.connectedCallback?.(),c||a.disconnectedCallback())}addController(){}requestUpdate(){this.#y?.requestUpdate()}}function g([e,t]){this[e]=t}const m=e=>{const t=e.prototype,s=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(e,t){s.setAttribute.call(this.el,e,t)},t.removeAttribute=function(e){s.removeAttribute.call(this.el,e)},l(t,"isConnected",{get(){return Reflect.get(s,"isConnected",this.el)}}))};var _=s(9722),y=s(7513),f=s(3715);const v=(0,f.u$)(class extends f.WL{constructor(e){if(super(e),e.type!==f.OA.ATTRIBUTE||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const s=e.element.classList;for(const e of this.st)e in t||(s.remove(e),this.st.delete(e));for(const e in t){const i=!!t[e];i===this.st.has(e)||this.nt?.has(e)||(i?(s.add(e),this.st.add(e)):(s.remove(e),this.st.delete(e)))}return y.c0}}),b="important",w=" !"+b,A=(0,f.u$)(class extends f.WL{constructor(e){if(super(e),e.type!==f.OA.ATTRIBUTE||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,s)=>{const i=e[s];return null==i?t:t+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(e,[t]){const{style:s}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const e of this.ft)null==t[e]&&(this.ft.delete(e),e.includes("-")?s.removeProperty(e):s[e]=null);for(const e in t){const i=t[e];if(null!=i){this.ft.add(e);const t="string"==typeof i&&i.endsWith(w);e.includes("-")||t?s.setProperty(e,t?i.slice(0,-11):i,t?b:""):s[e]=i}}return y.c0}});var $=s(5987);(0,f.u$)(class extends f.WL{constructor(e){if(super(e),e.type!==f.OA.PROPERTY&&e.type!==f.OA.ATTRIBUTE&&e.type!==f.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,$.Rt)(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===y.c0||t===y.s6)return t;const s=e.element,i=e.name;if(e.type===f.OA.PROPERTY){if(t===s[i])return y.c0}else if(e.type===f.OA.BOOLEAN_ATTRIBUTE){if(!!t===s.hasAttribute(i))return y.c0}else if(e.type===f.OA.ATTRIBUTE&&s.getAttribute(i)===t+"")return y.c0;return(0,$.mY)(e),t}});class E extends i.G{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=_.s6,this.T=[],this.#f=new WeakMap,this.#h=e,this.exports=void 0,this.hasDestroy=x in e&&"function"==typeof e.destroy,_.WF.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const t=e.el.localName;throw e.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${x} prop.`)}void 0!==this.#v&&clearTimeout(this.#v),(0,i.k)();for(const t of e.M)"triggerConnected"in t?t.triggerConnected():(0,n.UF)(t.hostConnected,t)},hostDisconnected:()=>{for(const t of e.M)"triggerDisconnected"in t?t.triggerDisconnected():(0,n.UF)(t.hostDisconnected,t);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const t of e.M)"triggerUpdate"in t?t.triggerUpdate(this.Q):(0,n.UF)(t.hostUpdate,t,this.Q)},hostUpdated:()=>{for(const t of e.M)"triggerUpdated"in t?t.triggerUpdated(this.Q):(0,n.UF)(t.hostUpdated,t,this.Q);this.Q=void 0}}),queueMicrotask((()=>this.R=!0)),(0,i.s)(e)}#v;#h;async destroy(){if(!this.destroyed){this.#h.el.isConnected&&(this.hasDestroy=!1,this.#h.el.remove()),this.#v=void 0,this.destroyed=!0;for(const e of this.#h.M)"triggerDestroy"in e?e.triggerDestroy():(0,n.UF)(e.hostDestroy,e);this.#h.M.splice(0)}}U(){if(void 0!==this.#v&&clearTimeout(this.#v),!this.#h.el.isConnected&&!this.#h.autoDestroyDisabled){const e=()=>{this.#h.destroy()};this.#v=(0,n.oK)(e,S)}}S(e,t){const s=this.T;this.V=_.s6,this.T=[],s.forEach((s=>s(e,t)))}#f;W(e,t){("object"==typeof t&&null!==t||"function"==typeof t)&&this.#f.set(t,e)}X(e){return"object"==typeof e&&null!==e||"function"==typeof e?this.#f.get(e):void 0}}let S=1e3;const x="autoDestroyDisabled";class C extends _.WF{constructor(){super(),this.M=[],this.manager=new E(this);const e=this,t=e.constructor,s=t.N,i=t.K.o,o=C.prototype.shouldUpdate;e.#b=s?.H??new n.cY,e.I=s?.I??new n.cY,e.J=s?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=s??e,e.#w=e.enableUpdating,e.enableUpdating=c,e.shouldUpdate!==o&&(e.#A=e.shouldUpdate,e.shouldUpdate=o),i&&(e.#$=new Map,t.elementProperties.forEach(((t,s)=>e.#$.set(s,i())))),_.S$&&e.el.setAttribute(t.K.hydratedAttribute,"")}static finalizeStyles(e){const t=super.finalizeStyles(e),s=this.shadowRootOptions===a;return void 0===this.K?.commonStyles||s?t:[this.K.commonStyles,...t]}static createProperty(e,t){const s="number"==typeof t?t:Array.isArray(t)?t[0]:0,i=Array.isArray(t)?t[1]:void 0,o=i?.hasChanged??_.Ec,r={attribute:!!(1&s&&"string"==typeof e)&&(0,n.j1)(e),reflect:!!(2&s),type:4&s?Boolean:8&s?Number:void 0,state:!!(16&s),readOnly:!!(32&s),noAccessor:!!(64&s),c:!1,...i,hasChanged(e,t){const s=o(e,t);return r.c=s,s}};super.createProperty(e,r)}static getPropertyDescriptor(e,t,s){const o=this.K,n=super.getPropertyDescriptor(e,t,s);return s.d=n,{...n,get(){return o.t?.(this.#$.get(e)),n.get?.call(this)},set(t){const o=this.manager;if(s.readOnly&&!i.a&&(o.R||o.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${t}"`);n.set.call(this,t??void 0),s.c&&this.#$?.get(e)?.notify(),o.T.length>0&&o?.S(e,t)}}}static{this.lumina=!0}#$;#A;#w;#b;#E;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.((()=>this.requestUpdate()));this.#E=e;const t=!this.manager.connectedCalled;super.connectedCallback(),t?queueMicrotask((()=>this.#S().catch((e=>{this.#b.reject(e),setTimeout((()=>{throw e}))})))):e&&this.requestUpdate()}#x(e){try{this.#E.clear(),this.constructor.K.r(this.#E,(()=>super.update(e)))}catch(e){throw this.#E.clear(),e}}disconnectedCallback(){super.disconnectedCallback(),this.#E?.destroy(),this.#E=void 0}createRenderRoot(){const e=this.el.shadowRoot,t=this.constructor,s=t.shadowRootOptions,i=e??(s===a?this.el:this.el.attachShadow(s));if(e)return _.WF.prototype.createRenderRoot.call(this),e;if(this.isConnected){const e=i.getRootNode();0,e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t.elementStyles.map((e=>"styleSheet"in e?e.styleSheet:e))]}return i}async#S(){const e=this.el.G??r(this.el);e&&await e;const t=[];for(const e of this.M)"triggerLoad"in e?t.push(e.triggerLoad()):t.push((0,n.ao)(e.hostLoad,e));await Promise.all(t),await(this.load?.()),this.manager.hasDestroy&&this.manager.onUpdate((e=>e.has(x)&&this.manager.U())),this.#w(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const s=this.J.filter((e=>!e.manager?.loadedCalled));s.length&&await Promise.allSettled(s.map((async e=>await e.componentOnReady()))),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const e of this.M)"triggerLoaded"in e?e.triggerLoaded():(0,n.UF)(e.hostLoaded,e);this.loaded?.(),this.#b.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#A?.(e)??!0}update(e){this.#E?this.#x(e):super.update(e)}listen(e,t,s){const i=t?.bind(this)??t;this.manager.onLifecycle((()=>(this.el.addEventListener(e,i,s),()=>this.el.removeEventListener(e,i,s))))}listenOn(e,t,s,i){const o=s?.bind(this)??s;this.manager.onLifecycle((()=>(e.addEventListener(t,o,i),()=>e.removeEventListener(t,o,i))))}async componentOnReady(){return await this.#b.promise,this}addController(e){this.M.push(e),!(i.c in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const L=e=>{let t;const s=e=>{t=new URL(e,globalThis.location?.href||void 0).href},i={...e,getAssetPath(e){const s=new URL(e,t);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:s,customElement(e,t){t.K=i,t.L=e,customElements.get(e)||customElements.define(e,t)}};return s(e.defaultAssetPath),i},T=e=>"object"==typeof e&&null!=e?v(e):e,U=e=>"object"==typeof e&&null!=e?A(e):e;const j=y.s6},5987:(e,t,s)=>{"use strict";s.d(t,{Dx:()=>a,KO:()=>u,Rt:()=>n,cN:()=>h,lx:()=>c,mY:()=>l});var i=s(7513);const{I:o}=i.ge,n=e=>void 0===e.strings,r=()=>document.createComment(""),a=(e,t,s)=>{const i=e._$AA.parentNode,n=void 0===t?e._$AB:t._$AA;if(void 0===s){const t=i.insertBefore(r(),n),a=i.insertBefore(r(),n);s=new o(t,a,e,e.options)}else{const t=s._$AB.nextSibling,o=s._$AM,r=o!==e;if(r){let t;s._$AQ?.(e),s._$AM=e,void 0!==s._$AP&&(t=e._$AU)!==o._$AU&&s._$AP(t)}if(t!==n||r){let e=s._$AA;for(;e!==t;){const t=e.nextSibling;i.insertBefore(e,n),e=t}}}return s},c=(e,t,s=e)=>(e._$AI(t,s),e),d={},l=(e,t=d)=>e._$AH=t,h=e=>e._$AH,u=e=>{e._$AP?.(!1,!0);let t=e._$AA;const s=e._$AB.nextSibling;for(;t!==s;){const e=t.nextSibling;t.remove(),t=e}}},6011:(e,t,s)=>{"use strict";s.d(t,{AH:()=>c,Rf:()=>d,sk:()=>l});const i=globalThis,o=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),r=new WeakMap;class a{constructor(e,t,s){if(this._$cssResult$=!0,s!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(o&&void 0===e){const s=void 0!==t&&1===t.length;s&&(e=r.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&r.set(t,e))}return e}toString(){return this.cssText}}const c=(e,...t)=>{const s=1===e.length?e[0]:t.reduce(((t,s,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1]),e[0]);return new a(s,e,n)},d=(e,t)=>{if(o)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const s of t){const t=document.createElement("style"),o=i.litNonce;void 0!==o&&t.setAttribute("nonce",o),t.textContent=s.cssText,e.appendChild(t)}},l=o?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const s of e.cssRules)t+=s.cssText;return(e=>new a("string"==typeof e?e:e+"",void 0,n))(t)})(e):e},6547:e=>{"use strict";e.exports=E},6744:e=>{"use strict";e.exports=d},6798:e=>{"use strict";e.exports=C},7274:(e,t,s)=>{"use strict";s.d(t,{O:()=>c,UF:()=>l,ao:()=>h,cY:()=>i,hd:()=>b,j1:()=>A,kn:()=>f,oK:()=>E,sg:()=>L});class i{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const o=(e,t,s)=>(0,r(t).subscribe)((t=>{const i=t.some((t=>((e,t)=>{let s=e;for(;s;){if(s===t)return!0;if(!s.parentNode)return!1;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e,t.target)));i&&s()})),n={},r=e=>{const t=e.join(","),s=n[t];if(void 0!==s)return s;const i=new Set,o=new MutationObserver((e=>i.forEach((t=>t(e)))));globalThis.document&&o.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const r={subscribe:e=>(i.add(e),()=>{i.delete(e),0===i.size&&(o.disconnect(),n[t]=void 0)})};return n[t]=r,r},a=(e,t)=>{let s=e;for(;s;){const e=s.closest?.(t);if(e)return e;const i=s.getRootNode?.();if(i===globalThis.document)return null;s=i.host}return null},c=e=>d(e,"dir","ltr"),d=(e,t,s)=>{const i=a(e,`[${t}]`);return i?.getAttribute(t)??s},l=(e,t,...s)=>{try{return e?.call(t,...s)}catch(t){console.error(t,e)}},h=async(e,t,...s)=>{try{const i=e?.call(t,...s);return await i}catch(t){console.error(t,e)}},u="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),p=new Set(u),g="en",m={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},_={},y=async(e,t)=>{const s=`${t}${e}.json`;try{const e=await fetch(s);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===g?{}:await y(g,t)},f=e=>{const t=d(e,"lang",globalThis.navigator?.language||g);return{lang:t,t9nLocale:v(t)}},v=e=>{const[t,s]=e.split("-"),i=t.toLowerCase();let o=i;return s&&(o=`${i}-${s.toUpperCase()}`),o=m[o]??o,p.has(o)?o:s?v(i):g},b=(e,t,s,i)=>{let n;const r=()=>w(e,t(),i).then((e=>{n?.lang===e.lang&&n.t9nLocale===e.t9nLocale&&n.t9nStrings===e.t9nStrings||s(e),n=e})).catch(console.error);return queueMicrotask(r),o(e,["lang"],r)},w=async(e,t,s=e.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:o}=f(e),n=`${t}/${s}/t9n`,r=null===s?{}:await(async(e,t,s="")=>{const i=`${t}/${s}`,o=`${i}${e}.json`;return _[o]??(_[o]=y(e,i)),await _[o]})(o,n,"messages.");return{lang:i,t9nLocale:o,t9nStrings:r}},A=e=>e.replace($,((e,t)=>`${0===t?"":"-"}${e.toLowerCase()}`)),$=/[A-Z]+(?![a-z])|[A-Z]/gu,E=(e,t)=>{const s=t>S?x:t/C;let i=0;const o=setInterval((()=>{i+=s,i>=t&&(clearInterval(o),e())}),s);return o},S=4e3,x=2e3,C=4,L=(e,t=100)=>{let s;return(...i)=>{clearTimeout(s),s=setTimeout((()=>{clearTimeout(s),e(...i)}),t)}}},7513:(e,t,s)=>{"use strict";s.d(t,{XX:()=>z,c0:()=>S,ge:()=>H,qy:()=>E,s6:()=>x});const i=globalThis,o=i.trustedTypes,n=o?o.createPolicy("lit-html",{createHTML:e=>e}):void 0,r="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,c="?"+a,d=`<${c}>`,l=document,h=()=>l.createComment(""),u=e=>null===e||"object"!=typeof e&&"function"!=typeof e,p=Array.isArray,g=e=>p(e)||"function"==typeof e?.[Symbol.iterator],m="[ \t\n\f\r]",_=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,y=/-->/g,f=/>/g,v=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),b=/'/g,w=/"/g,A=/^(?:script|style|textarea|title)$/i,$=e=>(t,...s)=>({_$litType$:e,strings:t,values:s}),E=$(1),S=($(2),$(3),Symbol.for("lit-noChange")),x=Symbol.for("lit-nothing"),C=new WeakMap,L=l.createTreeWalker(l,129);function T(e,t){if(!p(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==n?n.createHTML(t):t}const U=(e,t)=>{const s=e.length-1,i=[];let o,n=2===t?"<svg>":3===t?"<math>":"",c=_;for(let t=0;t<s;t++){const s=e[t];let l,h,u=-1,p=0;for(;p<s.length&&(c.lastIndex=p,h=c.exec(s),null!==h);)p=c.lastIndex,c===_?"!--"===h[1]?c=y:void 0!==h[1]?c=f:void 0!==h[2]?(A.test(h[2])&&(o=RegExp("</"+h[2],"g")),c=v):void 0!==h[3]&&(c=v):c===v?">"===h[0]?(c=o??_,u=-1):void 0===h[1]?u=-2:(u=c.lastIndex-h[2].length,l=h[1],c=void 0===h[3]?v:'"'===h[3]?w:b):c===w||c===b?c=v:c===y||c===f?c=_:(c=v,o=void 0);const g=c===v&&e[t+1].startsWith("/>")?" ":"";n+=c===_?s+d:u>=0?(i.push(l),s.slice(0,u)+r+s.slice(u)+a+g):s+a+(-2===u?t:g)}return[T(e,n+(e[s]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),i]};class j{constructor({strings:e,_$litType$:t},s){let i;this.parts=[];let n=0,d=0;const l=e.length-1,u=this.parts,[p,g]=U(e,t);if(this.el=j.createElement(p,s),L.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=L.nextNode())&&u.length<l;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith(r)){const t=g[d++],s=i.getAttribute(e).split(a),o=/([.?@])?(.*)/.exec(t);u.push({type:1,index:n,name:o[2],strings:s,ctor:"."===o[1]?R:"?"===o[1]?D:"@"===o[1]?I:M}),i.removeAttribute(e)}else e.startsWith(a)&&(u.push({type:6,index:n}),i.removeAttribute(e));if(A.test(i.tagName)){const e=i.textContent.split(a),t=e.length-1;if(t>0){i.textContent=o?o.emptyScript:"";for(let s=0;s<t;s++)i.append(e[s],h()),L.nextNode(),u.push({type:2,index:++n});i.append(e[t],h())}}}else if(8===i.nodeType)if(i.data===c)u.push({type:2,index:n});else{let e=-1;for(;-1!==(e=i.data.indexOf(a,e+1));)u.push({type:7,index:n}),e+=a.length-1}n++}}static createElement(e,t){const s=l.createElement("template");return s.innerHTML=e,s}}function O(e,t,s=e,i){if(t===S)return t;let o=void 0!==i?s._$Co?.[i]:s._$Cl;const n=u(t)?void 0:t._$litDirective$;return o?.constructor!==n&&(o?._$AO?.(!1),void 0===n?o=void 0:(o=new n(e),o._$AT(e,s,i)),void 0!==i?(s._$Co??=[])[i]=o:s._$Cl=o),void 0!==o&&(t=O(e,o._$AS(e,t.values),o,i)),t}class k{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:s}=this._$AD,i=(e?.creationScope??l).importNode(t,!0);L.currentNode=i;let o=L.nextNode(),n=0,r=0,a=s[0];for(;void 0!==a;){if(n===a.index){let t;2===a.type?t=new P(o,o.nextSibling,this,e):1===a.type?t=new a.ctor(o,a.name,a.strings,this,e):6===a.type&&(t=new N(o,this,e)),this._$AV.push(t),a=s[++r]}n!==a?.index&&(o=L.nextNode(),n++)}return L.currentNode=l,i}p(e){let t=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(e,s,t),t+=s.strings.length-2):s._$AI(e[t])),t++}}class P{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,s,i){this.type=2,this._$AH=x,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=O(this,e,t),u(e)?e===x||null==e||""===e?(this._$AH!==x&&this._$AR(),this._$AH=x):e!==this._$AH&&e!==S&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):g(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==x&&u(this._$AH)?this._$AA.nextSibling.data=e:this.T(l.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:s}=e,i="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=j.createElement(T(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(t);else{const e=new k(i,this),s=e.u(this.options);e.p(t),this.T(s),this._$AH=e}}_$AC(e){let t=C.get(e.strings);return void 0===t&&C.set(e.strings,t=new j(e)),t}k(e){p(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let s,i=0;for(const o of e)i===t.length?t.push(s=new P(this.O(h()),this.O(h()),this,this.options)):s=t[i],s._$AI(o),i++;i<t.length&&(this._$AR(s&&s._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class M{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,s,i,o){this.type=1,this._$AH=x,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=x}_$AI(e,t=this,s,i){const o=this.strings;let n=!1;if(void 0===o)e=O(this,e,t,0),n=!u(e)||e!==this._$AH&&e!==S,n&&(this._$AH=e);else{const i=e;let r,a;for(e=o[0],r=0;r<o.length-1;r++)a=O(this,i[s+r],t,r),a===S&&(a=this._$AH[r]),n||=!u(a)||a!==this._$AH[r],a===x?e=x:e!==x&&(e+=(a??"")+o[r+1]),this._$AH[r]=a}n&&!i&&this.j(e)}j(e){e===x?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class R extends M{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===x?void 0:e}}class D extends M{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==x)}}class I extends M{constructor(e,t,s,i,o){super(e,t,s,i,o),this.type=5}_$AI(e,t=this){if((e=O(this,e,t,0)??x)===S)return;const s=this._$AH,i=e===x&&s!==x||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==x&&(s===x||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class N{constructor(e,t,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){O(this,e)}}const H={M:r,P:a,A:c,C:1,L:U,R:k,D:g,V:O,I:P,H:M,N:D,U:I,B:R,F:N},V=i.litHtmlPolyfillSupport;V?.(j,P),(i.litHtmlVersions??=[]).push("3.3.0");const z=(e,t,s)=>{const i=s?.renderBefore??t;let o=i._$litPart$;if(void 0===o){const e=s?.renderBefore??null;i._$litPart$=o=new P(t.insertBefore(h(),e),e,void 0,s??{})}return o._$AI(e),o}},8247:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M16 3v7h-3V9h2V7h-2V6h2V4h-2v1h-1V4H9v1H8V4H6v1H5V3zm-6-1L8.5 0 7 2zM7 14l1.5 2 1.5-2zm5-8v7H1V6zM5 7v2h3V7zM2 9h2V7H2zm2 3v-2H2v2zm4 0v-2H5v2zm3-2H9v2h2zm0-3H9v2h2z"></path><path d="M15 9h-2V7h2zm-4 1H9v2h2zM8 7H5v2h3z" opacity=".5"></path><path d="M4 9H2V7h2zm4 1H5v2h3zm4-6H9v1h3z" opacity=".25"></path><path fill="none" d="M0 0h16v16H0z"></path></svg>'},8423:e=>{"use strict";e.exports=A},8927:e=>{"use strict";e.exports=j},9037:e=>{"use strict";e.exports=n},9047:e=>{"use strict";e.exports=m},9244:e=>{"use strict";e.exports=s},9327:e=>{"use strict";e.exports=U},9722:(e,t,s)=>{"use strict";s.d(t,{WF:()=>r,qy:()=>o.qy,S$:()=>c,Ec:()=>i.Ec,s6:()=>o.s6,XX:()=>o.XX});var i=s(2883),o=s(7513);const n=globalThis;class r extends i.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,o.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return o.c0}}r._$litElement$=!0,r.finalized=!0,n.litElementHydrateSupport?.({LitElement:r});const a=n.litElementPolyfillSupport;a?.({LitElement:r});(n.litElementVersions??=[]).push("4.2.0");const c=!1}},k={};function P(e){var t=k[e];if(void 0!==t)return t.exports;var s=k[e]={exports:{}};return O[e](s,s.exports,P),s.exports}P.m=O,P.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return P.d(t,{a:t}),t},P.d=(e,t)=>{for(var s in t)P.o(t,s)&&!P.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},P.f={},P.e=e=>Promise.all(Object.keys(P.f).reduce(((t,s)=>(P.f[s](e,t),t)),[])),P.u=e=>"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-a404da"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-a404da.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-f60fb5"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-f60fb5.js":"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-eb8e0a"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-eb8e0a.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-2fb639"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-2fb639.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-3b9e26"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-3b9e26.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-1ffe5f"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-1ffe5f.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-28f806"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-28f806.js":"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-ce7b57"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-ce7b57.js":"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-b6502e"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-b6502e.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-e4d165"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-e4d165.js":"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-54d148"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-54d148.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-b9020a"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-b9020a.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8dacb5"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8dacb5.js":"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-7a4544"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-7a4544.js":"extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8aad5b"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8aad5b.js":"vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-dbfcf5"===e?"widgets/arcgis/display-order/chunks/arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-dbfcf5.js":void 0,P.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="exb-client:",P.l=(s,i,o,n)=>{if(e[s])e[s].push(i);else{var r,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var l=c[d];if(l.getAttribute("src")==s||l.getAttribute("data-webpack")==t+o){r=l;break}}r||(a=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,P.nc&&r.setAttribute("nonce",P.nc),r.setAttribute("data-webpack",t+o),r.src=s),e[s]=[i];var h=(t,i)=>{r.onerror=r.onload=null,clearTimeout(u);var o=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((e=>e(i))),t)return t(i)},u=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),a&&document.head.appendChild(r)}},P.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.p="",(()=>{var e={"widgets/arcgis/display-order/dist/runtime/widget":0};P.f.j=(t,s)=>{var i=P.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var o=new Promise(((s,o)=>i=e[t]=[s,o]));s.push(i[2]=o);var n=P.p+P.u(t),r=new Error;P.l(n,(s=>{if(P.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",r.name="ChunkLoadError",r.type=o,r.request=n,i[1](r)}}),"chunk-"+t,t)}};var t=(t,s)=>{var i,o,[n,r,a]=s,c=0;if(n.some((t=>0!==e[t]))){for(i in r)P.o(r,i)&&(P.m[i]=r[i]);if(a)a(P)}for(t&&t(s);c<n.length;c++)o=n[c],P.o(e,o)&&e[o]&&e[o][0](),e[o]=0},s=self.webpackChunkexb_client=self.webpackChunkexb_client||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var M={};return P.p=window.jimuConfig.baseUrl,(()=>{"use strict";P.r(M),P.d(M,{__set_webpack_public_path__:()=>j,default:()=>U});var e=P(9244),t=P(2686),s=P(4321),i=function(e,t,s,i){return new(s||(s=Promise))((function(o,n){function r(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const o=t=>{const{type:s}=t;if(!(s===e.SupportedJSAPILayerTypes.ImageryLayer))return!1;const i=t;return i.fields&&i.fields.length>0},n=(e,t)=>i(void 0,void 0,void 0,(function*(){var s;if(!e||!t)return[];const i=t.getMapDataSource(),o=null!==(s=i.getDataSourceByLayer(e))&&void 0!==s?s:yield i.createDataSourceByLayer(e);return[{dataSource:o,records:[],name:null==o?void 0:o.getLabel()}]})),r=e=>i(void 0,void 0,void 0,(function*(){var s;if(!e)return{};const i=t.MapViewManager.getInstance().getJimuMapViewById(e);return yield null==i?void 0:i.whenJimuMapViewLoaded(),null!==(s=null==i?void 0:i.jimuLayerViews)&&void 0!==s?s:{}})),a=(e,t)=>i(void 0,void 0,void 0,(function*(){if(!e)return[];return l(e,t)?c(e,t):d(e)})),c=(e,t)=>i(void 0,void 0,void 0,(function*(){const s=yield r(e);return(yield u(e,t)).map((e=>s[e].layer))})),d=e=>i(void 0,void 0,void 0,(function*(){const t=yield r(e);return(yield p(e)).map((e=>t[e].layer))})),l=(e,t)=>{var s,i;return null!==(i=null===(s=null==t?void 0:t[e])||void 0===s?void 0:s.isEnabled)&&void 0!==i&&i},h=(e,t)=>{var s;return null===(s=null==t?void 0:t[e])||void 0===s?void 0:s.selectedLayerViewIds},u=(e,t)=>i(void 0,void 0,void 0,(function*(){const s=h(e,t);return(yield p(e)).filter((e=>s.includes(e)))})),p=e=>i(void 0,void 0,void 0,(function*(){const t=yield r(e),s=Object.keys(t);yield Promise.allSettled(s.map((e=>t[e].layer.load())));return s.filter((e=>o(t[e].layer)))}));var g=P(8247),m=P.n(g);const _={_widgetLabel:"Display Order",_widgetDescription:"A widget to set the display order for overlapped images within an imagery layer.",selectLayers:"Select layers",noLayersTip:"There are currently no Imagery Layers to display.",openSettingPanelTip:"Please open the widget setting panel to update the configurations."},y=t=>{const{widgetId:i,show:o=!1}=t;if(!o)return null;const n=e.hooks.useTranslation(_);return e.React.createElement("div",{className:"w-100 h-100"},e.React.createElement(s.WidgetPlaceholder,{icon:m(),widgetId:i,message:n("_widgetLabel")}))};var f=P(5508),v=P.n(f),b=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]])}return s};const w=t=>{const s=window.SVG,{className:i}=t,o=b(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:v()},o)):e.React.createElement("svg",Object.assign({className:n},o))},A=t=>{var s;const{show:i=!1}=t;if(!i)return null;const o=null===(s=window.jimuConfig)||void 0===s?void 0:s.isInBuilder,n=e.hooks.useTranslation(_);return e.React.createElement("div",{className:"w-100 h-100 d-flex flex-column align-items-center justify-content-center p-1"},e.React.createElement("div",null,e.React.createElement(w,{width:24,height:24})),e.React.createElement("div",{className:"mt-2 text-center"},n("noLayersTip")),o&&e.React.createElement("div",{className:"mt-2 text-center"},n("openSettingPanelTip")))},$=t=>{const{widgetId:i,layerId:o,layerList:n,enableDataAction:r=!0,actionDataSets:a,handleLayerChange:c}=t,d=e.hooks.useTranslation(_);return e.React.createElement("div",{className:"d-flex justify-content-between mb-2 px-3"},e.React.createElement(s.Select,{"aria-label":d("selectLayers"),size:"sm",value:o,useFirstOption:!0,onChange:c,style:{minWidth:"150px",width:"fit-content"}},n.map((({id:t,title:i})=>e.React.createElement(s.Option,{key:t,value:t},i)))),r&&e.React.createElement(s.DataActionList,{widgetId:i,dataSets:a,listStyle:s.DataActionListStyle.Dropdown,buttonSize:"sm"}))};P(9037);var E=P(3174);const S=(0,P(5860).G$)(E.r,{"arcgis-imagery-collection-explorer":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-a404da").then(P.bind(P,4957)),"layer:,portal:,view:;setFocus"],"arcgis-imagery-item-details-popover":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-f60fb5").then(P.bind(P,7989)),"imageItemFeatureGraphic:,imageItemInfo:,layer:,messages:,open,referenceElement:,view:"],"arcgis-imagery-item-filters-popover":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-eb8e0a").then(P.bind(P,8320)),"currentFilterDetail:,layer:,locale,messages:,open,referenceElement:,view:"],"arcgis-imagery-item-info-table":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-2fb639").then(P.bind(P,4466)),"columns:,data:"],"arcgis-imagery-item-list-settings-popover":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-3b9e26").then(P.bind(P,2281)),"fields:,isShowingThumbnails,messages:,open,preselectedFields:,referenceElement:"],"arcgis-imagery-item-preview":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-1ffe5f").then(P.bind(P,1067)),"previewImageItemGraphic:,previewLayerUrl"],"arcgis-imagery-item-sort-popover":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-28f806").then(P.bind(P,3287)),"fields:,messages:,open,preselectedSortField:,preselectedSortOrder:,referenceElement:"],"arcgis-imagery-display-order":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-ce7b57").then(P.bind(P,9418)),"closable,hideButtons,layer:,panelHeading"],"arcgis-imagery-multidimensional-filter":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-b6502e").then(P.bind(P,9402)),"closable,dimensionSliderSetting:,hideButtons,isDimensionListSortable,layer:,panelHeading,showAreaOfInterest,showDimensionSliderControls,showExtentSection,view:;done,setFocus"],"arcgis-imagery-dimension-slider":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-e4d165").then(P.bind(P,5331)),"dimensionInfo:,dimensionValue,sliderSetting:"],"arcgis-imagery-multidimensional-subset":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-54d148").then(P.bind(P,1342)),"collapseExtentSection,messages:,multidimensionalInfo:,multidimensionalSubset:,showAreaOfInterest,showFilterLength,view:;closePopover"],"arcgis-imagery-lazy-loading-list":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-b9020a").then(P.bind(P,3643)),"list:,messages:,pageBufferSize,pageSize,popoverProps:,position,removeOldPages,selectedIndex,showFilter,useFlyOut"],"arcgis-imagery-lazy-loading-select":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8dacb5").then(P.bind(P,6367)),"ariaLabeledBy,containerBottom,containerTop,list:,messages:,pageSize,removeOldPages,selectedIndex,showFilterLength"],"arcgis-imagery-multidimensional-info":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-7a4544").then(P.bind(P,584)),"layer:,open,showFilterLength,showRawSourceInfo,showStatistics;done"],"arcgis-imagery-multidimensional-variable-info":[()=>P.e("extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8aad5b").then(P.bind(P,3241)),"messages:,open,popoverProps:,showDimensionSummary,showStatistics,variableInfo:;reposition,setFocus"],"arcgis-imagery-processing-template":[()=>P.e("vendors-extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_c-dbfcf5").then(P.bind(P,4301)),"closable,hideButtons,layer:,panelHeading,portal:,showItemBrowser,showRendererWarning"]}),x=t=>{const{layerId:i,layerList:o,context:{folderUrl:n}}=t,[r,a]=e.React.useState(!1);e.React.useEffect((()=>{var e;S(window,{resourcesUrl:(e=n,`${e}dist/imagery-components-assets/assets`)}),a(!0)}),[n]);const c=e.React.useCallback((e=>{if(e){const t=o.find((({id:e})=>e===i));e.layer=t,e.panelHeading="",e.hideButtons=!0}}),[i]);return e.React.createElement("div",{style:{flexGrow:1,overflowY:"auto",height:"calc(100%-3rem)"}},r?e.React.createElement("arcgis-imagery-display-order",{ref:c}):e.React.createElement(s.Loading,{type:s.LoadingType.Secondary}))};var C;!function(e){e.SET_JIMU_MAP_VIEW="SET_JIMU_MAP_VIEW",e.SET_LAYER_LIST="SET_LAYER_LIST",e.SET_LAYER_ID="SET_LAYER_ID"}(C||(C={}));var L=function(e,t,s,i){return new(s||(s=Promise))((function(o,n){function r(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const T={jimuMapView:null,layerList:[],layerId:"",actionDataSets:[],status:"pending",error:null},U=i=>{const{id:o,useMapWidgetIds:r,config:c,enableDataAction:d}=i,{state:{jimuMapView:l,layerList:u,layerId:p,actionDataSets:g,status:m},onAction:f}=(t=>{const[s,i]=e.React.useState(Object.assign(Object.assign({},T),t)),o=e.hooks.useTranslation(_);return{state:s,onAction:e=>L(void 0,void 0,void 0,(function*(){var t,r,c,d;switch(e.type){case C.SET_JIMU_MAP_VIEW:{const{jimuMapView:s,config:{customizeLayersOptions:c}}=e.payload;i((e=>Object.assign(Object.assign({},e),{status:"pending",error:null})));try{const e=yield a(null==s?void 0:s.id,c),o=null!==(r=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.id)&&void 0!==r?r:"",d=e.find((({id:e})=>e===o)),l=yield n(d,s);i((t=>Object.assign(Object.assign({},t),{jimuMapView:s,layerList:e,layerId:o,actionDataSets:l,status:"resolved",error:null})))}catch(e){i((t=>Object.assign(Object.assign({},t),{status:"rejected",error:e instanceof Error?e.message:o("unableToGetLayers")})))}break}case C.SET_LAYER_LIST:{const{jimuMapView:t,config:{customizeLayersOptions:r}}=e.payload,{layerId:l,actionDataSets:h}=s;i((e=>Object.assign(Object.assign({},e),{status:"pending",error:null})));try{const e=yield a(null==t?void 0:t.id,r),s=null!==(d=null===(c=null==e?void 0:e[0])||void 0===c?void 0:c.id)&&void 0!==d?d:"",o=e.find((({id:e})=>e===s)),u=l===s?h:yield n(o,t);i((t=>Object.assign(Object.assign({},t),{layerList:e,layerId:s,actionDataSets:u,status:"resolved",error:null})))}catch(e){i((t=>Object.assign(Object.assign({},t),{status:"rejected",error:e instanceof Error?e.message:o("unableToGetLayers")})))}break}case C.SET_LAYER_ID:{const{layerId:t}=e.payload,{jimuMapView:o,layerList:r}=s,a=r.find((({id:e})=>e===t)),c=yield n(a,o);i((e=>Object.assign(Object.assign({},e),{layerId:t,actionDataSets:c})));break}}}))}})({}),v=h(null==l?void 0:l.id,c.customizeLayersOptions);e.React.useEffect((()=>{v&&f({type:C.SET_LAYER_LIST,payload:{jimuMapView:l,config:c}})}),[v]);const b=(null==r?void 0:r.length)>0,w="pending"!==m,E=(null==u?void 0:u.length)>0;return e.React.createElement("div",{id:o,className:"h-100 surface-1 border-0"},e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null==r?void 0:r[0],onActiveViewChange:e=>{e&&f({type:C.SET_JIMU_MAP_VIEW,payload:{jimuMapView:e,config:c}})}}),b?w?E?e.React.createElement("div",{className:"py-3 mx-2 d-flex flex-column h-100 p-relative"},e.React.createElement($,{widgetId:o,layerId:p,layerList:u,enableDataAction:d,actionDataSets:g,handleLayerChange:e=>{const t=e.target.value;f({type:C.SET_LAYER_ID,payload:{layerId:t}})}}),e.React.createElement(x,Object.assign({layerId:p,layerList:u},i))):e.React.createElement(A,{show:!0}):e.React.createElement(s.Loading,{type:s.LoadingType.Secondary}):e.React.createElement(y,{widgetId:o,show:!0}))};function j(e){P.p=e}})(),M})())}}}));