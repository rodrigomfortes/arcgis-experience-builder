/*! For license information please see arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-f60fb5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-f60fb5"],{192:(e,t,a)=>{a.d(t,{A:()=>r,I:()=>i,S:()=>n,a:()=>I,b:()=>y,c:()=>p,d:()=>f,e:()=>l,f:()=>b,g:()=>d,h:()=>u,i:()=>m,j:()=>h,k:()=>s,s:()=>c});var r=(e=>(e.VISIBLE="visible",e.DISPLAY_EXTENT="displayExtent",e.ALL="all",e))(r||{}),i=(e=>(e.ALL="all",e.SELECT="select",e))(i||{}),n=(e=>(e.ASC="asc",e.DESC="desc",e))(n||{}),s=(e=>(e.BRAND="brand",e.DANGER="danger",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e))(s||{});function l(e){return"object"==typeof e&&null!==e&&"name"in e&&"AbortError"===e.name}const o=new Set(["small-integer","big-integer","integer","single","double","oid"]),c=new Set([...o,"date","string"]);function m(e){return o.has(e)}function p(e){return!!e?.domain?.codedValues}function u(e){return p(e)&&"MosaicCatalogItemCategoryDomain"===e?.domain?.name}function d(e,t=!1){if(!e)return null;const a=new Date(e),r=t?a.getUTCFullYear():a.getFullYear(),i=t?a.getUTCMonth():a.getMonth(),n=t?a.getUTCDate():a.getDate(),s=t?a.getUTCHours():a.getHours(),l=t?a.getUTCMinutes():a.getMinutes(),o=t?a.getUTCSeconds():a.getSeconds();return`${r}-${g((i+1).toString(),2,"0")}-${g(n.toString(),2,"0")} ${g(s.toString(),2,"0")}:${g(l.toString(),2,"0")}:${g(o.toString(),2,"0")}`}function g(e,t,a){for(a=a||" ";e.length<t;)e=a+e;return e}function h(e,t,a){return e+t-1>a?a:e+t-1}function f(e,t,a="en"){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t,a):e<t?-1:e>t?1:0}function y(e,t){if(!e||!t)return;let a=t.assetsPath;a.endsWith("/")||(a+="/"),e?.firstElementChild?.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${a}esri/themes/light/main.css" />`)}function I(e,t){return`${e} IN (${t.map((e=>`${e}`)).join(",")})`}const b=(e,t="en")=>{const a=e.toString();if(a.includes("e")){const[e,t]=a.split("e"),r=b(Number.parseFloat(e)),i=Number.parseInt(t,10);return i<0?r-i:Math.max(0,r-i)}const r=a.indexOf(".");if(-1===r)return 0;const i=a.length-r-1;return new Intl.NumberFormat(t).formatToParts(1.1).find((e=>"decimal"===e.type))?i:0}},7989:(e,t,a)=>{a.r(t),a.d(t,{ArcgisImageryItemDetailsPopover:()=>m});var r=a(3174),i=a(7513),n=a(7274),s=a(5860),l=a(6011),o=a(192);a(8423),a(2373),a(1552);const c=l.AH`.image-item-preview-wrapper{width:100%;height:300px}.image-item-info-table-wrapper{display:block;overflow-x:auto}.image-item-details-title-wrapper{display:flex;overflow-wrap:break-word;font-weight:600;justify-content:center;padding:var(--calcite-spacing-sm)}.image-item-details-body-wrapper{flex:1 1 auto;overflow-y:auto}`;class m extends s.WF{constructor(){super(...arguments),this.arcgisImageItemInspectPopoverClose=(0,s.lh)(),this.arcgisImageItemToInspectChange=(0,s.lh)()}static{this.properties={layer:0,view:0,messages:0,referenceElement:0,open:5,imageItemInfo:0,imageItemFeatureGraphic:0}}static{this.styles=c}getFormattedPixelType(e){const{messages:t}=this;switch(e){case"s8":return t.s8;case"s16":return t.s16;case"s32":return t.s32;case"u1":return t.u1;case"u2":return t.u2;case"u4":return t.u4;case"u8":return t.u8;case"u16":return t.u16;case"u32":return t.u32;case"f32":return t.f32;case"f64":return t.f64;case"c64":return t.c64;case"c128":return t.c128;default:return t.unknown}}render(){const{messages:e,open:t,imageItemInfo:a,referenceElement:r}=this,{height:l}=this.referenceElement?.getBoundingClientRect(),o="rtl"===(0,n.O)(this.el);return i.qy`<calcite-popover .label=${e.imageDetails} .heading=${e.imageDetails} .referenceElement=${r} placement=leading-start overlay-positioning=fixed pointer-disabled trigger-disabled offset-distance=10 .open=${t} closable @calcitePopoverClose=${()=>{this.arcgisImageItemInspectPopoverClose.emit()}}><calcite-panel style=${(0,s.zl)({height:l-48+"px",width:"320px"})}>${this.renderImageItemDisplayTitle()}<div class="image-item-details-body-wrapper">${this.renderImageItemPreviewView()}${a&&this.renderImageItemInfoTables()||""}</div><calcite-button style=${(0,s.zl)({paddingInlineEnd:"5px"})} width=half slot=footer appearance=outline kind=neutral .iconStart=${o?"chevron-right":"chevron-left"} @click=${()=>this.arcgisImageItemToInspectChange.emit("previous")}>${e.previous}</calcite-button><calcite-button style=${(0,s.zl)({paddingInlineStart:"5px"})} width=half slot=footer appearance=outline kind=neutral .iconEnd=${o?"chevron-left":"chevron-right"} @click=${()=>this.arcgisImageItemToInspectChange.emit("next")}>${e.next}</calcite-button></calcite-panel></calcite-popover>`}renderImageItemPreviewView(){const{messages:e,layer:t,imageItemFeatureGraphic:a}=this;return i.qy`<calcite-block collapsible expanded .heading=${e.preview}><div class="image-item-preview-wrapper"><arcgis-imagery-item-preview .previewLayerUrl=${t.url} .previewImageItemGraphic=${a}></arcgis-imagery-item-preview></div></calcite-block>`}renderImageItemInfoTables(){const{imageItemInfo:e}=this,{extent:t,statistics:a}=e??{};return i.qy`<div>${e?this.renderImageItemRasterInformationTable():null}${e?this.renderImageItemRasterMetadataTable():null}${t?this.renderImageItemExtentInfoTable():null}${e?this.renderImageItemSpatialReferenceTable():null}${a?this.renderImageItemStatisticsInfoTable():null}</div>`}renderImageItemRasterInformationTable(){const{messages:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{bandCount:r,height:n,width:s,pixelType:l,pixelSize:c,colormap:m,dataType:p,keyProperties:u}=t,d=Number.isFinite(c?.x)?(0,o.f)(c.x)>2?c.x.toFixed(2):c.x:null,g=Number.isFinite(c?.y)?(0,o.f)(c.y)>2?c.y.toFixed(2):c.y:null,h=[{property:e.columns,value:s},{property:e.rows,value:n},{property:e.bandNumber,value:r},{property:e.cellSizeX,value:d},{property:e.cellSizeY,value:g},{property:e.sourceType,value:u?.DataType??p},{property:e.pixelType,value:this.getFormattedPixelType(l)},{property:e.colormap,value:m}].filter((e=>!!e.value||Number.isFinite(e.value)));return h.length>0&&i.qy`<calcite-block collapsible expanded .heading=${e.rasterInformation}><div class="image-item-info-table-wrapper"><arcgis-imagery-item-info-table .columns=${a} .data=${h}></arcgis-imagery-item-info-table></div></calcite-block>`||""}renderImageItemRasterMetadataTable(){const{messages:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{SensorName:r,ProductName:n,CloudCover:s,AcquisitionDate:l,SunAzimuth:o,SunElevation:c,ELLIPSOID:m}=t.keyProperties||{},p=l?`${new Date(l).toLocaleDateString()} ${new Date(l).toLocaleTimeString()}`:null,u=[{property:e.sensorName,value:r},{property:e.productName,value:n},{property:e.acquisitionDate,value:p},{property:e.cloudCover,value:s},{property:e.sunAzimuth,value:o},{property:e.sunElevation,value:c},{property:e.spheroid,value:m}].filter((e=>!!e.value||Number.isFinite(e.value)));return u.length>0&&i.qy`<calcite-block collapsible expanded .heading=${e.rasterMetadata}><div class="image-item-info-table-wrapper"><arcgis-imagery-item-info-table .columns=${a} .data=${u}></arcgis-imagery-item-info-table></div></calcite-block>`||""}renderImageItemExtentInfoTable(){const{messages:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{extent:r}=t,{xmin:n,xmax:s,ymin:l,ymax:o}=r,c=[{property:e.top,value:o},{property:e.bottom,value:l},{property:e.left,value:n},{property:e.right,value:s}].filter((e=>Number.isFinite(Number(e.value))));return c.length>0&&i.qy`<calcite-block collapsible expanded .heading=${e.extent}><arcgis-imagery-item-info-table .columns=${a} .data=${c}></arcgis-imagery-item-info-table></calcite-block>`||""}renderImageItemStatisticsInfoTable(){const{messages:e,imageItemInfo:t}=this,a=[{accessor:"bandName",header:e.bandName},{accessor:"min",header:e.min},{accessor:"max",header:e.max},{accessor:"avg",header:e.mean},{accessor:"stddev",header:e.std}],{bandInfos:r,statistics:n}=t,s=r.map(((e,t)=>{const a=n[t],r=Object.entries(a).reduce(((e,[t,a])=>(e[t]=(0,o.f)(a)>2?a.toFixed(2):a,e)),{});return{bandName:e.name,...r}}));return s.length>0&&i.qy`<calcite-block collapsible expanded .heading=${e.statistics}><div class="image-item-info-table-wrapper"><arcgis-imagery-item-info-table .columns=${a} .data=${s}></arcgis-imagery-item-info-table></div></calcite-block>`||""}renderImageItemSpatialReferenceTable(){const{messages:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{keyProperties:r,spatialReference:n}=t,s=[{property:e.projectedCoordinateSystem,value:""},{property:e.projection,value:""},{property:e.wkid,value:n?.wkid??e.unknown},{property:e.datum,value:r?.DATUM},{property:e.spheroid,value:r?.ELLIPSOID}].filter((e=>!!e.value||Number.isFinite(e.value)));return s.length>0&&i.qy`<calcite-block collapsible expanded .heading=${e.spatialReference}><div class="image-item-info-table-wrapper"><arcgis-imagery-item-info-table .columns=${a} .data=${s}></arcgis-imagery-item-info-table></div></calcite-block>`||""}renderImageItemDisplayTitle(){const{imageItemFeatureGraphic:e,layer:t}=this,{attributes:a}=e??{},r=a?.Name||a?.name,n=a?.[t.objectIdField];return i.qy`<div class="image-item-details-title-wrapper">${`${n}: ${r}`}</div>`}}(0,r.c)("arcgis-imagery-item-details-popover",m)}}]);