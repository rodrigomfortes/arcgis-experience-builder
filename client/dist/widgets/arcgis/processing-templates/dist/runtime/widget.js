/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-arcgis","jimu-ui","calcite-components","esri/applications/Components/reactiveUtils.js","esri/layers/support/DimensionalDefinition.js","esri/smartMapping/raster/renderers/classBreaks.js","esri/intl.js","esri/widgets/ValuePicker.js","esri/widgets/ValuePicker/ValuePickerSlider.js","esri/config.js","esri/Map.js","esri/layers/ImageryLayer.js","esri/layers/support/MosaicRule.js","esri/views/MapView.js","esri/geometry/Point.js","esri/rest/support/ImageIdentifyParameters.js","esri/core/reactiveUtils.js","esri/identity/IdentityManager.js","esri/portal/PortalItem.js","esri/layers/support/RasterFunction.js","esri/rest/geoprocessor.js","esri/request.js","esri/geometry/Extent.js","esri/geometry/operators/unionOperator.js","esri/geometry/operators/projectOperator.js","esri/Graphic.js","esri/layers/support/CodedValueDomain.js","esri/layers/support/Field.js","esri/layers/support/MultidimensionalSubset.js"],(function(e,t){var s={},i={},o={},n={},r={},a={},c={},l={},d={},h={},p={},u={},g={},m={},_={},f={},y={},v={},b={},w={},A={},$={},E={},S={},x={},L={},C={},T={},U={},O={};return Object.defineProperty(l,"__esModule",{value:!0}),{setters:[function(e){s.React=e.React,s.SupportedJSAPILayerTypes=e.SupportedJSAPILayerTypes,s.classNames=e.classNames,s.hooks=e.hooks,s.urlUtils=e.urlUtils},function(e){i.JimuMapViewComponent=e.JimuMapViewComponent,i.MapViewManager=e.MapViewManager,i.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){o.DataActionList=e.DataActionList,o.DataActionListStyle=e.DataActionListStyle,o.Loading=e.Loading,o.LoadingType=e.LoadingType,o.Option=e.Option,o.Select=e.Select,o.WidgetPlaceholder=e.WidgetPlaceholder},function(){},function(e){r.createObservable=e.createObservable,r.createTrackingTarget=e.createTrackingTarget,r.runTracked=e.runTracked,r.trackAccess=e.trackAccess},function(e){a.default=e.default},function(e){c.createRenderer=e.createRenderer},function(e){Object.keys(e).forEach((function(t){l[t]=e[t]}))},function(e){d.default=e.default},function(e){h.default=e.default},function(e){p.default=e.default},function(e){u.default=e.default},function(e){g.default=e.default},function(e){m.default=e.default},function(e){_.default=e.default},function(e){f.default=e.default},function(e){y.default=e.default},function(e){v.watch=e.watch},function(e){b.default=e.default},function(e){w.default=e.default},function(e){A.default=e.default},function(e){$.submitJob=e.submitJob},function(e){E.default=e.default},function(e){S.default=e.default},function(e){x.executeMany=e.executeMany},function(e){L.execute=e.execute,L.isLoaded=e.isLoaded,L.load=e.load},function(e){C.default=e.default},function(e){T.default=e.default},function(e){U.default=e.default},function(e){O.default=e.default}],execute:function(){e((()=>{var e,t,j={157:(e,t,s)=>{"use strict";s.d(t,{Dx:()=>a,KO:()=>p,Rt:()=>n,cN:()=>h,lx:()=>c,mY:()=>d});var i=s(2939);const{I:o}=i.ge,n=e=>void 0===e.strings,r=()=>document.createComment(""),a=(e,t,s)=>{const i=e._$AA.parentNode,n=void 0===t?e._$AB:t._$AA;if(void 0===s){const t=i.insertBefore(r(),n),a=i.insertBefore(r(),n);s=new o(t,a,e,e.options)}else{const t=s._$AB.nextSibling,o=s._$AM,r=o!==e;if(r){let t;s._$AQ?.(e),s._$AM=e,void 0!==s._$AP&&(t=e._$AU)!==o._$AU&&s._$AP(t)}if(t!==n||r){let e=s._$AA;for(;e!==t;){const t=e.nextSibling;i.insertBefore(e,n),e=t}}}return s},c=(e,t,s=e)=>(e._$AI(t,s),e),l={},d=(e,t=l)=>e._$AH=t,h=e=>e._$AH,p=e=>{e._$AP?.(!1,!0);let t=e._$AA;const s=e._$AB.nextSibling;for(;t!==s;){const e=t.nextSibling;t.remove(),t=e}}},588:e=>{"use strict";e.exports=b},881:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><g clip-path="url(#a)"><path fill="#000" fill-rule="evenodd" d="M4 16H0v-4h4zm-1-3H1v2h2zM5 2h10V1H5zm0 6h10V7H5zM4 4H0V0h4zM3 1H1v2h2zm1 9H0V6h4zM3 7H1v2h2zm4.086 5.5H5v1h1.933zm3.747 1.071.23-1.488c.18-1.179.343-2.036 1.558-2.036.262.003.521.052.765.146l.314-1.018a2 2 0 0 0-.87-.174c-1.886 0-2.651 1.177-2.889 2.834l-.278 1.736H8.135L8 14.43h1.527L8.787 20h1.17l.74-5.57h1.707l.136-.859zm9.167 0h-1.437l-1.735 2.026-1.25-2.026h-1.545l1.812 2.73L12.41 20h1.467l2.632-2.965L18.327 20h1.558l-2.391-3.698z" clip-rule="evenodd"></path></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h20v20H0z"></path></clipPath></defs></svg>'},1072:e=>{"use strict";e.exports=L},1508:e=>{"use strict";e.exports=_},1552:e=>{"use strict";e.exports=y},1597:(e,t,s)=>{"use strict";s.d(t,{Ec:()=>_,W3:()=>m,mN:()=>y});var i=s(6233);const{is:o,defineProperty:n,getOwnPropertyDescriptor:r,getOwnPropertyNames:a,getOwnPropertySymbols:c,getPrototypeOf:l}=Object,d=globalThis,h=d.trustedTypes,p=h?h.emptyScript:"",u=d.reactiveElementPolyfillSupport,g=(e,t)=>e,m={toAttribute(e,t){switch(t){case Boolean:e=e?p:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let s=e;switch(t){case Boolean:s=null!==e;break;case Number:s=null===e?null:Number(e);break;case Object:case Array:try{s=JSON.parse(e)}catch(e){s=null}}return s}},_=(e,t)=>!o(e,t),f={attribute:!0,type:String,converter:m,reflect:!1,useDefault:!1,hasChanged:_};Symbol.metadata??=Symbol("metadata"),d.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=f){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(e,s,t);void 0!==i&&n(this.prototype,e,i)}}static getPropertyDescriptor(e,t,s){const{get:i,set:o}=r(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:i,set(t){const n=i?.call(this);o?.call(this,t),this.requestUpdate(e,n,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??f}static _$Ei(){if(this.hasOwnProperty(g("elementProperties")))return;const e=l(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g("properties"))){const e=this.properties,t=[...a(e),...c(e)];for(const s of t)this.createProperty(s,e[s])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,s]of t)this.elementProperties.set(e,s)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const s=this._$Eu(e,t);void 0!==s&&this._$Eh.set(s,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const e of s)t.unshift((0,i.sk)(e))}else void 0!==e&&t.push((0,i.sk)(e));return t}static _$Eu(e,t){const s=t.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const s of t.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,i.Rf)(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,s){this._$AK(e,s)}_$ET(e,t){const s=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,s);if(void 0!==i&&!0===s.reflect){const o=(void 0!==s.converter?.toAttribute?s.converter:m).toAttribute(t,s.type);this._$Em=e,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,t){const s=this.constructor,i=s._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=s.getPropertyOptions(i),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:m;this._$Em=i,this[i]=o.fromAttribute(t,e.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,t,s){if(void 0!==e){const i=this.constructor,o=this[e];if(s??=i.getPropertyOptions(e),!((s.hasChanged??_)(o,t)||s.useDefault&&s.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,s))))return;this.C(e,t,s)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:s,reflect:i,wrapped:o},n){s&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,n??t??this[e]),!0!==o||void 0!==n)||(this._$AL.has(e)||(this.hasUpdated||s||(t=void 0),this._$AL.set(e,t)),!0===i&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,s]of e){const{wrapped:e}=s,i=this[t];!0!==e||this._$AL.has(t)||void 0===i||this.C(t,void 0,s,i)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}}y.elementStyles=[],y.shadowRootOptions={mode:"open"},y[g("elementProperties")]=new Map,y[g("finalized")]=new Map,u?.({ReactiveElement:y}),(d.reactiveElementVersions??=[]).push("2.1.0")},1802:e=>{"use strict";e.exports=$},1840:e=>{"use strict";e.exports=g},2e3:(e,t,s)=>{"use strict";s.d(t,{O:()=>c,UF:()=>d,ao:()=>h,cY:()=>i,hd:()=>b,j1:()=>A,kn:()=>y,oK:()=>E,sg:()=>C});class i{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const o=(e,t,s)=>(0,r(t).subscribe)((t=>{const i=t.some((t=>((e,t)=>{let s=e;for(;s;){if(s===t)return!0;if(!s.parentNode)return!1;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e,t.target)));i&&s()})),n={},r=e=>{const t=e.join(","),s=n[t];if(void 0!==s)return s;const i=new Set,o=new MutationObserver((e=>i.forEach((t=>t(e)))));globalThis.document&&o.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const r={subscribe:e=>(i.add(e),()=>{i.delete(e),0===i.size&&(o.disconnect(),n[t]=void 0)})};return n[t]=r,r},a=(e,t)=>{let s=e;for(;s;){const e=s.closest?.(t);if(e)return e;const i=s.getRootNode?.();if(i===globalThis.document)return null;s=i.host}return null},c=e=>l(e,"dir","ltr"),l=(e,t,s)=>{const i=a(e,`[${t}]`);return i?.getAttribute(t)??s},d=(e,t,...s)=>{try{return e?.call(t,...s)}catch(t){console.error(t,e)}},h=async(e,t,...s)=>{try{const i=e?.call(t,...s);return await i}catch(t){console.error(t,e)}},p="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),u=new Set(p),g="en",m={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},_={},f=async(e,t)=>{const s=`${t}${e}.json`;try{const e=await fetch(s);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===g?{}:await f(g,t)},y=e=>{const t=l(e,"lang",globalThis.navigator?.language||g);return{lang:t,t9nLocale:v(t)}},v=e=>{const[t,s]=e.split("-"),i=t.toLowerCase();let o=i;return s&&(o=`${i}-${s.toUpperCase()}`),o=m[o]??o,u.has(o)?o:s?v(i):g},b=(e,t,s,i)=>{let n;const r=()=>w(e,t(),i).then((e=>{n?.lang===e.lang&&n.t9nLocale===e.t9nLocale&&n.t9nStrings===e.t9nStrings||s(e),n=e})).catch(console.error);return queueMicrotask(r),o(e,["lang"],r)},w=async(e,t,s=e.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:o}=y(e),n=`${t}/${s}/t9n`,r=null===s?{}:await(async(e,t,s="")=>{const i=`${t}/${s}`,o=`${i}${e}.json`;return _[o]??(_[o]=f(e,i)),await _[o]})(o,n,"messages.");return{lang:i,t9nLocale:o,t9nStrings:r}},A=e=>e.replace($,((e,t)=>`${0===t?"":"-"}${e.toLowerCase()}`)),$=/[A-Z]+(?![a-z])|[A-Z]/gu,E=(e,t)=>{const s=t>S?x:t/L;let i=0;const o=setInterval((()=>{i+=s,i>=t&&(clearInterval(o),e())}),s);return o},S=4e3,x=2e3,L=4,C=(e,t=100)=>{let s;return(...i)=>{clearTimeout(s),s=setTimeout((()=>{clearTimeout(s),e(...i)}),t)}}},2373:e=>{"use strict";e.exports=m},2686:e=>{"use strict";e.exports=i},2762:e=>{"use strict";e.exports=p},2797:e=>{"use strict";e.exports=l},2939:(e,t,s)=>{"use strict";s.d(t,{XX:()=>B,c0:()=>S,ge:()=>H,qy:()=>E,s6:()=>x});const i=globalThis,o=i.trustedTypes,n=o?o.createPolicy("lit-html",{createHTML:e=>e}):void 0,r="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,c="?"+a,l=`<${c}>`,d=document,h=()=>d.createComment(""),p=e=>null===e||"object"!=typeof e&&"function"!=typeof e,u=Array.isArray,g=e=>u(e)||"function"==typeof e?.[Symbol.iterator],m="[ \t\n\f\r]",_=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,f=/-->/g,y=/>/g,v=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),b=/'/g,w=/"/g,A=/^(?:script|style|textarea|title)$/i,$=e=>(t,...s)=>({_$litType$:e,strings:t,values:s}),E=$(1),S=($(2),$(3),Symbol.for("lit-noChange")),x=Symbol.for("lit-nothing"),L=new WeakMap,C=d.createTreeWalker(d,129);function T(e,t){if(!u(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==n?n.createHTML(t):t}const U=(e,t)=>{const s=e.length-1,i=[];let o,n=2===t?"<svg>":3===t?"<math>":"",c=_;for(let t=0;t<s;t++){const s=e[t];let d,h,p=-1,u=0;for(;u<s.length&&(c.lastIndex=u,h=c.exec(s),null!==h);)u=c.lastIndex,c===_?"!--"===h[1]?c=f:void 0!==h[1]?c=y:void 0!==h[2]?(A.test(h[2])&&(o=RegExp("</"+h[2],"g")),c=v):void 0!==h[3]&&(c=v):c===v?">"===h[0]?(c=o??_,p=-1):void 0===h[1]?p=-2:(p=c.lastIndex-h[2].length,d=h[1],c=void 0===h[3]?v:'"'===h[3]?w:b):c===w||c===b?c=v:c===f||c===y?c=_:(c=v,o=void 0);const g=c===v&&e[t+1].startsWith("/>")?" ":"";n+=c===_?s+l:p>=0?(i.push(d),s.slice(0,p)+r+s.slice(p)+a+g):s+a+(-2===p?t:g)}return[T(e,n+(e[s]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),i]};class O{constructor({strings:e,_$litType$:t},s){let i;this.parts=[];let n=0,l=0;const d=e.length-1,p=this.parts,[u,g]=U(e,t);if(this.el=O.createElement(u,s),C.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(i=C.nextNode())&&p.length<d;){if(1===i.nodeType){if(i.hasAttributes())for(const e of i.getAttributeNames())if(e.endsWith(r)){const t=g[l++],s=i.getAttribute(e).split(a),o=/([.?@])?(.*)/.exec(t);p.push({type:1,index:n,name:o[2],strings:s,ctor:"."===o[1]?M:"?"===o[1]?I:"@"===o[1]?D:R}),i.removeAttribute(e)}else e.startsWith(a)&&(p.push({type:6,index:n}),i.removeAttribute(e));if(A.test(i.tagName)){const e=i.textContent.split(a),t=e.length-1;if(t>0){i.textContent=o?o.emptyScript:"";for(let s=0;s<t;s++)i.append(e[s],h()),C.nextNode(),p.push({type:2,index:++n});i.append(e[t],h())}}}else if(8===i.nodeType)if(i.data===c)p.push({type:2,index:n});else{let e=-1;for(;-1!==(e=i.data.indexOf(a,e+1));)p.push({type:7,index:n}),e+=a.length-1}n++}}static createElement(e,t){const s=d.createElement("template");return s.innerHTML=e,s}}function j(e,t,s=e,i){if(t===S)return t;let o=void 0!==i?s._$Co?.[i]:s._$Cl;const n=p(t)?void 0:t._$litDirective$;return o?.constructor!==n&&(o?._$AO?.(!1),void 0===n?o=void 0:(o=new n(e),o._$AT(e,s,i)),void 0!==i?(s._$Co??=[])[i]=o:s._$Cl=o),void 0!==o&&(t=j(e,o._$AS(e,t.values),o,i)),t}class P{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:s}=this._$AD,i=(e?.creationScope??d).importNode(t,!0);C.currentNode=i;let o=C.nextNode(),n=0,r=0,a=s[0];for(;void 0!==a;){if(n===a.index){let t;2===a.type?t=new k(o,o.nextSibling,this,e):1===a.type?t=new a.ctor(o,a.name,a.strings,this,e):6===a.type&&(t=new N(o,this,e)),this._$AV.push(t),a=s[++r]}n!==a?.index&&(o=C.nextNode(),n++)}return C.currentNode=d,i}p(e){let t=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(e,s,t),t+=s.strings.length-2):s._$AI(e[t])),t++}}class k{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,s,i){this.type=2,this._$AH=x,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=j(this,e,t),p(e)?e===x||null==e||""===e?(this._$AH!==x&&this._$AR(),this._$AH=x):e!==this._$AH&&e!==S&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):g(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==x&&p(this._$AH)?this._$AA.nextSibling.data=e:this.T(d.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:s}=e,i="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=O.createElement(T(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(t);else{const e=new P(i,this),s=e.u(this.options);e.p(t),this.T(s),this._$AH=e}}_$AC(e){let t=L.get(e.strings);return void 0===t&&L.set(e.strings,t=new O(e)),t}k(e){u(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let s,i=0;for(const o of e)i===t.length?t.push(s=new k(this.O(h()),this.O(h()),this,this.options)):s=t[i],s._$AI(o),i++;i<t.length&&(this._$AR(s&&s._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,s,i,o){this.type=1,this._$AH=x,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=x}_$AI(e,t=this,s,i){const o=this.strings;let n=!1;if(void 0===o)e=j(this,e,t,0),n=!p(e)||e!==this._$AH&&e!==S,n&&(this._$AH=e);else{const i=e;let r,a;for(e=o[0],r=0;r<o.length-1;r++)a=j(this,i[s+r],t,r),a===S&&(a=this._$AH[r]),n||=!p(a)||a!==this._$AH[r],a===x?e=x:e!==x&&(e+=(a??"")+o[r+1]),this._$AH[r]=a}n&&!i&&this.j(e)}j(e){e===x?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class M extends R{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===x?void 0:e}}class I extends R{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==x)}}class D extends R{constructor(e,t,s,i,o){super(e,t,s,i,o),this.type=5}_$AI(e,t=this){if((e=j(this,e,t,0)??x)===S)return;const s=this._$AH,i=e===x&&s!==x||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==x&&(s===x||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class N{constructor(e,t,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){j(this,e)}}const H={M:r,P:a,A:c,C:1,L:U,R:P,D:g,V:j,I:k,H:R,N:I,U:D,B:M,F:N},z=i.litHtmlPolyfillSupport;z?.(O,k),(i.litHtmlVersions??=[]).push("3.3.0");const B=(e,t,s)=>{const i=s?.renderBefore??t;let o=i._$litPart$;if(void 0===o){const e=s?.renderBefore??null;i._$litPart$=o=new k(t.insertBefore(h(),e),e,void 0,s??{})}return o._$AI(e),o}},3306:(e,t,s)=>{"use strict";s.d(t,{WF:()=>L,lh:()=>i.b,G$:()=>l,le:()=>C,Iq:()=>a,s6:()=>O,CP:()=>T,zl:()=>U});Event;Event;var i=s(6992),o=s(1597);o.W3,o.Ec;var n=s(2e3);const r=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const s=t;return s.manager?.loadedCalled||(s.J??s._offspring).push(e),(s.I??s._postLoad).promise}return!1};const a={};function c(){}const l=(e,t)=>function(s,i){if(!globalThis.customElements)return;const o=(i??s??{}).resourcesUrl;o&&e.setAssetPath(o);for(const[s,[i,o=""]]of Object.entries(t)){if(customElements.get(s))continue;const[t,n,r]=o.split(";"),a=t?t?.split(",").map(h):void 0,c=a?.map((([e])=>e)),l=class extends u{static{this.observedAttributes=a?.map((([,e])=>e)).filter((e=>""!==e))}static{this.C=c}static{this.E=n?n?.split(","):void 0}static{this.D=r?.split(",")}static{this.L=s}static{this.K=e}constructor(){!l.B&&(l.B=i(),l.F()),super()}};customElements.define(s,l)}},d=Object.defineProperty,h=e=>{const t=e.split(":");return 1===t.length?[t[0],(0,n.j1)(t[0])]:t},p=globalThis.HTMLElement??c;class u extends p{constructor(){super(),this.#e={},this.#t=[],this.I=new n.cY,this.H=new n.cY,this.J=[];const e=this,t=e.constructor;e._offspring=e.J,e._postLoad=e.I,t.C?.forEach((t=>{Object.hasOwn(e,t)&&(e.#e[t]=e[t],delete e[t])})),t.A?e.#s({a:t.A}):t.B.then((async s=>{await t.K.p,e.#s(await(s.default?.then((e=>"function"==typeof e?{a:e}:e))??s))})).catch((t=>{e.H.reject(t),setTimeout((()=>{throw t}))}))}static{this.lumina=!0}static F(){for(const e of this.C??[])d(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#e[e]},set(t){this.#e[e]=t}});for(const e of this.E??[])d(this.prototype,e,{async value(...t){this.#i||await this.H.promise;const s=this.#i;return await s[e](...t)},configurable:!0});for(const e of this.D??[])d(this.prototype,e,{value(...t){return this.#i[e](...t)},configurable:!0})}#i;#e;#t;get manager(){return this.#i?.manager}attributeChangedCallback(e,t,s){this.#i?.attributeChangedCallback(e,t,s),this.#i||this.#t.push(e)}connectedCallback(){this.#i?this.#i.connectedCallback?.():queueMicrotask((()=>this.G=r(this)))}disconnectedCallback(){this.#i?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#s(e){const t=this.constructor,s=t.L,i=this.#e,o=Object.values(e).find((e=>e.L===s));const n=`${s}--lazy`;let r=o;for(;r&&!Object.hasOwn(r,"lumina");)r=Object.getPrototypeOf(r);m(r);!t.A&&(t.A=o,customElements.define(n,o)),o.N=this;const a=document.createElement(n);o.N=void 0,this.#i=a,this.#e=a,this.#t.forEach((e=>a.attributeChangedCallback(e,null,this.getAttribute(e)))),Object.entries(i).forEach(g,a);const c=this.isConnected;(c||this.G)&&(a.connectedCallback?.(),c||a.disconnectedCallback())}addController(){}requestUpdate(){this.#i?.requestUpdate()}}function g([e,t]){this[e]=t}const m=e=>{const t=e.prototype,s=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(e,t){s.setAttribute.call(this.el,e,t)},t.removeAttribute=function(e){s.removeAttribute.call(this.el,e)},d(t,"isConnected",{get(){return Reflect.get(s,"isConnected",this.el)}}))};var _=s(7516),f=s(2939),y=s(9901);const v=(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.ATTRIBUTE||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const s=e.element.classList;for(const e of this.st)e in t||(s.remove(e),this.st.delete(e));for(const e in t){const i=!!t[e];i===this.st.has(e)||this.nt?.has(e)||(i?(s.add(e),this.st.add(e)):(s.remove(e),this.st.delete(e)))}return f.c0}}),b="important",w=" !"+b,A=(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.ATTRIBUTE||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,s)=>{const i=e[s];return null==i?t:t+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(e,[t]){const{style:s}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const e of this.ft)null==t[e]&&(this.ft.delete(e),e.includes("-")?s.removeProperty(e):s[e]=null);for(const e in t){const i=t[e];if(null!=i){this.ft.add(e);const t="string"==typeof i&&i.endsWith(w);e.includes("-")||t?s.setProperty(e,t?i.slice(0,-11):i,t?b:""):s[e]=i}}return f.c0}});var $=s(157);(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.PROPERTY&&e.type!==y.OA.ATTRIBUTE&&e.type!==y.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,$.Rt)(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===f.c0||t===f.s6)return t;const s=e.element,i=e.name;if(e.type===y.OA.PROPERTY){if(t===s[i])return f.c0}else if(e.type===y.OA.BOOLEAN_ATTRIBUTE){if(!!t===s.hasAttribute(i))return f.c0}else if(e.type===y.OA.ATTRIBUTE&&s.getAttribute(i)===t+"")return f.c0;return(0,$.mY)(e),t}});class E extends i.G{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=_.s6,this.T=[],this.#o=new WeakMap,this.#n=e,this.exports=void 0,this.hasDestroy=x in e&&"function"==typeof e.destroy,_.WF.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const t=e.el.localName;throw e.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${x} prop.`)}void 0!==this.#r&&clearTimeout(this.#r),(0,i.k)();for(const t of e.M)"triggerConnected"in t?t.triggerConnected():(0,n.UF)(t.hostConnected,t)},hostDisconnected:()=>{for(const t of e.M)"triggerDisconnected"in t?t.triggerDisconnected():(0,n.UF)(t.hostDisconnected,t);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const t of e.M)"triggerUpdate"in t?t.triggerUpdate(this.Q):(0,n.UF)(t.hostUpdate,t,this.Q)},hostUpdated:()=>{for(const t of e.M)"triggerUpdated"in t?t.triggerUpdated(this.Q):(0,n.UF)(t.hostUpdated,t,this.Q);this.Q=void 0}}),queueMicrotask((()=>this.R=!0)),(0,i.s)(e)}#r;#n;async destroy(){if(!this.destroyed){this.#n.el.isConnected&&(this.hasDestroy=!1,this.#n.el.remove()),this.#r=void 0,this.destroyed=!0;for(const e of this.#n.M)"triggerDestroy"in e?e.triggerDestroy():(0,n.UF)(e.hostDestroy,e);this.#n.M.splice(0)}}U(){if(void 0!==this.#r&&clearTimeout(this.#r),!this.#n.el.isConnected&&!this.#n.autoDestroyDisabled){const e=()=>{this.#n.destroy()};this.#r=(0,n.oK)(e,S)}}S(e,t){const s=this.T;this.V=_.s6,this.T=[],s.forEach((s=>s(e,t)))}#o;W(e,t){("object"==typeof t&&null!==t||"function"==typeof t)&&this.#o.set(t,e)}X(e){return"object"==typeof e&&null!==e||"function"==typeof e?this.#o.get(e):void 0}}let S=1e3;const x="autoDestroyDisabled";class L extends _.WF{constructor(){super(),this.M=[],this.manager=new E(this);const e=this,t=e.constructor,s=t.N,i=t.K.o,o=L.prototype.shouldUpdate;e.#a=s?.H??new n.cY,e.I=s?.I??new n.cY,e.J=s?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=s??e,e.#c=e.enableUpdating,e.enableUpdating=c,e.shouldUpdate!==o&&(e.#l=e.shouldUpdate,e.shouldUpdate=o),i&&(e.#d=new Map,t.elementProperties.forEach(((t,s)=>e.#d.set(s,i())))),_.S$&&e.el.setAttribute(t.K.hydratedAttribute,"")}static finalizeStyles(e){const t=super.finalizeStyles(e),s=this.shadowRootOptions===a;return void 0===this.K?.commonStyles||s?t:[this.K.commonStyles,...t]}static createProperty(e,t){const s="number"==typeof t?t:Array.isArray(t)?t[0]:0,i=Array.isArray(t)?t[1]:void 0,o=i?.hasChanged??_.Ec,r={attribute:!!(1&s&&"string"==typeof e)&&(0,n.j1)(e),reflect:!!(2&s),type:4&s?Boolean:8&s?Number:void 0,state:!!(16&s),readOnly:!!(32&s),noAccessor:!!(64&s),c:!1,...i,hasChanged(e,t){const s=o(e,t);return r.c=s,s}};super.createProperty(e,r)}static getPropertyDescriptor(e,t,s){const o=this.K,n=super.getPropertyDescriptor(e,t,s);return s.d=n,{...n,get(){return o.t?.(this.#d.get(e)),n.get?.call(this)},set(t){const o=this.manager;if(s.readOnly&&!i.a&&(o.R||o.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${t}"`);n.set.call(this,t??void 0),s.c&&this.#d?.get(e)?.notify(),o.T.length>0&&o?.S(e,t)}}}static{this.lumina=!0}#d;#l;#c;#a;#h;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.((()=>this.requestUpdate()));this.#h=e;const t=!this.manager.connectedCalled;super.connectedCallback(),t?queueMicrotask((()=>this.#p().catch((e=>{this.#a.reject(e),setTimeout((()=>{throw e}))})))):e&&this.requestUpdate()}#u(e){try{this.#h.clear(),this.constructor.K.r(this.#h,(()=>super.update(e)))}catch(e){throw this.#h.clear(),e}}disconnectedCallback(){super.disconnectedCallback(),this.#h?.destroy(),this.#h=void 0}createRenderRoot(){const e=this.el.shadowRoot,t=this.constructor,s=t.shadowRootOptions,i=e??(s===a?this.el:this.el.attachShadow(s));if(e)return _.WF.prototype.createRenderRoot.call(this),e;if(this.isConnected){const e=i.getRootNode();0,e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t.elementStyles.map((e=>"styleSheet"in e?e.styleSheet:e))]}return i}async#p(){const e=this.el.G??r(this.el);e&&await e;const t=[];for(const e of this.M)"triggerLoad"in e?t.push(e.triggerLoad()):t.push((0,n.ao)(e.hostLoad,e));await Promise.all(t),await(this.load?.()),this.manager.hasDestroy&&this.manager.onUpdate((e=>e.has(x)&&this.manager.U())),this.#c(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const s=this.J.filter((e=>!e.manager?.loadedCalled));s.length&&await Promise.allSettled(s.map((async e=>await e.componentOnReady()))),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const e of this.M)"triggerLoaded"in e?e.triggerLoaded():(0,n.UF)(e.hostLoaded,e);this.loaded?.(),this.#a.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#l?.(e)??!0}update(e){this.#h?this.#u(e):super.update(e)}listen(e,t,s){const i=t?.bind(this)??t;this.manager.onLifecycle((()=>(this.el.addEventListener(e,i,s),()=>this.el.removeEventListener(e,i,s))))}listenOn(e,t,s,i){const o=s?.bind(this)??s;this.manager.onLifecycle((()=>(e.addEventListener(t,o,i),()=>e.removeEventListener(t,o,i))))}async componentOnReady(){return await this.#a.promise,this}addController(e){this.M.push(e),!(i.c in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const C=e=>{let t;const s=e=>{t=new URL(e,globalThis.location?.href||void 0).href},i={...e,getAssetPath(e){const s=new URL(e,t);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:s,customElement(e,t){t.K=i,t.L=e,customElements.get(e)||customElements.define(e,t)}};return s(e.defaultAssetPath),i},T=e=>"object"==typeof e&&null!=e?v(e):e,U=e=>"object"==typeof e&&null!=e?A(e):e;const O=f.s6},3438:e=>{"use strict";e.exports=C},3661:e=>{"use strict";e.exports=S},3722:e=>{"use strict";e.exports=h},3752:e=>{"use strict";e.exports=w},3789:e=>{"use strict";e.exports=d},3987:e=>{"use strict";e.exports=r},4312:e=>{"use strict";e.exports=v},4321:e=>{"use strict";e.exports=o},4345:e=>{"use strict";e.exports=E},4824:e=>{"use strict";e.exports=u},4951:e=>{"use strict";e.exports=O},5508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},6233:(e,t,s)=>{"use strict";s.d(t,{AH:()=>c,Rf:()=>l,sk:()=>d});const i=globalThis,o=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),r=new WeakMap;class a{constructor(e,t,s){if(this._$cssResult$=!0,s!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(o&&void 0===e){const s=void 0!==t&&1===t.length;s&&(e=r.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&r.set(t,e))}return e}toString(){return this.cssText}}const c=(e,...t)=>{const s=1===e.length?e[0]:t.reduce(((t,s,i)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1]),e[0]);return new a(s,e,n)},l=(e,t)=>{if(o)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const s of t){const t=document.createElement("style"),o=i.litNonce;void 0!==o&&t.setAttribute("nonce",o),t.textContent=s.cssText,e.appendChild(t)}},d=o?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const s of e.cssRules)t+=s.cssText;return(e=>new a("string"==typeof e?e:e+"",void 0,n))(t)})(e):e},6547:e=>{"use strict";e.exports=c},6744:e=>{"use strict";e.exports=A},6798:e=>{"use strict";e.exports=x},6992:(e,t,s)=>{"use strict";s.d(t,{C:()=>x,G:()=>C,a:()=>y,b:()=>E,c:()=>n,d:()=>h,e:()=>p,h:()=>v,i:()=>r,k:()=>w,o:()=>g,s:()=>c,t:()=>$});var i=s(2e3),o=s(7516);const n=Symbol.for("controller"),r=e=>"function"==typeof e?.then;let a;const c=e=>{a!==e&&(a=e,queueMicrotask((()=>a===e?a=void 0:0)))},l=e=>a;let d=[];const h=e=>{if(void 0===e)return void(d=[]);const t=d.indexOf(e);d=-1===t?[...d,e]:d.slice(0,t+1),queueMicrotask((()=>d=[]))},p=()=>d;let u;const g=e=>{u!==e&&(u=e,queueMicrotask((()=>u===e?u=void 0:0)))},m=async(e,t)=>{const s=f(e);if(void 0===s)return e;if(await s.ready,"function"==typeof t){0;const e=s.watchExports((s=>t(s,e)))}return s.exports},_=async e=>{const t=f(e);return await t.ready,t},f=e=>{const t=l().manager.X(e);if(void 0!==t)return t;if((e=>"object"==typeof e&&null!==e&&(n in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e))(e))return e;const s=(()=>{const e=u;return u=void 0,e})();return void 0!==s?s:void 0};let y=!1;const v=e=>{y=!0;try{return e()}finally{y=!1}};let b;const w=()=>{b?.forEach((({callbacks:e},t)=>{const s=Object.keys(t);e.forEach((e=>e(s)))})),b=void 0},A=(e,t,s)=>{const n=e.manager;return n.V!==o.s6&&n.V!==s&&n.S(void 0,void 0),0===n.T.length&&queueMicrotask((()=>n.S(void 0,void 0))),n.V=s,n.T.push(((e,o)=>(0,i.UF)(t,void 0,s===o?e:void 0))),s},$=(e=[l(),...p()],t,s)=>{const o=Array.isArray(e)?e:[e];let n=o.length+1;const r=e=>{n-=1,void 0!==e&&(n=Math.min(n,0)),0===n&&t(e)};o.forEach((e=>((e,t,s)=>{const o=Object.keys(e),n=o.length;void 0===b&&queueMicrotask(w),b??=new Map;let r=b.get(e);return void 0===r&&(r={callbacks:[],keyCount:n},b.set(e,r)),r.keyCount!==n&&(r.callbacks.forEach((e=>e(o))),r.callbacks=[],r.keyCount=n),r.callbacks.push((o=>{const r=e=>(0,i.UF)(t,null,e),a=o[n];void 0===a?r(void 0):e[a]===s?r(a):r(void 0)})),s})(e,(t=>r(void 0===t?void 0:{key:t,host:e,isReactive:!1})),s)));for(const e of o)if("manager"in e&&e.manager.component===e){A(e,(t=>r(void 0===t?void 0:{key:t,host:e,isReactive:!0})),s);break}return s},E=((e="",t={},s=l())=>{const i={emit:i=>{""===e&&w();const o=new CustomEvent(e,{detail:i,cancelable:!0,bubbles:!0,composed:!0,...t});return s.el.dispatchEvent(o),o}};return""===e&&$(void 0,(t=>e=t.key),i),i}).bind(null,"");var S;S=n;class x{constructor(e){this.#g=[],this.#m=[],this.#_=[],this.#f=[],this.#y=[],this.#v=[],this.#b=[],this.#w=[],this.#A=[],this.#$=!1,this.P=new i.cY,this.connectedCalled=!1,this.loadedCalled=!1,this[S]=!0,this.#E=[];const t=this,s=e??l(new.target.name);t.#n=s,t.ready=t.P.promise,t.#S=T(t),t.component=s,t.#n.addController(t);void 0===t.#n.manager||(h(t),queueMicrotask((()=>t.catchUpLifecycle())))}#g;#m;#_;#f;#y;#v;#b;#w;#A;#$;#n;catchUpLifecycle(){const{manager:e}=this.#n;!e.connectedCalled||this.connectedCalled||this.triggerConnected();!e.#$||this.triggerLoad().then((()=>e.loadedCalled&&this.triggerLoaded())).catch(console.error)}#S;get exports(){return this.#S}set exports(e){const t=this.#S;t!==e&&(this.#S=e,this.#E.forEach(i.UF),this.connectedCalled&&!1!==this.O&&this.#n.requestUpdate(this.O,t)),this.P.resolve(e)}setProvisionalExports(e,t=!0){this.#S=t?T(e):e,this.#E.forEach(i.UF)}#E;watchExports(e){const t=()=>e(this.#S);return this.#E.push(t),()=>{this.#E.splice(this.#E.indexOf(t),1)}}get use(){return c(this.#n),m}get useRef(){return c(this.#n),_}get useRefSync(){return c(this.#n),f}controllerRemoved(){this.#n.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#g.push(e)}onDisconnected(e){this.#m.push(e)}onLoad(e){this.#_.push(e)}onLoaded(e){this.#f.push(e)}onUpdate(e){this.#y.push(e)}onUpdated(e){this.#v.push(e)}onDestroy(e){this.#b.push(e)}onLifecycle(e){this.#w.push(e),this.connectedCalled&&this.#n.el.isConnected&&this.#x(e)}triggerConnected(){const e=this;e.hostConnected&&(0,i.UF)(e.hostConnected,e),e.#g.forEach(i.UF),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&(0,i.UF)(e.hostDisconnected,e),e.#m.forEach(i.UF),e.#A.forEach(i.UF),e.#A=[]}async triggerLoad(){if(this.#$)return;this.#$=!0;const e=this;e.hostLoad&&await(0,i.ao)(e.hostLoad,e),this.#_.length>0&&await Promise.allSettled(this.#_.map(i.ao)),this.P.resolve(this.#S)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,i.UF)(this.hostLoaded,this),this.#f.forEach(i.UF),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&(0,i.UF)(this.hostUpdate,this,e),this.#y.forEach(L,e)}triggerUpdated(e){this.hostUpdated&&(0,i.UF)(this.hostUpdated,this,e),this.#v.forEach(L,e)}triggerDestroy(){this.hostDestroy&&(0,i.UF)(this.hostDestroy,this),this.#b.forEach(i.UF)}triggerLifecycle(){this.hostLifecycle&&this.#x((()=>this.hostLifecycle())),this.#w.forEach(this.#x,this)}#x(e){c(this.#n);const t=(0,i.UF)(e);(Array.isArray(t)?t:[t]).forEach((e=>{"function"==typeof e?this.#A.push(e):"object"==typeof e&&"function"==typeof e.remove&&this.#A.push(e.remove)}))}}function L(e){(0,i.UF)(e,void 0,this)}const C=x,T=e=>{if("object"!=typeof e&&"function"!=typeof e||null===e)return e;const t=new Proxy(e,{get(e,s,i){if("exports"!==s&&"_exports"!==s||!(s in e)||e[s]!==t)return s in e||s in Promise.prototype||"symbol"==typeof s?"function"==typeof e?e[s]:Reflect.get(e,s,i):void 0}});return t}},7212:(e,t,s)=>{"use strict";s.d(t,{c:()=>r,g:()=>a,r:()=>n});var i=s(3306),o=s(3987);const n=(0,i.le)({defaultAssetPath:"https://js.arcgis.com/4.33/imagery-components/",hydratedAttribute:"hydrated"}),{customElement:r,getAssetPath:a,setAssetPath:c}=n;n.t=o.trackAccess,n.o=o.createObservable,n.c=o.createTrackingTarget,n.r=o.runTracked},7516:(e,t,s)=>{"use strict";s.d(t,{WF:()=>r,qy:()=>o.qy,S$:()=>c,Ec:()=>i.Ec,s6:()=>o.s6,XX:()=>o.XX});var i=s(1597),o=s(2939);const n=globalThis;class r extends i.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,o.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return o.c0}}r._$litElement$=!0,r.finalized=!0,n.litElementHydrateSupport?.({LitElement:r});const a=n.litElementPolyfillSupport;a?.({LitElement:r});(n.litElementVersions??=[]).push("4.2.0");const c=!1},8423:e=>{"use strict";e.exports=f},8927:e=>{"use strict";e.exports=U},9037:e=>{"use strict";e.exports=n},9047:e=>{"use strict";e.exports=a},9244:e=>{"use strict";e.exports=s},9327:e=>{"use strict";e.exports=T},9901:(e,t,s)=>{"use strict";s.d(t,{OA:()=>i,WL:()=>n,u$:()=>o});const i={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=e=>(...t)=>({_$litDirective$:e,values:t});class n{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,s){this._$Ct=e,this._$AM=t,this._$Ci=s}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}}},P={};function k(e){var t=P[e];if(void 0!==t)return t.exports;var s=P[e]={exports:{}};return j[e](s,s.exports,k),s.exports}k.m=j,k.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return k.d(t,{a:t}),t},k.d=(e,t)=>{for(var s in t)k.o(t,s)&&!k.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},k.f={},k.e=e=>Promise.all(Object.keys(k.f).reduce(((t,s)=>(k.f[s](e,t),t)),[])),k.u=e=>"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-d157e5"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-d157e5.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-314574"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-314574.js":"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-13d579"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-13d579.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-e10d2e"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-e10d2e.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-baebcd"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-baebcd.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-00320f"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-00320f.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-05360f"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-05360f.js":"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-230a1e"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-230a1e.js":"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-722558"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-722558.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-656ca0"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-656ca0.js":"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-d46095"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-d46095.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-3faa3e"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-3faa3e.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-6d10e2"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-6d10e2.js":"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-5af700"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-5af700.js":"extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-724ed4"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-724ed4.js":"vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-ccf9b6"===e?"widgets/arcgis/processing-templates/chunks/arcgis_processing-templates_node_modules_arcgis_imagery-components-ccf9b6.js":void 0,k.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="exb-client:",k.l=(s,i,o,n)=>{if(e[s])e[s].push(i);else{var r,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+o){r=d;break}}r||(a=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,k.nc&&r.setAttribute("nonce",k.nc),r.setAttribute("data-webpack",t+o),r.src=s),e[s]=[i];var h=(t,i)=>{r.onerror=r.onload=null,clearTimeout(p);var o=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),a&&document.head.appendChild(r)}},k.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},k.p="",(()=>{var e={"widgets/arcgis/processing-templates/dist/runtime/widget":0};k.f.j=(t,s)=>{var i=k.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var o=new Promise(((s,o)=>i=e[t]=[s,o]));s.push(i[2]=o);var n=k.p+k.u(t),r=new Error;k.l(n,(s=>{if(k.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",r.name="ChunkLoadError",r.type=o,r.request=n,i[1](r)}}),"chunk-"+t,t)}};var t=(t,s)=>{var i,o,[n,r,a]=s,c=0;if(n.some((t=>0!==e[t]))){for(i in r)k.o(r,i)&&(k.m[i]=r[i]);if(a)a(k)}for(t&&t(s);c<n.length;c++)o=n[c],k.o(e,o)&&e[o]&&e[o][0](),e[o]=0},s=self.webpackChunkexb_client=self.webpackChunkexb_client||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var R={};return k.p=window.jimuConfig.baseUrl,(()=>{"use strict";k.r(R),k.d(R,{__set_webpack_public_path__:()=>T,default:()=>C});var e=k(9244),t=k(2686),s=k(4321),i=function(e,t,s,i){return new(s||(s=Promise))((function(o,n){function r(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const o=t=>{var s;const{type:i}=t,o=i===e.SupportedJSAPILayerTypes.ImageryLayer,n=i===e.SupportedJSAPILayerTypes.ImageryTileLayer,r=!!(null===(s=null==t?void 0:t.sourceJSON)||void 0===s?void 0:s.allowRasterFunction);return o&&r||n},n=(e,t)=>i(void 0,void 0,void 0,(function*(){var s;if(!e||!t)return[];const i=t.getMapDataSource(),o=null!==(s=i.getDataSourceByLayer(e))&&void 0!==s?s:yield i.createDataSourceByLayer(e);return[{dataSource:o,records:[],name:null==o?void 0:o.getLabel()}]})),r=e=>i(void 0,void 0,void 0,(function*(){var s;if(!e)return{};const i=t.MapViewManager.getInstance().getJimuMapViewById(e);return yield null==i?void 0:i.whenJimuMapViewLoaded(),null!==(s=null==i?void 0:i.jimuLayerViews)&&void 0!==s?s:{}})),a=(e,t)=>i(void 0,void 0,void 0,(function*(){if(!e)return[];return d(e,t)?c(e,t):l(e)})),c=(e,t)=>i(void 0,void 0,void 0,(function*(){const s=yield r(e);return(yield p(e,t)).map((e=>s[e].layer))})),l=e=>i(void 0,void 0,void 0,(function*(){const t=yield r(e);return(yield u(e)).map((e=>t[e].layer))})),d=(e,t)=>{var s,i;return null!==(i=null===(s=null==t?void 0:t[e])||void 0===s?void 0:s.isEnabled)&&void 0!==i&&i},h=(e,t)=>{var s;return null===(s=null==t?void 0:t[e])||void 0===s?void 0:s.selectedLayerViewIds},p=(e,t)=>i(void 0,void 0,void 0,(function*(){const s=h(e,t);return(yield u(e)).filter((e=>s.includes(e)))})),u=e=>i(void 0,void 0,void 0,(function*(){const t=yield r(e),s=Object.keys(t);yield Promise.allSettled(s.map((e=>t[e].layer.load())));return s.filter((e=>o(t[e].layer)))}));var g=k(881),m=k.n(g);const _={_widgetLabel:"Processing Templates",_widgetDescription:"A widget to apply a processing template to an imagery layer and perform on-the-fly raster processing.",selectLayers:"Select layers",noLayersTip:"There are currently no Imagery Layers or Tiled Imagery Layers to display.",openSettingPanelTip:"Please open the widget setting panel to update the configurations."},f=t=>{const{widgetId:i,show:o=!1}=t;if(!o)return null;const n=e.hooks.useTranslation(_);return e.React.createElement("div",{className:"w-100 h-100"},e.React.createElement(s.WidgetPlaceholder,{icon:m(),widgetId:i,message:n("_widgetLabel")}))};var y=k(5508),v=k.n(y),b=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]])}return s};const w=t=>{const s=window.SVG,{className:i}=t,o=b(t,["className"]),n=(0,e.classNames)("jimu-icon jimu-icon-component",i);return s?e.React.createElement(s,Object.assign({className:n,src:v()},o)):e.React.createElement("svg",Object.assign({className:n},o))},A=t=>{var s;const{show:i=!1}=t;if(!i)return null;const o=null===(s=window.jimuConfig)||void 0===s?void 0:s.isInBuilder,n=e.hooks.useTranslation(_);return e.React.createElement("div",{className:"w-100 h-100 d-flex flex-column align-items-center justify-content-center p-1"},e.React.createElement("div",null,e.React.createElement(w,{width:24,height:24})),e.React.createElement("div",{className:"mt-2 text-center"},n("noLayersTip")),o&&e.React.createElement("div",{className:"mt-2 text-center"},n("openSettingPanelTip")))},$=t=>{const{widgetId:i,layerId:o,layerList:n,enableDataAction:r=!0,actionDataSets:a,handleLayerChange:c}=t,l=e.hooks.useTranslation(_);return e.React.createElement("div",{className:"d-flex justify-content-between mb-2"},e.React.createElement(s.Select,{"aria-label":l("selectLayers"),size:"sm",value:o,useFirstOption:!0,onChange:c,style:{minWidth:"150px",width:"fit-content"}},n.map((({id:t,title:i})=>e.React.createElement(s.Option,{key:t,value:t},i)))),r&&e.React.createElement(s.DataActionList,{widgetId:i,dataSets:a,listStyle:s.DataActionListStyle.Dropdown,buttonSize:"sm"}))};k(9037);var E=k(7212);var S;(0,k(3306).G$)(E.r,{"arcgis-imagery-collection-explorer":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-d157e5").then(k.bind(k,5827)),"layer:,portal:,view:;setFocus"],"arcgis-imagery-item-details-popover":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-314574").then(k.bind(k,6699)),"imageItemFeatureGraphic:,imageItemInfo:,layer:,messages:,open,referenceElement:,view:"],"arcgis-imagery-item-filters-popover":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-13d579").then(k.bind(k,4806)),"currentFilterDetail:,layer:,locale,messages:,open,referenceElement:,view:"],"arcgis-imagery-item-info-table":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-e10d2e").then(k.bind(k,9496)),"columns:,data:"],"arcgis-imagery-item-list-settings-popover":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-baebcd").then(k.bind(k,4759)),"fields:,isShowingThumbnails,messages:,open,preselectedFields:,referenceElement:"],"arcgis-imagery-item-preview":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-00320f").then(k.bind(k,1289)),"previewImageItemGraphic:,previewLayerUrl"],"arcgis-imagery-item-sort-popover":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-05360f").then(k.bind(k,8721)),"fields:,messages:,open,preselectedSortField:,preselectedSortOrder:,referenceElement:"],"arcgis-imagery-display-order":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-230a1e").then(k.bind(k,3224)),"closable,hideButtons,layer:,panelHeading"],"arcgis-imagery-multidimensional-filter":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-722558").then(k.bind(k,5752)),"closable,dimensionSliderSetting:,hideButtons,isDimensionListSortable,layer:,panelHeading,showAreaOfInterest,showDimensionSliderControls,showExtentSection,view:;done,setFocus"],"arcgis-imagery-dimension-slider":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-656ca0").then(k.bind(k,2885)),"dimensionInfo:,dimensionValue,sliderSetting:"],"arcgis-imagery-multidimensional-subset":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-d46095").then(k.bind(k,7368)),"collapseExtentSection,messages:,multidimensionalInfo:,multidimensionalSubset:,showAreaOfInterest,showFilterLength,view:;closePopover"],"arcgis-imagery-lazy-loading-list":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-3faa3e").then(k.bind(k,9725)),"list:,messages:,pageBufferSize,pageSize,popoverProps:,position,removeOldPages,selectedIndex,showFilter,useFlyOut"],"arcgis-imagery-lazy-loading-select":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-6d10e2").then(k.bind(k,2541)),"ariaLabeledBy,containerBottom,containerTop,list:,messages:,pageSize,removeOldPages,selectedIndex,showFilterLength"],"arcgis-imagery-multidimensional-info":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-5af700").then(k.bind(k,962)),"layer:,open,showFilterLength,showRawSourceInfo,showStatistics;done"],"arcgis-imagery-multidimensional-variable-info":[()=>k.e("extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components_dist_co-724ed4").then(k.bind(k,5547)),"messages:,open,popoverProps:,showDimensionSummary,showStatistics,variableInfo:;reposition,setFocus"],"arcgis-imagery-processing-template":[()=>k.e("vendors-extensions_widgets_arcgis_processing-templates_node_modules_arcgis_imagery-components-ccf9b6").then(k.bind(k,3079)),"closable,hideButtons,layer:,panelHeading,portal:,showItemBrowser,showRendererWarning"]})(window,{resourcesUrl:`${`${window.location.protocol}//${window.location.host}${e.urlUtils.getFixedRootPath()}`}widgets/arcgis/processing-templates/dist/imagery-components-assets/assets`}),function(e){e.SET_JIMU_MAP_VIEW="SET_JIMU_MAP_VIEW",e.SET_LAYER_LIST="SET_LAYER_LIST",e.SET_LAYER_ID="SET_LAYER_ID",e.SET_PORTAL="SET_PORTAL"}(S||(S={}));var x=function(e,t,s,i){return new(s||(s=Promise))((function(o,n){function r(e){try{c(i.next(e))}catch(e){n(e)}}function a(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const L={jimuMapView:null,layerList:[],layerId:"",actionDataSets:[],portal:null,status:"pending",error:null},C=i=>{const{id:o,useMapWidgetIds:r,config:c,enableDataAction:l,portalUrl:d,portalSelf:p}=i,{state:{jimuMapView:u,layerList:g,layerId:m,actionDataSets:y,portal:v,status:b},onAction:w}=(s=>{const[i,o]=e.React.useState(Object.assign(Object.assign({},L),s)),r=e.hooks.useTranslation(_);return{state:i,onAction:e=>x(void 0,void 0,void 0,(function*(){var s,c,l,d;switch(e.type){case S.SET_JIMU_MAP_VIEW:{const{jimuMapView:t,config:{customizeLayersOptions:i}}=e.payload;o((e=>Object.assign(Object.assign({},e),{status:"pending",error:null})));try{const e=yield a(null==t?void 0:t.id,i),r=null!==(c=null===(s=null==e?void 0:e[0])||void 0===s?void 0:s.id)&&void 0!==c?c:"",l=e.find((({id:e})=>e===r)),d=yield n(l,t);o((s=>Object.assign(Object.assign({},s),{jimuMapView:t,layerList:e,layerId:r,actionDataSets:d,status:"resolved",error:null})))}catch(e){o((t=>Object.assign(Object.assign({},t),{status:"rejected",error:e instanceof Error?e.message:r("unableToGetLayers")})))}break}case S.SET_LAYER_LIST:{const{jimuMapView:t,config:{customizeLayersOptions:s}}=e.payload,{layerId:c,actionDataSets:h}=i;o((e=>Object.assign(Object.assign({},e),{status:"pending",error:null})));try{const e=yield a(null==t?void 0:t.id,s),i=null!==(d=null===(l=null==e?void 0:e[0])||void 0===l?void 0:l.id)&&void 0!==d?d:"",r=e.find((({id:e})=>e===i)),p=c===i?h:yield n(r,t);o((t=>Object.assign(Object.assign({},t),{layerList:e,layerId:i,actionDataSets:p,status:"resolved",error:null})))}catch(e){o((t=>Object.assign(Object.assign({},t),{status:"rejected",error:e instanceof Error?e.message:r("unableToGetLayers")})))}break}case S.SET_LAYER_ID:{const{layerId:t}=e.payload,{jimuMapView:s,layerList:r}=i,a=r.find((({id:e})=>e===t)),c=yield n(a,s);o((e=>Object.assign(Object.assign({},e),{layerId:t,actionDataSets:c})));break}case S.SET_PORTAL:{const{portalUrl:s,portalSelf:i}=e.payload,n=yield(0,t.loadArcGISJSAPIModules)(["esri/portal/Portal"]),[r]=n,a=new r({url:s,sourceJSON:i});yield a.load(),o((e=>Object.assign(Object.assign({},e),{portal:a})));break}}}))}})({});e.React.useEffect((()=>{w({type:S.SET_PORTAL,payload:{portalUrl:d,portalSelf:p}})}),[]);const E=h(null==u?void 0:u.id,c.customizeLayersOptions);e.React.useEffect((()=>{E&&w({type:S.SET_LAYER_LIST,payload:{jimuMapView:u,config:c}})}),[E]);const C=e.React.useCallback((e=>{if(e){const t=g.find((({id:e})=>e===m));e.layer=t,e.portal=v,e.panelHeading="",e.hideButtons=!0}}),[m,v]),T=(null==r?void 0:r.length)>0,U="pending"!==b&&(null==v?void 0:v.loaded),O=(null==g?void 0:g.length)>0;return e.React.createElement("div",{id:o,className:"h-100 surface-1 border-0"},e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null==r?void 0:r[0],onActiveViewChange:e=>{e&&w({type:S.SET_JIMU_MAP_VIEW,payload:{jimuMapView:e,config:c}})}}),T?U?O?e.React.createElement("div",{className:"py-3 mx-4 d-flex flex-column h-100"},e.React.createElement($,{widgetId:o,layerId:m,layerList:g,enableDataAction:l,actionDataSets:y,handleLayerChange:e=>{const t=e.target.value;w({type:S.SET_LAYER_ID,payload:{layerId:t}})}}),e.React.createElement("div",{style:{flexGrow:1,overflowY:"auto",height:"calc(100%-3rem)"}},e.React.createElement("arcgis-imagery-processing-template",{ref:C}))):e.React.createElement(A,{show:!0}):e.React.createElement(s.Loading,{type:s.LoadingType.Secondary}):e.React.createElement(f,{widgetId:o,show:!0}))};function T(e){k.p=e}})(),R})())}}}));