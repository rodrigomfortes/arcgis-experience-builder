System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-core/react","esri/portal/Portal.js","esri/identity/IdentityManager.js","esri/request.js","esri/core/urlUtils.js","esri/geometry/Point.js","esri/geometry/Polyline.js","esri/geometry/Polygon.js","esri/core/reactiveUtils.js","esri/rest/support/Query.js","esri/core/promiseUtils.js","esri/geometry/Extent.js","esri/geometry/SpatialReference.js","esri/portal/PortalItemResource.js","esri/geometry/support/jsonUtils.js","esri/Color.js","esri/layers/FeatureLayer.js","esri/layers/Layer.js","esri/symbols/LineSymbolMarker.js","esri/layers/support/MosaicRule.js","esri/portal/PortalItem.js","esri/renderers/SimpleRenderer.js","esri/symbols/SimpleFillSymbol.js","esri/symbols/SimpleLineSymbol.js","esri/symbols/SimpleMarkerSymbol.js","esri/layers/SubtypeGroupLayer.js","esri/config.js","esri/layers/MapNotesLayer.js","esri/layers/support/Field.js","esri/renderers/Renderer.js","esri/rest/support/FeatureSet.js","esri/rest/support/ParameterValue.js","esri/smartMapping/statistics/uniqueValues.js","esri/rest/support/JobInfo.js","esri/layers/GroupLayer.js","esri/rest/geoprocessor.js","esri/core/sql.js"],(function(s,e){var a={},t={},i={},r={},n={},o={},l={},d={},_={},c={},u={},g={},y={},f={},m={},p={},h={},v={},b={},x={},j={},w={},S={},k={},P={},R={},T={},A={},N={},L={},M={},C={},O={},D={},I={},E={},F={},$={},G={},U={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(f,"__esModule",{value:!0}),{setters:[function(s){a.AbstractDataAction=s.AbstractDataAction,a.AllDataSourceTypes=s.AllDataSourceTypes,a.DataLevel=s.DataLevel,a.MutableStoreManager=s.MutableStoreManager,a.React=s.React,a.ReactRedux=s.ReactRedux,a.classNames=s.classNames,a.css=s.css,a.defaultMessages=s.defaultMessages,a.focusElementInKeyboardMode=s.focusElementInKeyboardMode,a.getAppStore=s.getAppStore,a.hooks=s.hooks,a.jsx=s.jsx,a.urlUtils=s.urlUtils},function(s){t.featureUtils=s.featureUtils},function(s){i.Button=s.Button,i.FloatingPanel=s.FloatingPanel,i.Select=s.Select},function(s){r.default=s.default},function(s){n.default=s.default},function(s){o.default=s.default},function(s){l.default=s.default},function(s){d.urlToObject=s.urlToObject},function(s){_.default=s.default},function(s){c.default=s.default},function(s){u.default=s.default},function(s){Object.keys(s).forEach((function(e){g[e]=s[e]}))},function(s){y.default=s.default},function(s){Object.keys(s).forEach((function(e){f[e]=s[e]}))},function(s){m.default=s.default},function(s){p.default=s.default},function(s){h.default=s.default},function(s){v.getJsonType=s.getJsonType},function(s){b.default=s.default},function(s){x.default=s.default},function(s){j.default=s.default},function(s){w.default=s.default},function(s){S.default=s.default},function(s){k.default=s.default},function(s){P.default=s.default},function(s){R.default=s.default},function(s){T.default=s.default},function(s){A.default=s.default},function(s){N.default=s.default},function(s){L.default=s.default},function(s){M.default=s.default},function(s){C.default=s.default},function(s){O.default=s.default},function(s){D.default=s.default},function(s){I.default=s.default},function(s){E.default=s.default},function(s){F.default=s.default},function(s){$.default=s.default},function(s){G.submitJob=s.submitJob},function(s){U.parseWhereClause=s.parseWhereClause}],execute:function(){s((()=>{var s,e,V={588:s=>{"use strict";s.exports=o},2924:s=>{"use strict";s.exports=j},5258:s=>{"use strict";s.exports=w},5933:s=>{"use strict";s.exports=D},6550:s=>{"use strict";s.exports=x},9316:s=>{"use strict";s.exports=f},12762:s=>{"use strict";s.exports=L},13661:s=>{"use strict";s.exports=m},14321:s=>{"use strict";s.exports=i},18423:s=>{"use strict";s.exports=_},21255:s=>{"use strict";s.exports=u},23054:s=>{"use strict";s.exports=A},28927:s=>{"use strict";s.exports=C},28996:s=>{s.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},32513:s=>{"use strict";s.exports=n},33752:s=>{"use strict";s.exports=k},34031:s=>{"use strict";s.exports=y},35970:s=>{"use strict";s.exports=O},43284:s=>{"use strict";s.exports=U},43786:s=>{"use strict";s.exports=p},44345:s=>{"use strict";s.exports=l},49403:s=>{"use strict";s.exports=R},52373:s=>{"use strict";s.exports=S},53976:s=>{"use strict";s.exports=P},54312:s=>{"use strict";s.exports=g},55448:s=>{"use strict";s.exports=d},56451:s=>{"use strict";s.exports=b},57295:s=>{"use strict";s.exports=I},61320:s=>{"use strict";s.exports=h},62686:s=>{"use strict";s.exports=t},64016:s=>{"use strict";s.exports=v},68972:s=>{"use strict";s.exports=r},71802:s=>{"use strict";s.exports=G},72349:s=>{"use strict";s.exports=E},73645:s=>{"use strict";s.exports=N},77462:s=>{"use strict";s.exports=T},79244:s=>{"use strict";s.exports=a},82567:s=>{"use strict";s.exports=M},89962:s=>{"use strict";s.exports=F},91813:s=>{"use strict";s.exports=c},97703:s=>{"use strict";s.exports=$}},W={};function B(s){var e=W[s];if(void 0!==e)return e.exports;var a=W[s]={exports:{}};return V[s](a,a.exports,B),a.exports}B.m=V,B.n=s=>{var e=s&&s.__esModule?()=>s.default:()=>s;return B.d(e,{a:e}),e},B.d=(s,e)=>{for(var a in e)B.o(e,a)&&!B.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:e[a]})},B.f={},B.e=s=>Promise.all(Object.keys(B.f).reduce(((e,a)=>(B.f[a](s,e),e)),[])),B.u=s=>"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_index_js"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_index_js.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-78bda4"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-78bda4.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-064589"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-064589.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3bac4e"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3bac4e.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd8788"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd8788.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1e7eca"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1e7eca.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-98fd84"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-98fd84.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2aac66"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2aac66.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-bbb373"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-bbb373.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-aad150"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-aad150.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-963e18"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-963e18.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3161b3"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3161b3.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8a7ac2"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8a7ac2.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dcf760"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dcf760.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1cf8a8"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1cf8a8.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-f29f90"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-f29f90.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd331a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd331a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-305c14"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-305c14.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-265985"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-265985.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-09d547"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-09d547.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-198c62"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-198c62.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-36f054"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-36f054.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ad24b4"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ad24b4.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-9f6e64"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-9f6e64.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d2aa34"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d2aa34.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2c2d70"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2c2d70.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-31dd02"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-31dd02.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-59d271"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-59d271.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-517b2a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-517b2a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-991acf"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-991acf.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8ecd08"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8ecd08.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-eb760a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-eb760a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3c618f"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3c618f.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-777dbb"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-777dbb.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cca393"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cca393.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d51569"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d51569.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ef031b"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ef031b.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-89a74e"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-89a74e.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3f81a5"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3f81a5.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d5ff15"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d5ff15.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cc041a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cc041a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dabe73"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dabe73.js":void 0,B.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e),s={},e="exb-client:",B.l=(a,t,i,r)=>{if(s[a])s[a].push(t);else{var n,o;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var _=l[d];if(_.getAttribute("src")==a||_.getAttribute("data-webpack")==e+i){n=_;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,B.nc&&n.setAttribute("nonce",B.nc),n.setAttribute("data-webpack",e+i),n.src=a),s[a]=[t];var c=(e,t)=>{n.onerror=n.onload=null,clearTimeout(u);var i=s[a];if(delete s[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((s=>s(t))),e)return e(t)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),o&&document.head.appendChild(n)}},B.r=s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},B.p="",(()=>{var s={"widgets/arcgis/analysis/dist/data-actions/set-as-analysis-input":0};B.f.j=(e,a)=>{var t=B.o(s,e)?s[e]:void 0;if(0!==t)if(t)a.push(t[2]);else{var i=new Promise(((a,i)=>t=s[e]=[a,i]));a.push(t[2]=i);var r=B.p+B.u(e),n=new Error;B.l(r,(a=>{if(B.o(s,e)&&(0!==(t=s[e])&&(s[e]=void 0),t)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;n.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",n.name="ChunkLoadError",n.type=i,n.request=r,t[1](n)}}),"chunk-"+e,e)}};var e=(e,a)=>{var t,i,[r,n,o]=a,l=0;if(r.some((e=>0!==s[e]))){for(t in n)B.o(n,t)&&(B.m[t]=n[t]);if(o)o(B)}for(e&&e(a);l<r.length;l++)i=r[l],B.o(s,i)&&s[i]&&s[i][0](),s[i]=0},a=self.webpackChunkexb_client=self.webpackChunkexb_client||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var z={};return B.p=window.jimuConfig.baseUrl,(()=>{"use strict";B.r(z),B.d(z,{default:()=>P});var s,e,a=B(79244),t=B(62686),i=B(14321);!function(s){s.Standard="standard",s.Custom="custom",s.RasterFunction="rfx"}(s||(s={})),function(s){s.None="NONE",s.Error="ERROR",s.Warning="WARNING",s.Info="INFO"}(e||(e={}));var r=B(68972),n=function(s,e,a,t){return new(a||(a=Promise))((function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(n,o)}l((t=t.apply(s,e||[])).next())}))};class o{constructor(){this.cache={}}static getInstance(){return o.instance||(o.instance=new o),o.instance}getStrings(s){return n(this,void 0,void 0,(function*(){return this.cache[s]?this.cache[s]:function(s){return n(this,void 0,void 0,(function*(){const e=yield fetch(s);return yield e.json()}))}(s).then((e=>(this.cache[s]=e,e)))}))}}function l(){return s="arcgis-analysis-assets",`${window.location.protocol}//${window.location.host}${a.urlUtils.getFixedRootPath()}widgets/arcgis/analysis/dist/analysis-assets/${s}/`;var s}const d=s=>(s=>{const[e,a]=r.default.useState();return r.default.useEffect((()=>{o.getInstance().getStrings(s).then(a).catch((()=>{a({})}))}),[]),e})(`${l()}assets/t9n/common.t9n.${null!=s?s:"en-US"}.json`),_=(s,e)=>{let a=s;return void 0!==e&&void 0!==s&&s.startsWith("$")&&(a=e[s.replace("$","")]),a},c={_widgetLabel:"Analysis",history:"History",result:"Result",viewDetails:"View details",openTool:"Open tool",historyEmptyPlaceholder:"After you run a tool, you can track the status at history.",run:"Run",completeAtTime:"Complete at {time}",canceling:"Canceling...",canceledAtTime:"Canceled at {time}",canceled:"Canceled",jobFailedAtTime:"Failed at {time}",jobFailed:"Failed",provisioningResources:"Provisioning resources...",submitted:"Submitted...",waiting:"Waiting...",running:"Running",cancelLabel:"Cancel analysis",uncancellableLabel:"This tool cannot be canceled.",cancelWarningText:"Are you sure you want to cancel this analysis? Current process will be lost.",keepRunning:"Keep running",cancelAnalysis:"Cancel analysis",jobAlertStatusCancelled:"{toolName} canceled",jobAlertStatusDeleted:"{toolName} deleted",jobAlertStatusFailed:"{toolName} failed",jobAlertStatusSucceededWithWarnings:"{toolName} succeeded with warnings",jobAlertStatusSucceededWithoutWarnings:"{toolName} succeeded",jobAlertStatusTimedOut:"{toolName} timed out",submittedAlertLabel:"{toolName} submitted",parameters:"Parameters",environments:"Environments",context:"Context",spatialReference:"Spatial reference",environmentSettings:"Environment settings",outputCoordinateSystem:"Output coordinate system",processingExtent:"Processing extent",snapRaster:"Snap raster",cellSize:"Cell size",resamplingMethod:"Resampling method",mask:"Mask",sameAsInput:"Same as input (default)",fullExtent:"Full extent (default)",maxOf:"Maximum of inputs",minOf:"Minimum of inputs",asSpecified:"As specified",fromLayer:"From layer",nearest:"Nearest neighbor (for discrete data)",bilinear:"Bilinear interpolation (for continuous data)",cubic:"Cubic convolution (for continuous data)",xmin:"Left (x-min)",xmax:"Right (x-max)",ymin:"Bottom (y-min)",ymax:"Top (y-max)",nowDate:"Now ({dateString})",optimizeTableView:"Optimize table view",genericFailureMessage:"{toolName} failed.",messages:"Messages",startTime:"Start time",endTime:"Completed",creditMessage:"<a href='{docLink}' target='_blank'>Credits consumed</a>",creditsMessageNoLink:"Credits consumed",zeroCreditsMessage:"No credits were consumed for this tool.",warning:"Warning",elapsedTime:"Elapsed time",failedTime:"Failed time: {failedTime}",minutes:"Minutes",hours:"Hours",days:"Days",jobCancelled:"{toolName} canceled.",jobId:"Run ID",checkCreditUsage:"Administrators can check credit usage through the credit status page. <calcite-link target='_blank' href='{url}'>Learn more.</calcite-link>",noAccess:"You do not have permission to access this result.",invalidUrl:"The result no longer exists. Run the analysis again to recreate it.",defaultLayerFailure:"The result cannot be accessed. Run the analysis again to recreate it.",toolInaccessible:"Tool is inaccessible.",_action_setAsAnalysisInput_label:"Set as Analysis input",selectTool:"Select a tool",selectParameter:"Select a parameter",noApplicableParameter:"No applicable parameter",item:"Item",dataType:"Data type",recycleProcessingWorkers:"Recycle interval of processing workers",parallelProcessingFactor:"Parallel processing factor",retryOnFailures:"Number of retries on failures",processorType:"Processor type",automatic:"Automatic",CPU:"CPU",GPU:"GPU",geographicTransformations:"Geographic transformations"};var u=B(28996),g=B.n(u),y=function(s,e){var a={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(a[t]=s[t]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(s);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(s,t[i])&&(a[t[i]]=s[t[i]])}return a};const f=s=>{const e=window.SVG,{className:t}=s,i=y(s,["className"]),r=(0,a.classNames)("jimu-icon jimu-icon-component",t);return e?a.React.createElement(e,Object.assign({className:r,src:g()},i)):a.React.createElement("svg",Object.assign({className:r},i))};var m=function(s,e,a,t){return new(a||(a=Promise))((function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(n,o)}l((t=t.apply(s,e||[])).next())}))};const p=s=>s.type===a.AllDataSourceTypes.ImageryLayer||s.type===a.AllDataSourceTypes.ImageryTileLayer,h=s=>{var e;return s.type===a.AllDataSourceTypes.FeatureLayer||"feature"===(null===(e=s.layer)||void 0===e?void 0:e.type)},v={width:320,height:280},b={width:320,height:280},x=e=>{var t;const i=a.ReactRedux.useSelector((s=>window.jimuConfig.isBuilder?s.appStateInBuilder.appConfig.utilities:s.appConfig.utilities)),n=null===(t=null==e?void 0:e.getLocaleInfo())||void 0===t?void 0:t.locale,o=d(n),l=(s=>{const e=d(s);return r.default.useMemo((()=>e?Object.assign(Object.assign({},e.toolInfo||{}),e.toolInfoKeys||{}):null),[e])})(n);return{getDisplayedToolName:a=>a&&e?a.type===s.Standard?function(s,e,a,t,i){const r=`${i(s)}${t(e)}`;return(null==a?void 0:a[r])||s}(a.toolName,a.analysisEngine,l,e.formatAnalysisEngineSuffix,e.toCamelToolName):function(s,e){var a;if(!s)return"";const t=s.config,{toolDisplayName:i}=t.option||{};if(i)return i;if(t.utility){const{utilityId:s,task:a}=t.utility,i=null==e?void 0:e[s];if(a){const s=i&&i.tasks?i.tasks.find((s=>s.name===a)):null;if(s&&s.label)return s.label}else if(i&&i.label)return i.label}return(null===(a=s.config.toolInfo)||void 0===a?void 0:a.displayName)||s.toolName}(a,i):"",getDisplayedParameterName:s=>_(s.label,o)||s.displayName}},j=s=>{const{translate:e,analysisSharedUtils:t,toolList:r,selectedTool:n,onSelectedToolChange:o,validParameters:l,selectedParameter:d,onSelectedParameterChange:_}=s,{getDisplayedToolName:c,getDisplayedParameterName:u}=x(t);return(0,a.jsx)("div",null,(0,a.jsx)("div",null,(0,a.jsx)("div",{className:"mb-1 form-item-label"},e("selectTool")),(0,a.jsx)("div",null,(0,a.jsx)(i.Select,{value:null==n?void 0:n.id,onChange:o},r.map((s=>(0,a.jsx)("option",{key:s.id,value:s.id},c(s))))))),n&&(0,a.jsx)("div",{className:"mt-4"},(0,a.jsx)("div",{className:"mb-1 form-item-label"},e("selectParameter")),(0,a.jsx)("div",null,(0,a.jsx)(i.Select,{value:null==d?void 0:d.name,onChange:_,disabled:!l.length},l.map((s=>(0,a.jsx)("option",{key:s.name,value:s.name},u(s))))),!l.length&&(0,a.jsx)("div",{className:"mt-2 warning-msg"},(0,a.jsx)(f,{className:"mr-2",color:"var(--sys-color-warning-dark)"}),e("noApplicableParameter")))))},w=a.css`
  flex-direction: column;
  justify-content: space-between;
  .form-item-label {
    line-height: 18px;
    font-weight: 500;
    color: var(--ref-palette-black);
  }
  .warning-msg {
    display: flex;
    align-items: center;
    line-height: 24px;
  }
  .footer{
    text-align: right;
    .btn {
      min-width: 75px;
      font-weight: 500;
    }
  }
`,S=e=>{const{activeRef:r,widgetId:n,dataSet:o,dataLevel:l,version:d,intl:u}=e,{dataSource:g}=o,[y,f]=a.React.useState(b),[x,S]=a.React.useState(!0),k=(()=>{const[s,e]=a.React.useState();return a.React.useEffect((()=>{B.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_index_js").then(B.bind(B,67245)).then((s=>{e(s)}))}),[]),s})(),P=a.React.useMemo((()=>{var s;return(null===(s=null==k?void 0:k.getLocaleInfo())||void 0===s?void 0:s.locale)||""}),[k]),R=s=>u.formatMessage({id:s,defaultMessage:Object.assign(Object.assign({},c),a.defaultMessages)[s]});a.React.useEffect((()=>{S(!0),M(null),I(null)}),[d,g.id,n]);const T=()=>{S(!1),setTimeout((()=>{(0,a.focusElementInKeyboardMode)(r)}),10)},[A,N]=a.React.useState([]);a.React.useEffect((()=>{var e,t,i,r,o;if(!x)return;const l=null!==(t=null===(e=(0,a.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)&&void 0!==t?t:(0,a.getAppStore)().getState(),d=null===(o=null===(r=null===(i=null==l?void 0:l.appConfig)||void 0===i?void 0:i.widgets)||void 0===r?void 0:r[n])||void 0===o?void 0:o.config;Array.isArray(null==d?void 0:d.toolList)&&N(d.toolList.asMutable({deep:!0}).filter((e=>e.type!==s.RasterFunction)))}),[x]);const[L,M]=a.React.useState(),[C,O]=a.React.useState([]),[D,I]=a.React.useState(),E=a.React.useMemo((()=>{const s=g.getGeometryType(),e=h(g),t=p(g);return C.filter((i=>{if("esriGPParameterDirectionOutput"===i.direction)return!1;if(e&&("GPRecordSet"===i.dataType||"GPMultiValue:GPRecordSet"===i.dataType))return!0;const r=l===a.DataLevel.DataSource&&e||l===a.DataLevel.Records;if(s&&r&&("GPFeatureRecordSetLayer"===i.dataType||"GPMultiValue:GPFeatureRecordSetLayer"===i.dataType)){const e=(s=>{var e;const{filter:a,defaultValue:t}=s;if("featureClass"===(null==a?void 0:a.type)&&(null===(e=null==a?void 0:a.list)||void 0===e?void 0:e.length))return a.list;if(Array.isArray(t))return t.filter((s=>!!s.geometryType)).map((s=>s.geometryType));const i=null==t?void 0:t.geometryType;return i?[i]:[]})(i);return!e.length||e.includes(s)}return!(l!==a.DataLevel.DataSource||!t||"GPRasterDataLayer"!==i.dataType&&"GPMultiValue:GPRasterDataLayer"!==i.dataType)}))}),[l,g,C]);a.hooks.useUpdateEffect((()=>{if(L&&P){if(L.type===s.Standard){const s=`${window.location.protocol}//${window.location.host}${a.urlUtils.getFixedRootPath()}widgets/arcgis/analysis/`,e=`${L.toolName.toLowerCase()}${null==k?void 0:k.formatAnalysisEngineSuffix(L.analysisEngine)}`,t=`${s}dist/analysis-assets/arcgis-analysis-assets/assets/tool-json/${e}.tool.json`,i=`${s}dist/analysis-assets/arcgis-analysis-assets/assets/tool-ui-json/${e}.tool.ui.json`,r=`${s}dist/analysis-assets/arcgis-analysis-assets/assets/t9n/${e}/${e}.t9n.${P}.json`;Promise.all([fetch(t).then((s=>s.json())),fetch(i).then((s=>s.json())),fetch(r).then((s=>s.json()))]).then((([s,e,a])=>{var t;const i=s.parameters,r=e.UIparameters.map((s=>s.UIparameters||[])).flat(),n=null===(t=i.filter((s=>"esriGPParameterDirectionOutput"!==s.direction)))||void 0===t?void 0:t.map((s=>{const e=r.find((e=>e.name===s.name)),t=Object.assign(Object.assign({},e),s),i=_(t.label,a);return i&&(t.label=i),t}));O(n)}))}else L.type===s.Custom&&O(L.config.toolInfo.parameters);I(null)}}),[L,P]);const F=(s,e)=>{const a=s.dataType.startsWith("GPMultiValue");let t=Object.assign({},e);return"GPRasterDataLayer"!==s.dataType&&"GPMultiValue:GPRasterDataLayer"!==s.dataType||(t.inputType="layer"),a&&(t=[t]),t};return(0,a.jsx)(i.FloatingPanel,{open:x,headerTitle:R("_action_setAsAnalysisInput_label"),onHeaderClose:T,minSize:v,onResize:s=>{f(s)},dragBounds:"body",defaultSize:y,reference:r,toggle:(s,e)=>{"clickOutside"!==e&&T()}},(0,a.jsx)("div",{className:"h-100 p-4 d-flex",css:w},k&&(0,a.jsx)(j,{translate:R,analysisSharedUtils:k,toolList:A,selectedTool:L,onSelectedToolChange:s=>{const e=A.find((e=>e.id===s.target.value));M(e)},validParameters:E,selectedParameter:D,onSelectedParameterChange:s=>{const e=E.find((e=>e.name===s.target.value));I(e)}}),(0,a.jsx)("div",{className:"footer"},(0,a.jsx)(i.Button,{type:"primary",disabled:!L||!D,onClick:()=>m(void 0,void 0,void 0,(function*(){var s,e,i,r,d;const{records:_,fields:c,name:u}=o,y=!!g.url,f=l===a.DataLevel.DataSource,m=null===(s=g.getDataSourceJson())||void 0===s?void 0:s.isOutputFromWidget,p=a.MutableStoreManager.getInstance().readStateValue(n,"input")||{};let h;const v=g;if(f&&y&&!m){const{url:s}=v;h={url:s};const a=null===(i=null===(e=v.getCurrentQueryParams)||void 0===e?void 0:e.call(v))||void 0===i?void 0:i.where;a&&(h.filter=a)}else if(f)try{const s=yield v.createJSAPILayerByDataSource();h=yield k.getGPFeatureRecordSetLayerValue(s),y&&m&&(h.title=u)}catch(s){console.error("create feature set error",s)}else try{const s=yield t.featureUtils.convertDataRecordSetToFeatureSet({dataSource:g,records:_,fields:c,name:u}),e=g.getSchema(),i=(null==c?void 0:c.length)?c:Object.keys(null==e?void 0:e.fields)||[],n=g.getGeometryType(),o={name:`${e.label||g.getLabel()}${l===a.DataLevel.Records?" - Selection":""}`,type:n?"Feature Layer":"Table",geometryType:n,fields:i.map((s=>{const a=e.fields[s];return{name:a.name,type:a.esriType,alias:a.alias,format:a.format}})),objectIdField:e.idField,spatialReference:s.spatialReference},y=null===(d=(r=g).getCurrentQueryParams)||void 0===d?void 0:d.call(r);(null==y?void 0:y.where)&&(o.definitionExpression=y.where,o.defaultVisibility=!0),h={layerDefinition:o,featureSet:s}}catch(s){console.error("create feature set error",s)}a.MutableStoreManager.getInstance().updateStateValue(n,"toolId",L.id),a.MutableStoreManager.getInstance().updateStateValue(n,"input",Object.assign(Object.assign({},p),{[D.name]:F(D,h)})),T()}))},R("ok")),(0,a.jsx)(i.Button,{className:"ml-2",onClick:T},R("cancel")))))};var k=function(s,e,a,t){return new(a||(a=Promise))((function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a((function(s){s(e)}))).then(n,o)}l((t=t.apply(s,e||[])).next())}))};class P extends a.AbstractDataAction{isSupported(s,e){return k(this,void 0,void 0,(function*(){if(s.length>1)return!1;const i=s[0];if(p(i.dataSource))return!0;if(e===a.DataLevel.DataSource)return h(i.dataSource);const{dataSource:r,records:n,fields:o,name:l}=i;try{if((yield t.featureUtils.convertDataRecordSetToFeatureSet({dataSource:r,records:n,fields:o,name:l})).features.length)return!0}catch(s){return!1}}))}onExecute(s,e){const t=s[0];return this._version||(this._version=0,this._versionPrefix=Date.now()),Promise.resolve(a.React.createElement(S,{activeRef:document.querySelector(".active-data-action-item"),widgetId:this.widgetId,dataSet:t,dataLevel:e,version:`${this._versionPrefix}_${this._version++}`,intl:this.intl}))}}})(),z})())}}}));