{
  "toolName": "ZonalGeometryAsTable",
  "version": "0.1.0",
  "rules": [
    {
      "ruleType": "set",
      "value": "$[Component].inputZoneRasterOrFeatures.selectedLayers",
      "destination": "zoneField",
      "property": "mapLayer"
    },
    {
      "ruleType": "expression",
      "expression": "(($[Component].inputZoneRasterOrFeatures.selectedLayers.type.length > 0) AND (($[Component].inputZoneRasterOrFeatures.selectedLayers.type = 'imagery') OR ($[Component].inputZoneRasterOrFeatures.selectedLayers.type = 'imagery-tile'))) AND ($[Component].inputZoneRasterOrFeatures.processedLayerProperties.rasterInfo.attributeTable = NULL)",
      "destination": "zoneField",
      "effectParams": {
        "readOnly": true,
        "value": "Value"
      }
    },
    {
      "ruleType": "expression",
      "expression": "($[Component].inputZoneRasterOrFeatures.selectedLayers.type.length > 0) AND (($[Component].inputZoneRasterOrFeatures.selectedLayers.type = 'imagery') OR ($[Component].inputZoneRasterOrFeatures.selectedLayers.type = 'imagery-tile'))",
      "destination": "zoneField",
      "effectParams": {
        "fieldTypes": ["integer"]
      }
    }
  ],
  "environmentSettings": {
    "raster": ["snapRaster", "cellSize", "mask"]
  },
  "UIparameters": [
    {
      "label": "$inputLayersGroupLabel",
      "componentName": "analysis-block",
      "summaryText": "$inputLayerGroupText",
      "UIparameters": [
        {
          "name": "inputZoneRasterOrFeatures",
          "label": "$inputZoneRasterOrFeatures",
          "componentName": "analysis-layer-input",
          "required": true,
          "layerFilterType": ["feature", "imagery_integer"],
          "enableSketch": true
        },
        {
          "name": "zoneField",
          "label": "$zoneField",
          "componentName": "analysis-field-input",
          "required": true,
          "selectionMode": "single",
          "showFieldInfo": true,
          "useDefaultValue": true,
          "readOnly": false,
          "fieldTypes": ["oid", "integer"]
        }
      ]
    },
    {
      "label": "$zonalGeometrySettingGroupLabel",
      "componentName": "analysis-block",
      "summaryText": "$zonalGeometrySettingGroupText",
      "UIparameters": [
        {
          "name": "analysisCellSize",
          "label": "$analysisCellSizeLabel",
          "componentName": "analysis-gp-composite",
          "initialDataType": "GPLinearUnit",
          "UIparameterInfos": [
            {
              "name": "analysisCellSizeValue",
              "dataType": "GPLinearUnit",
              "label": "$value",
              "componentName": "analysis-linear-unit-input",
              "minimum": 0,
              "placeholderText": "$analysisCellSizeText",
              "choiceListLabels": {
                "FEET": "$feet",
                "MILES": "$miles",
                "KILOMETERS": "$kilometers",
                "METERS": "$meters"
              },
              "unitChoiceList": ["FEET", "MILES", "KILOMETERS", "METERS"],
              "required": false,
              "excludeMinValue": true
            }
          ]
        }
      ]
    },
    {
      "label": "$resultLayerGroupLabel",
      "layout": "vertical",
      "componentName": "analysis-block",
      "summaryText": "$resultTableGroupText",
      "UIparameters": [
        {
          "name": "outputTableName",
          "label": "$outputTableName",
          "placeholderText": "$outputNamePlaceholderText",
          "componentName": "analysis-string-input",
          "required": true
        },
        {
          "name": "saveResultIn",
          "label": "$saveResultIn",
          "componentName": "analysis-folder-input"
        }
      ]
    },
    {
      "name": "resultType",
      "label": "$resultType",
      "value": "FEATURE_LAYER",
      "visible": false
    }
  ]
}
