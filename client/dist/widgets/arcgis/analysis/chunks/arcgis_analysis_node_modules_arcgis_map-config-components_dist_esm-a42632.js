/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-a42632.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-a42632"],{10465:(e,t,r)=>{r.d(t,{D:()=>n,a:()=>d,b:()=>c,c:()=>s,g:()=>m,s:()=>$});class n{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const o=(e,t,r)=>(0,u(t).subscribe)((t=>{const n=t.some((t=>((e,t)=>{let r=e;for(;r;){if(r===t)return!0;if(!r.parentNode)return!1;r=r.parentNode instanceof ShadowRoot?r.parentNode.host:r.parentNode}return!1})(e,t.target)));n&&r()})),a={},u=e=>{const t=e.join(","),r=a[t];if(void 0!==r)return r;const n=new Set,o=new MutationObserver((e=>n.forEach((t=>t(e)))));globalThis.document&&o.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const u={subscribe:e=>(n.add(e),()=>{n.delete(e),0===n.size&&(o.disconnect(),a[t]=void 0)})};return a[t]=u,u},s=(e,t)=>{let r=e;for(;r;){const e=r.closest?.(t);if(e)return e;const n=r.getRootNode?.();if(n===globalThis.document)return null;r=n.host}return null},c=e=>l(e,"dir","ltr"),l=(e,t,r)=>{const n=s(e,`[${t}]`);return n?.getAttribute(t)??r},i=e=>{let t="";for(let r=0;r<e;r++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},d=()=>[i(2),i(1),i(1),i(1),i(3)].join("-"),f="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),p=new Set(f),h="en",y={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},g={},b=async(e,t)=>{const r=`${t}${e}.json`;try{const e=await fetch(r);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===h?{}:await b(h,t)},m=e=>{const t=l(e,"lang",globalThis.navigator?.language||h);return{lang:t,t9nLocale:w(t)}},w=e=>{const[t,r]=e.split("-"),n=t.toLowerCase();let o=n;return r&&(o=`${n}-${r.toUpperCase()}`),o=y[o]??o,p.has(o)?o:r?w(n):h},$=(e,t,r,n)=>{let a;const u=()=>x(e,t(),n).then((e=>{a?.lang===e.lang&&a.t9nLocale===e.t9nLocale&&a.t9nStrings===e.t9nStrings||r(e),a=e})).catch(console.error);return queueMicrotask(u),o(e,["lang"],u)},x=async(e,t,r=e.localName.split("-").slice(1).join("-"))=>{const{lang:n,t9nLocale:o}=m(e),a=`${t}/${r}/t9n`,u=null===r?{}:await(async(e,t,r="")=>{const n=`${t}/${r}`,o=`${n}${e}.json`;return g[o]??(g[o]=b(e,n)),await g[o]})(o,a,"messages.");return{lang:n,t9nLocale:o,t9nStrings:u}}},55376:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>s,c:()=>d,d:()=>a,e:()=>b,f:()=>g,g:()=>h,h:()=>y,l:()=>c,p:()=>f,s:()=>p});var n=r(89731);function o(e){return null!=e}const a=["bloom","dropShadow","blur","brightnessContrast","grayscale","hueRotate","saturate","invert","sepia"],u=["dropShadow_gray","strongDropShadow","dropShadow_transparency","dropShadow_blur","mutedBlur","mutedGray"],s=["bloom_gray","bloom_blur","bloom_transparency","mutedBlur","mutedGray"],c={bloom:{strength:2,radius:.75,threshold:.1},dropShadow:{line:{color:[0,0,0,255],xoffset:.75,yoffset:-.75,blurRadius:1.125},point:{color:[0,0,0,255],xoffset:1.125,yoffset:1.125,blurRadius:1.875},polygon:{color:[0,0,0,255],xoffset:1.125,yoffset:1.125,blurRadius:2.25}},blur:{radius:1.5},brightness:{amount:1.5},contrast:{amount:2},grayscale:{amount:1},hueRotate:{angle:100},saturate:{amount:1},invert:{amount:1},sepia:{amount:.7}},l=JSON.parse(JSON.stringify(c)),i=new Map;async function d(e,t,r){const n=Array.from(e.children).filter((e=>{if("calcite-list-item"===e.tagName.toLowerCase()){return e.querySelector("calcite-switch").checked}return!1})),a=await Promise.all(n.map((async e=>await async function(e,t,r){const n=e.value;switch(n){case"bloom":return await async function(e,t){const r=await e.callQuerySelectorAll("calcite-input");let n=w(r[0]),a=w(r[1]),u=w(r[2]);if(!o(n)||!o(a)||!o(u))return;n=Math.round(10*n)/10,a=$(Math.round(10*a)/10),u=Math.round(u),u/=100,l.bloom={strength:n,radius:a,threshold:u};const s=await e.callQuerySelector(".auto");if(s.checked){const{view:e}=t,r=e?.scale||1,o=2,s=1/o;return[{scale:.25*r,value:`bloom(${n*o}, ${a*o}pt, ${u})`},{scale:r,value:`bloom(${n}, ${a}pt, ${u})`},{scale:4*r,value:`bloom(${n*s}, ${a*s}pt, ${u})`}]}return`bloom(${n}, ${a}pt, ${u})`}(t.get(n),r);case"dropShadow":return await async function(e,t){const r=await e.callQuerySelector("calcite-color-picker"),n=function(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:Number.parseInt(t[1],16),g:Number.parseInt(t[2],16),b:Number.parseInt(t[3],16)}:null}(r.value),a=await e.callQuerySelectorAll("calcite-input");let u=w(a[0]),s=w(a[1]),c=w(a[2]),i=w(a[3]);if(!(o(r.value)&&o(u)&&o(s)&&o(c)&&o(i)))return;u=$(Math.round(u)),s=$(Math.round(s)),c=$(Math.round(-c)),i=Math.round(i),i/=100,l.dropShadow[y(t)]={color:[n.r,n.g,n.b,255*i],xoffset:s,yoffset:c,blurRadius:u};const d=`rgba(${n.r}, ${n.g}, ${n.b}, ${i})`,f=await e.callQuerySelector(".auto");if(f.checked){const{view:e}=t,r=e?.scale||1,n=2,o=1/n;return[{scale:.25*r,value:`drop-shadow(${s*n}pt ${c*n}pt ${u*n}pt ${d})`},{scale:r,value:`drop-shadow(${s}pt ${c}pt ${u}pt ${d})`},{scale:4*r,value:`drop-shadow(${s*o}pt ${c*o}pt ${u*o}pt ${d})`}]}return`drop-shadow(${s}pt ${c}pt ${u}pt ${d})`}(t.get(n),r);case"blur":return await async function(e){const t=await e.callQuerySelector("calcite-input");let r=w(t);if(!o(r))return;return r=$(Math.round(10*r)/10),l.blur={radius:r},`blur(${r}pt)`}(t.get(n));case"brightnessContrast":return await async function(e){const t=await e.callQuerySelectorAll("calcite-input");let r=w(t[0]),n=w(t[1]);if(!o(r)||!o(n))return;return r=Math.round(r)/100,n=Math.round(n)/100,l.brightness={amount:r},l.contrast={amount:n},`brightness(${r}) contrast(${n})`}(t.get(n));case"grayscale":return await async function(e){const t=await e.callQuerySelector("calcite-input");let r=w(t);if(!o(r))return;return r=Math.round(r)/100,l.grayscale={amount:r},`grayscale(${r})`}(t.get(n));case"hueRotate":return await async function(e){const t=await e.callQuerySelector("calcite-input");let r=w(t);if(!o(r))return;return r=Math.round(r),l.hueRotate={angle:r},`hue-rotate(${r}deg)`}(t.get(n));case"saturate":return await async function(e){const t=await e.callQuerySelector("calcite-input");let r=w(t);if(!o(r))return;return r=Math.round(r)/100,l.saturate={amount:r},`saturate(${r})`}(t.get(n));case"invert":return await async function(e){const t=await e.callQuerySelector("calcite-input");let r=w(t);if(!o(r))return;return r=Math.round(r)/100,l.invert={amount:r},`invert(${r})`}(t.get(n));case"sepia":return await async function(e){const t=await e.callQuerySelector("calcite-input");let r=w(t);if(!o(r))return;return r=Math.round(r)/100,l.sepia={amount:r},`sepia(${r})`}(t.get(n))}return}(e,t,r))));let u,s="",c="";return a.forEach((e=>{e&&"string"==typeof e?u?u.forEach((t=>{t.value+=c+e})):s+=c+e:e&&"object"==typeof e&&(u?u.forEach((t=>{Array.from(e).filter((e=>t.scale===e.scale)).forEach((e=>t.value+=c+e.value))})):(u=e,u.forEach((e=>{e.value=s+c+e.value})))),c=" "})),u||s}function f(e){const{layer:t,modules:r,supportsFeatureEffects:n}=e,o=t;if(o.effect&&o.featureEffect)throw new Error("unsupported effect");if(o.featureEffect&&!n)throw new Error("unsupported effect");if(o.effect){const e=o.effect;if("string"==typeof e)return r.effectsUtils.toJSON(e);if(3===e.length){if(function(e){const t=[e[0].value,e[1].value,e[2].value];return!a.some((e=>{if("brightnessContrast"===e){const e="brightness",r="contrast";return t[0].indexOf(e)>-1&&t[0].indexOf(r)>-1?-1===t[1].indexOf(e)||-1===t[2].indexOf(e)||-1===t[1].indexOf(r)||-1===t[2].indexOf(r):-1!==t[0].indexOf(e)||-1!==t[0].indexOf(r)||(t[1].indexOf(e)>-1||t[2].indexOf(e)>-1||t[1].indexOf(r)>-1||t[2].indexOf(r)>-1)}{const r=g(e);return t[0].indexOf(r)>-1?-1===t[1].indexOf(r)||-1===t[2].indexOf(r):t[1].indexOf(r)>-1||t[2].indexOf(r)>-1}}))}(e))return r.effectsUtils.toJSON(e[1].value);throw new Error("unsupported effect")}throw new Error("unsupported effect")}if(o.featureEffect){const e=o.featureEffect;if(!e.excludedLabelsVisible||e.includedEffect&&"string"!=typeof e.includedEffect||e.excludedEffect&&"string"!=typeof e.excludedEffect||e.filter?.geometry)throw new Error("unsupported effect");{const t=e.toJSON(),r=e.includedEffect?t.includedEffect:[],n=e.excludedEffect?t.excludedEffect:[];let o;for(const e of i.keys()){const t=i.get(e);if(m(t.included,r)&&m(t.excluded,n)){o=e;break}}return o}}return null}function p(e){const{effectsJSON:t}=e;if(!t)return;const r=t.map((e=>e.type));a.sort(((e,t)=>{const n=r.indexOf(g(e)),o=r.indexOf(g(t));return n>-1&&o>-1&&n<o?-1:n>-1&&o>-1&&n>o?1:n>-1?-1:o>-1?1:0}))}function h(e,t){const{effectsJSON:r}=t,n=r&&Array.from(r)?.filter((t=>t.type===g(e)))?.[0];if(!n){if("dropShadow"===e){const r=y(t);return l[e][r]}return l[e]}return n}function y(e){const{layer:t}=e;let r="point";const n=t;return"csv"===t.type?r="point":n.geometryType&&(r="polyline"===n.geometryType?"line":["point","multipoint"].includes(n.geometryType)?"point":"polygon"),r}function g(e){switch(e){case"dropShadow":return"drop-shadow";case"hueRotate":return"hue-rotate";case"brightnessContrast":return"brightness";default:return e}}function b(e,t,r){const{modules:n}=r,{FeatureEffect:o}=n,a=i.get(e);return o.fromJSON({filter:{where:t},includedEffect:a.included,excludedEffect:a.excluded,showExcludedLabels:!0})}function m(e,t){const r=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(t));if(r.length!==n.length)return!1;r.sort(((e,t)=>e.type.localeCompare(t.type))),n.sort(((e,t)=>e.type.localeCompare(t.type)));let o=!0;for(let e=0;e<r.length;e++){const t=r[e],a=n[e];if(Object.keys(t).length!==Object.keys(a).length){o=!1;break}if(o=Object.keys(t).every((e=>"string"==typeof t[e]&&"string"==typeof a[e]&&t[e]===a[e]||("number"==typeof t[e]&&"number"==typeof a[e]&&t[e]===a[e]||!(!t[e].length||t[e].length!==a[e].length||!t[e].every(((t,r)=>t===a[e][r])))))),!o)break}return o}function w(e){const t=Number(e.value);if(!o(t))return;const r=Math.min(e.max,Math.max(e.min,t));return e.value=`${r}`,r}function $(e){return Math.round(1e3*(0,n.p)(e))/1e3}i.set("dropShadow_gray",{included:[{type:"drop-shadow",color:[50,50,50,255],xoffset:1.5,yoffset:1.5,blurRadius:2.25}],excluded:[{type:"grayscale",amount:1},{type:"opacity",amount:.5}]}),i.set("strongDropShadow",{included:[{type:"drop-shadow",color:[0,0,0,255],xoffset:3,yoffset:3,blurRadius:3}],excluded:[]}),i.set("dropShadow_transparency",{included:[{type:"drop-shadow",color:[50,50,50,255],xoffset:1.5,yoffset:1.5,blurRadius:4.5}],excluded:[{type:"opacity",amount:.35}]}),i.set("dropShadow_blur",{included:[{type:"drop-shadow",color:[50,50,50,255],xoffset:1.5,yoffset:1.5,blurRadius:2.25}],excluded:[{type:"blur",radius:2.25},{type:"opacity",amount:.5}]}),i.set("bloom_gray",{included:[{type:"bloom",strength:1.3,radius:.6,threshold:0}],excluded:[{type:"grayscale",amount:1},{type:"opacity",amount:.5}]}),i.set("bloom_blur",{included:[{type:"bloom",strength:1.3,radius:.6,threshold:0}],excluded:[{type:"blur",radius:2.25},{type:"opacity",amount:.5}]}),i.set("bloom_transparency",{included:[{type:"bloom",strength:1.3,radius:.6,threshold:0}],excluded:[{type:"opacity",amount:.35}]}),i.set("mutedBlur",{included:[],excluded:[{type:"blur",radius:2.25},{type:"opacity",amount:.5}]}),i.set("mutedGray",{included:[],excluded:[{type:"grayscale",amount:1},{type:"opacity",amount:.5}]})},89731:(e,t,r)=>{r.d(t,{a:()=>o,p:()=>a});const n=96;function o(e){return e?e/72*n:0}function a(e){return e?72*e/n:0}}}]);