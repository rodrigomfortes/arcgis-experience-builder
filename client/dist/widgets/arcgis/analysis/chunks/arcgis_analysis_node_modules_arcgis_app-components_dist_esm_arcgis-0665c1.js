/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0665c1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0665c1"],{5324:(e,t,i)=>{i.r(t),i.d(t,{arcgis_group_thumbnail:()=>I,arcgis_item_actions:()=>O,arcgis_item_badge:()=>L,arcgis_item_badges:()=>M,arcgis_item_favorite:()=>z,arcgis_item_share_summary:()=>G,arcgis_item_thumbnail:()=>H,arcgis_selected:()=>N,arcgis_selected_item:()=>j,arcgis_sublayer_type:()=>E,arcgis_user_popup:()=>R,arcgis_user_popup_popover:()=>K});var r=i(87849),o=i(50637),n=i(87744),a=i(15332),s=i(59317),l=i(64099),c=i(4429),d=i(63649),u=i(19231),p=i(31544),h=i(36891),g=i(56462),m=i(81034),v=i(26854),f=i(63054),b=i(56175),y=i(66111);i(931),i(93814),i(37762),i(50822),i(15912),i(62261),i(66337),i(41976),i(90310),i(83929),i(68194),i(50020),i(44388),i(80030),i(43555),i(72257),i(86562),i(3826),i(95878),i(58857),i(32710),i(76246),i(24869),i(75294),i(38295),i(51102);const w=/^#[0-9A-F]{3}$/i,k=/^#[0-9A-F]{6}$/i;function x(e){return function(e){return e&&4===e.length&&w.test(e)}(e)||function(e){return e&&7===e.length&&k.test(e)}(e)}function C(e){return function(e){let{r:t,g:i,b:r}=e;t/=255,i/=255,r/=255;const o=Math.max(t,i,r),n=Math.min(t,i,r),a=o-n;if(o===n)return 0;let s=(o+n)/2;switch(o){case t:s=(i-r)/a+(i<r?6:0);break;case i:s=(r-t)/a+2;break;case r:s=(t-i)/a+4}return Math.round(60*s)}(function(e){if(!x(e))return null;if(3===(e=e.replace("#","")).length){const[t,i,r]=e.split("");return{r:parseInt(`${t}${t}`,16),g:parseInt(`${i}${i}`,16),b:parseInt(`${r}${r}`,16)}}return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}(e))}const I=class{constructor(e){(0,r.r)(this,e),this.openTooltip=()=>{this.tooltipElement&&(this.tooltipElement.open=!0)},this.closeTooltip=()=>{this.tooltipElement&&(this.tooltipElement.open=!1)},this.group=void 0,this.portal=void 0,this.tooltip=void 0,this.scale="m",this.error=!1}render(){const{group:e,error:t,openTooltip:i,closeTooltip:o}=this;if((null==e?void 0:e.thumbnail)&&!t)return(0,r.h)(r.H,null,(0,r.h)("img",{alt:"",class:"thumbnail",onError:()=>this.error=!0,ref:e=>this.thumbnailElement=e,src:this.getThumbnailURI(),onMouseLeave:o,onMouseEnter:i,onFocusout:o,onFocusin:i}),this.renderTooltip());const n=this.generateInitials(),a=this.generateFillColor();return(0,r.h)(r.H,null,(0,r.h)("span",{class:"background",ref:e=>this.thumbnailElement=e,style:{backgroundColor:a},onMouseLeave:o,onMouseEnter:i,onFocusout:o,onFocusin:i},n?(0,r.h)("span",{"aria-hidden":"true",class:"initials"},n):(0,r.h)("calcite-icon",{class:"icon",icon:"users",scale:"xl"===this.scale?"l":this.scale})),this.renderTooltip())}renderTooltip(){return this.tooltip?(0,r.h)("calcite-tooltip",{ref:e=>{e.referenceElement=this.thumbnailElement,this.tooltipElement=e},closeOnClick:!0,label:this.group.title,placement:"bottom-start",offsetDistance:6,offsetSkidding:0,class:"tooltip"},(0,r.h)("p",{class:"tooltip-text"},this.group.title)):null}getThumbnailURI(){const{group:e}=this;if(!(null==e?void 0:e.thumbnail))return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const t=(0,o.g)(this.portal),i=t?`?token=${t}`:"";return`${(0,n.g)(this.portal)}community/groups/${e.id}/info/${e.thumbnail}${i}`}generateFillColor(){const{group:{title:e,id:t},el:i}=this,r=(0,a.g)(i),o=`#${null==t?void 0:t.substr(t.length-6)}`,n=t&&x(o)?o:function(e){let t=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);let i="#";for(let e=0;e<3;e++)i+=("00"+(t>>8*e&255).toString(16)).substr(-2);return i}(e);if(!t&&!e||!x(n))return"var(--calcite-color-foreground-2)";return`hsl(${C(n)}, 60%, ${"dark"===r?20:90}%)`}generateInitials(){var e,t;const i=null===(t=null===(e=this.group)||void 0===e?void 0:e.title)||void 0===t?void 0:t.trim().charAt(0);return!!(null==i?void 0:i.match(/^\w+$/))&&i}get el(){return(0,r.a)(this)}};I.style=":host{display:inline-block}:host([scale=s]){height:1.5rem;width:1.5rem;font-size:0.625rem}:host([scale=m]){height:2rem;width:2rem;font-size:0.75rem}:host([scale=l]){font-size:1rem;height:2.75rem;width:2.75rem}:host([scale=xl]){font-size:1.25rem;height:4rem;width:4rem}.icon{display:flex;color:var(--calcite-color-text-3)}.background{position:relative;display:flex;height:100%;width:100%;align-items:center;justify-content:center}.initials{position:absolute;font-weight:700;text-transform:uppercase;color:var(--calcite-color-text-2)}.thumbnail{height:100%;width:100%}.tooltip-text{margin:0px;padding:0px;font-size:0.75rem;color:var(--calcite-color-text-2)}calcite-tooltip{pointer-events:none}";let _=[],P=[];const T=(0,c.f)((async(e,t)=>{var i;const r=[..._],a=[...P];_=[],P=[];const s=`(group:${S(t)} AND id:(${r.join(" OR ")}))`,l=await(0,o.r)(`${(0,n.g)(e)}search`,{num:100,q:s}),c=null===(i=null==l?void 0:l.results)||void 0===i?void 0:i.map((e=>e.id));a.forEach((({id:e,resolve:t})=>{t(c.includes(e))}))}),300);function S(e){var t,i;return null!==(t=e.favGroupId)&&void 0!==t?t:null===(i=e.sourceJSON)||void 0===i?void 0:i.favGroupId}async function $(e,t,i){if(!i)return!1;const r=new Promise((t=>{P.push({id:e,resolve:t})}));return _.includes(e)||_.push(e),T(t,i),r}function U(e){return F(e,!0)}function A(e){return F(e,!1)}function F({item:e,portal:t,user:i},r){const{access:a,id:s}=e,l=`${(0,n.g)(t)}content/items/${s}/${r?"share":"unshare"}`,c={everyone:"public"===a,org:"org"===a,groups:S(i),items:s};return(0,o.r)(l,c,{},"post")}const O=class{constructor(e){(0,r.r)(this,e),this.arcgisItemActionClick=(0,r.c)(this,"arcgisItemActionClick",7),this.arcgisItemActionsOpen=(0,r.c)(this,"arcgisItemActionsOpen",7),this.arcgisItemFavoriteUpdate=(0,r.c)(this,"arcgisItemFavoriteUpdate",7),this.arcgisItemActions=(0,r.c)(this,"arcgisItemActions",7),this.toggleFavorite=async()=>{const{user:e,portal:t,item:i,isFavorite:r}=this,o={user:e,portal:t,item:i};await(r?A(o):U(o)),await(0,c.t)(300),this.isFavorite=!r,this.arcgisItemFavoriteUpdate.emit({id:i.id,favorite:this.isFavorite})},this.handleActionClick=({id:e,text:t,action:i})=>async r=>{this.arcgisItemActionClick.emit(e||t),i&&(r.preventDefault(),i())},this.item=void 0,this.portal=void 0,this.user=void 0,this.actions=void 0,this.keyHandler=void 0,this.label=void 0,this.showFavorite=void 0,this.showPreview=void 0,this.previewText=void 0,this.tabIndexOverride=void 0,this.isFavorite=void 0}async setFocus(){var e;null===(e=this.ellipsis)||void 0===e||e.setFocus()}updateFavorite(e){const{id:t,favorite:i}=e.detail;t===this.item.id&&(this.isFavorite=i)}async componentWillLoad(){var e,t;const{el:i,item:r,portal:o,user:n}=this,a=await(0,l.g)(i,"arcgis-item-favorite");this.i18n=a[0],r&&n&&o&&(this.isFavorite=await $(r.id,o,n)),this.portal=null!==(e=this.portal)&&void 0!==e?e:s.c.portal,this.user=null!==(t=this.user)&&void 0!==t?t:s.c.user}render(){const{label:e,actions:t,i18n:i,isFavorite:o}=this;return t||this.showFavorite?(0,r.h)(r.H,null,(0,r.h)("calcite-dropdown",{placement:"bottom-end",closeOnSelectDisabled:!0,ref:e=>{this.dropdown=e}},(0,r.h)("calcite-action",Object.assign({ref:e=>this.ellipsis=e,scale:"s",slot:"trigger",alignment:"center",appearance:"solid",text:e,textEnabled:!1,icon:"ellipsis",onClick:e=>{this.arcgisItemActionsOpen.emit({el:e.target})}},this.keyHandler?{onKeyDown:e=>{var t;return this.keyHandler(e,null===(t=this.dropdown)||void 0===t?void 0:t.open)}}:{})),(0,r.h)("calcite-dropdown-group",{selectionMode:"none",onKeyDown:e=>{e.stopPropagation()}},null==t?void 0:t.map((e=>(0,r.h)("calcite-dropdown-item",Object.assign({onCalciteDropdownItemSelect:this.handleActionClick(e),onClick:this.handleActionClick(e),key:e.text},e.link?Object.assign(Object.assign({},e.newTab?{target:"_blank",rel:"noopener noreferrer"}:{}),{href:e.link}):{},{innerHTML:e.text})))),Boolean(this.showFavorite&&this.user)&&(0,r.h)("calcite-dropdown-item",{onCalciteDropdownItemSelect:this.toggleFavorite,key:"favorites",onClick:e=>{e.preventDefault(),e.stopPropagation()}},o?i.remove:i.add),Boolean(this.showPreview)&&(0,r.h)("calcite-dropdown-item",{key:"preview",id:"item-preview",onCalciteDropdownItemSelect:()=>{this.arcgisItemActionClick.emit("preview")}},this.previewText)))):null}get el(){return(0,r.a)(this)}};const D={Authoritative:{icon:"check-circle"},Deprecated:{icon:"circle-disallowed"},Marketplace:{icon:"marketplace"},Retired:{icon:"exclamation-mark-triangle"},"Public Data Collection":{icon:"pencil"},Subscriber:{icon:"security"},Premium:{icon:"shield-coin"},Collaboration:{icon:"collaboration-distributed"},Registered:{icon:"key"},"Living Atlas":{image:function(){return(0,r.h)("svg",{viewBox:"0 0 16 16",fill:"currentColor"},(0,r.h)("path",{d:"M2.7 9c-.4-1.3-.2-2.8.4-4s1.7-2.2 3-2.6c.4.4.8.9 1.1 1.2h.2l.1-.1v-.1C7.2 2.4 6.8.2 6.3 0c-.1 0-.2-.1-.4-.1-.1.1-.2.1-.4.2-.1 0-.2.1-.3.2 0 .2-.1.3-.1.4 0 .2.1.5.4.8-1.4.6-2.6 1.7-3.3 3-.7 1.4-.9 3-.5 4.5h1z"}),(0,r.h)("path",{d:"M14 5c-.5-1.2-1.3-2.2-2.4-2.9S9.3 1 8 1h-.1c.1.3.2.6.3 1 1.2 0 2.4.5 3.3 1.2.9.8 1.5 1.8 1.8 3-3.4 4-10.1 4-12.2 3.9H1v.2l1.2.3c.5 1 1.3 1.8 2.2 2.4.9.6 2 .9 3 1v1h-2v1h5v-1h-2v-1c.9-.1 1.7-.3 2.5-.7.8-.4 1.5-1 2-1.6.6-.7 1-1.5 1.2-2.3.2-.8.3-1.7.2-2.6.7-.8.8-1.5-.3-1.8zm-6 8c-.9 0-1.7-.2-2.5-.6-.8-.4-1.4-.9-1.9-1.6 1.8.2 3.6 0 5.3-.5 1.7-.5 3.3-1.4 4.6-2.5-.1 1.4-.7 2.8-1.7 3.7-1 .9-2.4 1.5-3.8 1.5z"}))}},"Open Data":{image:function(){return(0,r.h)("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M6 0C2.58 0 0 1.29 0 3C0 4.71 2.58 6 6 6C7.76001 6.08843 9.5049 5.6358 11 4.703V10.037C11 10.1696 11.0527 10.2968 11.1464 10.3906C11.2402 10.4843 11.3674 10.537 11.5 10.537C11.6326 10.537 11.7598 10.4843 11.8536 10.3906C11.9473 10.2968 12 10.1696 12 10.037V3C12 1.29 9.42 0 6 0ZM6 5C3.138 5 1 3.944 1 3C1 2.056 3.138 1 6 1C8.862 1 11 2.056 11 3C11 3.944 8.862 5 6 5ZM11.5 11.5C11.3674 11.5 11.2402 11.5527 11.1464 11.6464C11.0527 11.7402 11 11.8674 11 12V12.064C11 12.96 8.816 14 6 14C3.184 14 1 12.96 1 12.064V7.85C2.5767 8.53314 4.28202 8.86875 6 8.834C6.13261 8.834 6.25979 8.78132 6.35355 8.68755C6.44732 8.59379 6.5 8.46661 6.5 8.334C6.5 8.20139 6.44732 8.07421 6.35355 7.98045C6.25979 7.88668 6.13261 7.834 6 7.834C4.1944 7.89821 2.40441 7.4791 0.815 6.62C0.749152 6.56222 0.668856 6.5234 0.582675 6.50767C0.496494 6.49194 0.40766 6.4999 0.325646 6.53069C0.243632 6.56148 0.171514 6.61396 0.116982 6.68252C0.0624495 6.75108 0.0275483 6.83316 0.016 6.92C0.014 6.933 0.0100001 6.945 0.00900006 6.957C0.00700006 6.972 0 6.985 0 7V12.064C0 13.902 3.05 15 6 15C8.95 15 12 13.902 12 12.064V12C12 11.8674 11.9473 11.7402 11.8536 11.6464C11.7598 11.5527 11.6326 11.5 11.5 11.5Z",fill:"currentColor"}))}},Solution:{image:function(){return(0,r.h)("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{d:"M14.9815 2.83602C14.9814 2.62597 14.8979 2.42454 14.7494 2.27596C14.6009 2.12738 14.3996 2.04379 14.1895 2.04352H11.5525C11.5402 2.04359 11.528 2.04122 11.5166 2.03655C11.5052 2.03188 11.4948 2.025 11.4861 2.01632C11.4773 2.00763 11.4704 1.9973 11.4657 1.98592C11.461 1.97454 11.4585 1.96234 11.4585 1.95002V0.988524C11.4571 0.85421 11.4287 0.721556 11.3749 0.598477C11.3211 0.475399 11.243 0.364419 11.1454 0.272161C11.0478 0.179903 10.9326 0.108259 10.8067 0.0615025C10.6807 0.0147464 10.5467 -0.00616255 10.4125 2.35228e-05H5.57652C5.29905 0.000288282 5.03302 0.110629 4.83682 0.306829C4.64062 0.503028 4.53028 0.769056 4.53002 1.04652V1.95002C4.53002 1.97482 4.52017 1.9986 4.50263 2.01614C4.4851 2.03367 4.46132 2.04352 4.43652 2.04352H1.79902C1.58896 2.04379 1.38759 2.12738 1.23911 2.27596C1.09062 2.42454 1.00715 2.62597 1.00702 2.83602V4.84402C1.00715 4.8812 1.02201 4.91681 1.04835 4.94305C1.07468 4.96929 1.11034 4.98402 1.14752 4.98402H2.45002L2.45702 4.97752V3.57652C2.45702 3.55305 2.46634 3.53054 2.48294 3.51394C2.49954 3.49735 2.52205 3.48802 2.54552 3.48802H13.2755C13.3349 3.48893 13.3915 3.51294 13.4334 3.55496C13.4754 3.59697 13.4992 3.65368 13.5 3.71302V10.584C13.5 10.7043 13.4763 10.8234 13.4303 10.9346C13.3843 11.0457 13.3168 11.1467 13.2317 11.2317C13.1467 11.3168 13.0457 11.3843 12.9346 11.4303C12.8234 11.4763 12.7043 11.5 12.584 11.5H8.13802C8.07976 11.5001 8.02289 11.4822 7.97513 11.4488C7.92737 11.4155 7.89102 11.3682 7.87102 11.3135C7.72621 10.9132 7.45683 10.5698 7.10244 10.3339C6.74805 10.0979 6.32734 9.98189 5.90211 10.0028C5.47688 10.0236 5.06956 10.1803 4.73997 10.4498C4.41039 10.7193 4.17592 11.0874 4.07102 11.5H2.82852C2.72813 11.5 2.63186 11.4601 2.56088 11.3892C2.4899 11.3182 2.45002 11.2219 2.45002 11.1215V9.59402C2.45002 9.56927 2.44025 9.54551 2.42284 9.52791C2.40543 9.51031 2.38178 9.50029 2.35702 9.50002H1.01402L1.00702 9.50702V11.797C1.00755 12.108 1.13137 12.4062 1.35134 12.6261C1.57132 12.8459 1.8695 12.9696 2.18052 12.97H4.26102C4.42562 13.2708 4.66545 13.5237 4.95706 13.704C5.24867 13.8844 5.58208 13.9859 5.9247 13.9988C6.26732 14.0117 6.60742 13.9355 6.91176 13.7776C7.21611 13.6197 7.47427 13.3856 7.66102 13.098C7.68692 13.0587 7.72218 13.0264 7.76363 13.0041C7.80508 12.9817 7.85143 12.97 7.89852 12.97H13.931C14.2096 12.9699 14.4767 12.8592 14.6737 12.6622C14.8707 12.4652 14.9814 12.1981 14.9815 11.9195V2.83602ZM10.5 1.81252C10.5 1.86225 10.4803 1.90994 10.4451 1.94511C10.4099 1.98027 10.3622 2.00002 10.3125 2.00002H5.68752C5.63779 2.00002 5.5901 1.98027 5.55494 1.94511C5.51977 1.90994 5.50002 1.86225 5.50002 1.81252V1.22502C5.5008 1.16559 5.52475 1.10881 5.56678 1.06678C5.60881 1.02476 5.66559 1.0008 5.72502 1.00002H10.275C10.3345 1.0008 10.3912 1.02476 10.4333 1.06678C10.4753 1.10881 10.4992 1.16559 10.5 1.22502V1.81252ZM6.00002 13C5.80224 13 5.6089 12.9414 5.44445 12.8315C5.28 12.7216 5.15183 12.5654 5.07614 12.3827C5.00045 12.2 4.98065 11.9989 5.01923 11.8049C5.05782 11.611 5.15306 11.4328 5.29291 11.2929C5.43277 11.1531 5.61095 11.0578 5.80493 11.0192C5.99891 10.9807 6.19998 11.0005 6.3827 11.0761C6.56543 11.1518 6.72161 11.28 6.83149 11.4445C6.94137 11.6089 7.00002 11.8022 7.00002 12C7.00002 12.2652 6.89466 12.5196 6.70713 12.7071C6.51959 12.8947 6.26524 13 6.00002 13Z",fill:"currentColor"}),(0,r.h)("path",{d:"M6.6365 7.99698C6.68419 7.99703 6.73111 8.00905 6.77295 8.03194C6.8148 8.05483 6.85023 8.08785 6.876 8.12798C7.04796 8.40157 7.28805 8.62578 7.57274 8.77864C7.85743 8.93151 8.17696 9.00778 8.5 8.99998C8.84896 9.00826 9.19327 8.91871 9.49397 8.74145C9.79468 8.56419 10.0398 8.30631 10.2015 7.99698H11.9065C11.9313 7.99685 11.9551 7.98689 11.9726 7.96927C11.9902 7.95166 12 7.92783 12 7.90298V6.60848C12.0001 6.59612 11.9977 6.58387 11.993 6.57243C11.9883 6.561 11.9814 6.55061 11.9726 6.54187C11.9639 6.53312 11.9535 6.5262 11.9421 6.5215C11.9306 6.5168 11.9184 6.51442 11.906 6.51448H10.4C10.31 6.07987 10.0708 5.69047 9.72373 5.41383C9.37667 5.13719 8.94373 4.99077 8.5 4.99998C8.09556 5.01149 7.70379 5.14365 7.37503 5.37948C7.04627 5.61532 6.79552 5.94406 6.655 6.32348C6.63575 6.37938 6.59953 6.42787 6.55139 6.4622C6.50326 6.49653 6.44562 6.51498 6.3865 6.51498H0.5465C0.534208 6.51511 0.522456 6.52005 0.513763 6.52875C0.505071 6.53744 0.50013 6.54919 0.5 6.56148V7.94998C0.5 7.96245 0.504952 7.9744 0.513766 7.98322C0.52258 7.99203 0.534535 7.99698 0.547 7.99698H6.6365ZM8.5 5.94998C8.70767 5.94998 8.91068 6.01156 9.08335 6.12694C9.25602 6.24231 9.3906 6.4063 9.47007 6.59816C9.54955 6.79003 9.57034 7.00115 9.52982 7.20483C9.48931 7.40851 9.38931 7.5956 9.24246 7.74244C9.09562 7.88929 8.90852 7.98929 8.70484 8.02981C8.50116 8.07032 8.29005 8.04953 8.09818 7.97006C7.90632 7.89058 7.74233 7.756 7.62696 7.58333C7.51158 7.41066 7.45 7.20765 7.45 6.99998C7.45 6.72151 7.56062 6.45443 7.75754 6.25752C7.95445 6.06061 8.22152 5.94998 8.5 5.94998Z",fill:"currentColor"}))}},"Registered API Key Credentials (Personal)":{icon:"key"},"Registered API Key Credentials (Standard)":{icon:"key"},"Registered OAuth 2.0 Credentials (Personal)":{icon:"app-gear"},"Registered OAuth 2.0 Credentials (Standard)":{icon:"app-gear"},"Personal credential":{icon:"user-key"}},L=class{constructor(e){(0,r.r)(this,e),this.openTooltip=()=>{this.tooltipOpen=!0},this.closeTooltip=async()=>{await(0,c.t)(200),this.tooltipOpen=!1,this.tooltip=null},this.portal=void 0,this.user=void 0,this.badgeType=void 0,this.item=void 0,this.width="full",this.scale="m",this.showTooltip=!0,this.loading=!0,this.tooltipText="",this.tooltipOpen=void 0,this.title=void 0}async componentWillLoad(){const e=await(0,l.g)(this.el);this.i18n=e[0],this.lang=e[1],this.updateTooltip(this.portal)}updateTooltip(e){const{badgeType:t,i18n:i,item:r}=this;this.title=(0,d.b)({badgeType:t,i18n:i,portal:e,item:r}),e&&this.updateTooltipText()}async updateTooltipText(){const{badgeType:e,item:t,i18n:i,lang:r,user:o,portal:n}=this;this.tooltipText=await(0,d.c)({badgeType:e,item:t,portal:n,user:o,i18n:i,locale:r}),this.loading=!1}renderImage(e){return e?(0,r.h)("span",{slot:"image",class:{image:!0,[`image-${this.scale}`]:!0}},e()):null}render(){const{badgeType:e,width:t,loading:i,tooltipText:o,scale:n,showTooltip:a,title:s}=this,{icon:l,image:c}=D[this.badgeType],d="narrow"===t,u={badge:!0,authoritative:"Authoritative"===e,deprecated:"Deprecated"===e,narrow:d,[`narrow--${n}`]:d};return(0,r.h)(r.H,{key:"a2e643565d6b7139214de4e4ec533c44d5924138"},(0,r.h)("div",Object.assign({key:"217e67a026b10659bf9d1feb5c6c243bbfbe383d",class:"wrapper"},a?{onMouseLeave:this.closeTooltip,onMouseEnter:this.openTooltip,onFocusout:this.closeTooltip,onFocusin:this.openTooltip}:{}),d?(0,r.h)("calcite-chip",Object.assign({label:s,class:u,value:e},l?{icon:l}:{},a?{tabIndex:0}:{},{ref:e=>this.chip=e,scale:n}),c&&this.renderImage(c)):(0,r.h)("calcite-chip",Object.assign({label:s,class:u,value:e},l?{icon:l}:{},a?{tabIndex:0}:{},{ref:e=>this.chip=e,scale:n}),c&&this.renderImage(c),s),this.tooltipOpen&&this.showTooltip&&this.tooltipText&&(0,r.h)("arcgis-tunnel",{key:"424772816a0e45272b28c5f98cee1ce36aaa40f3",reference:this.el},(0,r.h)("calcite-tooltip",{key:"a7e71322cf349072fc49787560d9d8985131d774",ref:e=>{e&&(e.referenceElement=this.chip,this.tooltip||(this.tooltip=e,this.tooltip.open=!0))},closeOnClick:!0,placement:"bottom-start",offsetDistance:6,offsetSkidding:0,style:{pointerEvents:"none"}},d&&!i&&s&&(0,r.h)("h3",{key:"899007fb68eec19983513d0817516a189f463117",class:"tooltip__title",style:{fontSize:"var(--calcite-font-size--1)",color:"var(--calcite-color-text-1)",margin:"0 0 .25rem 0",padding:"0"}},s),(0,r.h)("p",{key:"c60904c020cd0af3b8359f60e4802870b32ccc9a",class:"tooltip__text",style:{fontSize:"var(--calcite-font-size--2)",color:"var(--calcite-color-text-1)",margin:"0",padding:"0"}},(0,r.h)("calcite-loader",{key:"615499a793ad0b7647cf06b0266729470f737b1c",hidden:!i,label:this.i18n.loading,inline:!0,scale:"s"}),i?this.i18n.loading:o)))))}get el(){return(0,r.a)(this)}static get watchers(){return{portal:["updateTooltip"]}}};L.style=".badge{--calcite-color-foreground-2:var(--arcgis-item-badge-info-background);--calcite-color-text-1:var(--arcgis-item-badge-info-foreground);--calcite-ui-icon-color:var(--arcgis-item-badge-info-foreground);display:inline-block;border-width:0px}.authoritative{--calcite-color-foreground-2:var(--arcgis-item-badge-success-background);--calcite-color-text-1:var(--arcgis-item-badge-success-foreground);--calcite-ui-icon-color:var(--arcgis-item-badge-success-foreground)}.deprecated{--calcite-color-foreground-2:var(--arcgis-item-badge-danger-background);--calcite-color-text-1:var(--arcgis-item-badge-danger-foreground);--calcite-ui-icon-color:var(--arcgis-item-badge-danger-foreground)}.image{align-items:center;justify-content:flex-end;border-radius:0}.narrow{box-sizing:border-box;width:2rem;--calcite-chip-spacing-unit-l:0}.narrow .image{justify-content:center}.wrapper{display:flex;align-items:center}.icon{margin-top:0.25rem;margin-inline-start:0.375rem}.image svg{height:1rem;width:1rem;color:var(--calcite-ui-icon-color)}.image-l svg{height:1.5rem;width:1.5rem}.narrow--s{width:1.5rem}.narrow--s .icon{margin:0.25rem}.narrow--s .image{margin-inline-start:0px}.narrow--m .icon{margin:0.3125rem 0.5rem}.narrow--m .image{margin-inline-start:0px}.narrow--l{width:2.75rem}.narrow--l .icon{margin:0.5rem 0.8rem}.narrow--l .image{margin-inline-end:0.25rem}";const M=class{constructor(e){(0,r.r)(this,e),this.item=void 0,this.portal=void 0,this.user=void 0,this.api=void 0,this.width="full",this.showTooltips=!1,this.empty=!1,this.scale="m",this.badges=[]}componentWillLoad(){this.item&&this.updateBadges(this.item),this.api&&(s.c.api=this.api)}updateBadges(e){var t;this.badges=(0,d.a)(e,this.portal,this.user),(null===(t=this.badges)||void 0===t?void 0:t.length)||(this.empty=!0)}render(){const{item:e,width:t,scale:i,badges:o,user:n,portal:a,showTooltips:s}=this;return(0,r.h)(r.H,{key:"7aed32f1fa420ea08a5df2f222dc1e6913cd25a9"},o.map((o=>(0,r.h)("arcgis-item-badge",{class:"badge",item:e,portal:a,user:n,badgeType:o,width:t,scale:i,showTooltip:s}))))}get el(){return(0,r.a)(this)}static get watchers(){return{item:["updateBadges"]}}};M.style=":host{display:flex;align-items:center}.badge{display:inline-block;margin-inline-end:0.25rem}.badge:last-of-type{margin-inline-end:0px}";const z=class{constructor(e){(0,r.r)(this,e),this.arcgisItemFavoriteUpdate=(0,r.c)(this,"arcgisItemFavoriteUpdate",7),this.item=void 0,this.portal=void 0,this.user=void 0,this.width="full",this.iconOnly=!1,this.scale="m",this.showTooltip=void 0,this.isFavorite=void 0}async setFocus(){var e;null===(e=this.button)||void 0===e||e.setFocus()}updateFavorite(e){const{id:t,favorite:i}=e.detail;t===this.item.id&&(this.isFavorite=i)}async componentWillLoad(){const{el:e,item:t,portal:i,user:r}=this,o=await(0,l.g)(e);this.i18n=o[0],this.isFavorite=await $(t.id,i,r)}async toggleFavorite(){const{user:e,portal:t,item:i,isFavorite:r}=this;this.isFavorite=!r;const o={user:e,portal:t,item:i};await(r?A(o):U(o)),this.arcgisItemFavoriteUpdate.emit({id:i.id,favorite:this.isFavorite})}render(){const{i18n:e,isFavorite:t,width:i,scale:o,iconOnly:n}=this,a=t?e.remove:e.add;return(0,r.h)(r.H,{key:"8f3670256608c1dc5d00f014479b8eaaabeb2736"},(0,r.h)("calcite-button",Object.assign({key:"6ef0d797316c924465517fc610c9ed36afa94e0a",width:n?"auto":i,scale:o,appearance:n?"transparent":"outline-fill",kind:"neutral",iconStart:t?"star-f":"star",onClick:()=>{this.toggleFavorite()},ref:e=>this.button=e},n?{ariaLabel:a}:{}),!n&&a),this.showTooltip&&(0,r.h)("calcite-tooltip",{key:"db6c33041d91031612e7d17319b83ad88ed33146",ref:e=>{e.referenceElement=this.button}},t?e.remove:e.add))}get el(){return(0,r.a)(this)}},G=class{constructor(e){(0,r.r)(this,e),this.loadGroupData=async()=>{var e;const t=await(0,u.g)(this.item,this.portal,this.userGroups),i=await(0,u.a)((null===(e=null==t?void 0:t.result)||void 0===e?void 0:e.length)?t.result:this.groups,this.portal);this.groupData=i.result},this.updateTooltipRef=()=>{this.tooltip&&(this.tooltip.referenceElement=this.wrapper)},this.item=void 0,this.portal=void 0,this.config=void 0,this.groups=void 0,this.userGroups=void 0,this.showText=!0,this.showHoverText=void 0,this.user=void 0,this.scale="m",this.overlayPositioning="absolute",this.isSharing=!1,this.sharingActive=!1,this.groupData=void 0}async setFocus(){var e;null===(e=this.wrapper)||void 0===e||e.focus()}async componentWillLoad(){const{el:e}=this,t=await(0,l.g)(e);this.i18n=t[0]}getIcon(e){return{private:"user",shared:"user",org:"organization",public:"globe"}[e]||"globe"}getFormattedStrings(){const{item:e,i18n:t,groups:i}=this;if(!(null==i?void 0:i.length))return{tooltip:t[e.access],tooltipNoCount:t[e.access],access:t[e.access],groups:"shared"===e.access?t.shared:""};const r=`${(null==i?void 0:i.length)||0}`;return{access:"shared"===e.access?t.private:t[e.access],tooltipNoCount:t[`${e.access}Groups`].replace("(${num})",""),tooltip:t[`${e.access}Groups`].replace("${num}",r),groups:t.groups.replace("${num}",r)}}renderIcons(e,t){const{item:i,showText:o}=this;return(0,r.h)(r.F,null,(0,r.h)("calcite-icon",{class:"icon",icon:this.getIcon(i.access),scale:"s",key:"access"}),o&&t!==e&&(0,r.h)("span",{class:"text"},e),t&&(0,r.h)(r.F,null,(0,r.h)("calcite-icon",{class:"icon",icon:"plus",scale:"s"}),(0,r.h)("calcite-icon",{class:"icon",icon:"group",scale:"s"}),o&&(0,r.h)("span",{class:"text"},t)))}getAccessInfo(e){const t={public:this.i18n.everyone,private:this.i18n.groupMembers,org:this.i18n.organization};return t[e]||t.private}renderGroupData(){var e,t;const i=(null===(e=this.groupData)||void 0===e?void 0:e.length)||(null===(t=this.groups)||void 0===t?void 0:t.length)||0;return(0,r.h)(r.F,null,(0,r.h)("h4",{class:"tooltip__section-header"},this.i18n.groups.replace("${num}",`${i}`)),(0,r.h)("div",{class:"tooltip__section"},(0,r.h)("ul",{class:"tooltip__groups "},this.groupData.map((e=>(0,r.h)("li",{class:"tooltip__group"},(0,r.h)("arcgis-group-thumbnail",{group:e,key:e.id,class:"tooltip__group__avatar"}),(0,r.h)("div",{class:"tooltip__group__text"},(0,r.h)("h5",{class:"tooltip__group__title"},e.title),(0,r.h)("p",{class:"tooltip__group__description"},this.i18n.viewableBy.replace("${level}",this.getAccessInfo(e.access))))))))))}renderTooltip(){var e,t;const i=this.getFormattedStrings(),o=(null===(e=this.groupData)||void 0===e?void 0:e.length)?i.tooltipNoCount:i.tooltip;return(0,r.h)(r.F,null,(0,r.h)("h4",{class:"tooltip__section-header"},this.i18n.sharing),(0,r.h)("div",{class:"tooltip__section"},(0,r.h)("p",{class:"tooltip_status"},o)),(null===(t=this.groupData)||void 0===t?void 0:t.length)?this.renderGroupData():null)}render(){const{showText:e,showHoverText:t}=this,{access:i,groups:o}=this.getFormattedStrings();return(0,r.h)(r.H,{key:"6c4dc9ed1c95f79023384eaf651fe2fd9c35c0f8"},(0,r.h)("div",{key:"68b7951ac2e2fdb34f8f17f0ab4406ba28611979",class:"wrapper",ref:e=>{this.wrapper=e,this.updateTooltipRef()}},this.renderIcons(i,o)),(null!=t?t:!e)&&(0,r.h)("calcite-tooltip",{key:"ed9b8c2c6140e8a3093f76802b7ff6f800ddcd72",ref:e=>{this.tooltip=e,this.wrapper&&(e.referenceElement=this.wrapper)},closeOnClick:!0,placement:"bottom-start",offsetDistance:6,offsetSkidding:0,onCalciteTooltipBeforeOpen:()=>{var e,t;const i=null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector("div");i&&i.style.setProperty("--calcite-color-foreground-1","var(--calcite-color-background)"),this.loadGroupData()},overlayPositioning:this.overlayPositioning,style:{"--calcite-tooltip-z-index":"calc(var(--calcite-z-index-overlay) + 1)"}},(0,r.h)("div",{key:"fadeae2083ffa194e6cb6fe6a9fc0471520a6bb1",class:"tooltip"},this.groupData?this.renderTooltip():(0,r.h)("calcite-loader",{label:"",scale:"s",style:{"--calcite-loader-padding":"2rem"}}))))}get el(){return(0,r.a)(this)}};G.style=":host{display:inline-flex;align-items:center;justify-content:center;min-width:var(--arcgis-item-share-summary-spacing)}:host([scale=s]){--arcgis-item-share-summary-text-size:0.75rem;--arcgis-item-share-summary-spacing:1rem;--arcgis-item-share-summary-padding:3px}:host([scale=s][show-text]){--arcgis-item-share-summary-padding:3px 8px}:host([scale=m]){--arcgis-item-share-summary-text-size:0.875rem;--arcgis-item-share-summary-spacing:1rem;--arcgis-item-share-summary-padding:7px}:host([scale=m][show-text]){--arcgis-item-share-summary-padding:7px 12px}:host([scale=l]){--arcgis-item-share-summary-text-size:1rem;--arcgis-item-share-summary-spacing:1rem;--arcgis-item-share-summary-padding:9px}:host([scale=l][show-text]){--arcgis-item-share-summary-padding:9px 16px}.wrapper{display:flex;align-items:center;background-color:var(--calcite-color-foreground-1);padding:var(--arcgis-item-share-summary-padding);border:1px solid var(--calcite-color-border-1);border-radius:calc(var(--arcgis-item-share-summary-spacing) + 0.5rem);font-size:var(--arcgis-item-share-summary-text-size)}.wrapper--button{cursor:pointer;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;font-family:inherit;line-height:1}.wrapper--button:hover{background-color:var(--calcite-color-foreground-2)}.wrapper--button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.icon{display:block;flex-shrink:0;flex-grow:0;width:var(--arcgis-item-share-summary-spacing);height:var(--arcgis-item-share-summary-spacing)}.text{font-weight:400;color:var(--calcite-color-text-1);font-size:var(--arcgis-item-share-summary-text-size);line-height:1;margin-inline-start:calc(var(--arcgis-item-share-summary-spacing) / 4)}.tooltip{margin:-1rem;width:18rem;padding-top:0.25rem;--calcite-color-foreground-1:var(--calcite-color-border-white)}.tooltip__section-header{margin:0px;background-color:var(--calcite-color-background);padding:0.75rem;font-size:0.875rem;font-weight:700;color:var(--calcite-color-text-2)}.tooltip__section{box-sizing:border-box;max-height:10rem;overflow:auto;background-color:var(--calcite-color-foreground-1);padding:0.75rem}.tooltip_status{margin:0px;padding:0px;font-size:0.875rem;color:var(--calcite-color-text-1)}.tooltip__groups{margin:0px;padding:0px}.tooltip__group{margin:0px;display:flex;align-items:center;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0px;padding-right:0px}.tooltip__group__avatar{flex-shrink:0}.tooltip__group__text{margin-inline-start:0.75rem;min-width:0px;flex:1 1 auto}.tooltip__group__title{margin:0px;display:block;overflow-wrap:break-word;padding:0px;font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1.35}.tooltip__group__description{margin:0px;display:block;padding:0px;font-size:0.75rem;font-weight:400;color:var(--calcite-color-text-3);line-height:1.35}";const H=class{constructor(e){(0,r.r)(this,e),this.thumbnailGenerated=(0,r.c)(this,"thumbnailGenerated",7),this.item=void 0,this.user=void 0,this.portal=void 0,this.useProduction=void 0,this.generate=void 0,this.serviceInfo=void 0,this.loading=!0,this.thumbnailUrl=void 0}async componentWillLoad(){this.setThumbnailUrl()}handleItemChange(){this.setThumbnailUrl()}handleGenerateChange(){this.setThumbnailUrl()}async generateThumbnail(e){if(this.loading=!0,!this.generating)try{this.generating=!0;const t=e?(0,p.g)(this.item):await(0,p.b)(this.item,this.portal,this.serviceInfo);return this.thumbnailUrl=t,this.thumbnailGenerated.emit(t),this.generating=!1,t}catch(e){return this.generating=!1,""}}async setThumbnailUrl(e){const{item:t,portal:i,useProduction:r,user:o}=this;if(!t)return;const n=(0,p.s)(t,i,o);if(n&&this.generate&&!e){if(await this.generateThumbnail())return}!n&&(0,p.c)(t,o)&&this.generate&&!e&&this.generateThumbnail(!0),this.thumbnailUrl=e?(0,p.g)(this.item):await(0,p.d)(i,t,r)}render(){const{loading:e,thumbnailUrl:t}=this;return(0,r.h)(r.H,{key:"72c3035ab87e89b927b142ebb69c280738f8ba06"},(0,r.h)("div",{key:"ef0162d0e247d9df3b72ec4974b74d588726686c",class:"outer"},(0,r.h)("div",{key:"581d6c530b842f9d7fe3b07df08eef4b6387774a",class:{inner:!0,"inner--loading":e||!t}},t&&(0,r.h)("img",{key:"ec65e3fd740a6e1f3e3ae13dfb5132bc785f2d07",class:{thumbnail:!0,"thumbnail--loading":e},alt:"",src:t,onLoad:()=>{this.loading=!1},onError:()=>{this.setThumbnailUrl(!0)}}),e&&(0,r.h)("div",{key:"fb94b92a3351d2aa3632663a0f21aea654eff811",class:"placeholder"}))))}static get assetsDirs(){return["assets"]}get el(){return(0,r.a)(this)}static get watchers(){return{item:["handleItemChange"],generate:["handleGenerateChange"]}}};H.style=":host{position:relative;display:block}.outer{position:relative;width:100%;padding-top:66.66%}.inner{position:absolute;inset:0px;background-color:var(--calcite-color-background)}.inner--loading{animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:thumbnail-shimmer;animation-timing-function:linear;background-image:linear-gradient(to right, var(--calcite-color-background) 0%, var(--calcite-color-foreground-2), var(--calcite-color-background) 40%, var(--calcite-color-background) 100%);background-repeat:no-repeat;background-size:800px 100%}.thumbnail{height:100%;width:100%;-o-object-fit:cover;object-fit:cover;opacity:1;transition-property:opacity;transition:opacity 300ms linear}.thumbnail--loading{opacity:0}@keyframes thumbnail-shimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}";const N=class{constructor(e){(0,r.r)(this,e),this.arcgisSelectedDeselectAll=(0,r.c)(this,"arcgisSelectedDeselectAll",7),this.arcgisSelectedSelectPage=(0,r.c)(this,"arcgisSelectedSelectPage",7),this.checked=void 0,this.indeterminate=void 0,this.heading=void 0,this.emptyText=void 0,this.total=void 0,this.totalSelected=void 0,this.hideCheckbox=!1,this.hideSelectedText=!1,this.loading=void 0,this.selectedText=void 0,this.selectingAll=!1}async componentWillLoad(){const{element:e}=this,t=await(0,l.g)(e);this.i18n=t[0]}renderButton(){const{totalSelected:e,selectedText:t,hideSelectedText:i,i18n:o}=this,n={class:"button",slot:"trigger",kind:"neutral",appearance:"outline-fill",iconEnd:e?"caret-down":null},a=null!=t?t:i?`${e||0}`:o.selected.replace("${number}",`${e||0}`),s=this.selectingAll?o.selectingAll:a;return e?(0,r.h)("calcite-button",Object.assign({loading:this.selectingAll},n),s):(0,r.h)("span",{class:"white-button white-button--inactive"},this.selectingAll&&(0,r.h)("calcite-loader",{class:"select-all-loader",label:o.selectingAll,scale:"s",inline:!0}),s)}render(){const{i18n:e,checked:t,indeterminate:i,heading:o,totalSelected:n,hideSelectedText:a}=this;return(0,r.h)(r.H,{key:"a7fefaf1392b5c7db61ff16904ce9c8846862f95"},(0,r.h)("div",{key:"6288a23deec898f6aa8aee8c91d21c9c7bf29d82",class:"wrapper"},!this.hideCheckbox&&(0,r.h)("calcite-label",{key:"c2e9f477c1a1401a75e8867673e4ba409da497bf",for:"selected-checkbox",class:{"white-button":!0,"white-button--attached":!a&&n>0}},(0,r.h)("span",{key:"58fd9010c9dba31520a282d8b1d947a1e2abc239",class:"screen-readers-only"},t?e.deselect:e.selectPage),(0,r.h)("calcite-checkbox",{key:"04b0c049ef20371a4edcb16d9173a97b1d5c21b2",class:"checkbox",id:"selected-checkbox",disabled:!this.total,checked:t,indeterminate:i,onCalciteCheckboxChange:e=>{e.stopPropagation();e.currentTarget.checked?this.arcgisSelectedSelectPage.emit():this.arcgisSelectedDeselectAll.emit()}})),n?(0,r.h)("calcite-dropdown",{widthScale:"l",closeOnSelectDisabled:!0},this.renderButton(),(0,r.h)("calcite-dropdown-group",{selectionMode:"none",groupTitle:o},n<1&&(0,r.h)("span",{class:"empty"},this.emptyText),(0,r.h)("slot",null))):n>0&&this.renderButton()))}get element(){return(0,r.a)(this)}};N.style=".hide{display:none}.wrapper{margin-inline-end:0.5rem;display:flex;opacity:1;transition-property:opacity}.empty{display:block;padding:0.75rem;font-size:0.75rem;color:var(--calcite-color-text-3)}.loading{opacity:0}@media (forced-colors: active){calcite-checkbox{border:1px solid var(--calcite-color-border-1)}}.white-button{border:1px solid var(--calcite-color-border-1);font-family:inherit;box-sizing:border-box;display:flex;height:2rem;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;align-items:center;background-color:var(--calcite-color-foreground-1);padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.white-button:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.white-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.white-button--inactive{pointer-events:none;border-inline-end:1px solid var(--calcite-color-border-1)}.white-button--disabled{pointer-events:none;opacity:0.25}.white-button--attached{border-inline-end:none}.white-button__icon{margin-inline-start:0.75rem}calcite-dropdown[open] .white-button{border-bottom-color:var(--calcite-color-brand)}.page-range{font-size:0.875rem;font-weight:400;line-height:2rem;color:var(--calcite-color-text-2)}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.checkbox{margin-top:0.75rem}.select-all-loader{margin-inline-end:0.5rem}";const j=class{constructor(e){(0,r.r)(this,e),this.arcgisSelectedItemRemove=(0,r.c)(this,"arcgisSelectedItemRemove",7),this.heading=void 0,this.description=void 0,this.disabled=void 0}render(){return(0,r.h)(r.H,{key:"2302db44e5330458a0ae9aae0f67060162b962ed"},(0,r.h)("calcite-dropdown-item",{key:"f6ac982dabc8aa0833178f5af69e0e3fddbe3e62",disabled:this.disabled,"selection-mode":"none",onClick:e=>{e.preventDefault(),e.stopPropagation(),this.arcgisSelectedItemRemove.emit()}},(0,r.h)("div",{key:"87e09aac00205e063209736e93afebc6c7701d0c",class:"selected-item__wrapper"},(0,r.h)("slot",{key:"6cdaa48d1c2712a9a4c7aa6186a670aa09fbb5d1",name:"content-start"}),(0,r.h)("div",{key:"304824c1055dfbcd6903459b3c790d03248008ee",class:"selected-item__content"},(0,r.h)("h4",{key:"2cc518232b5c5a585209b17cedf4fce1b197f6fa",class:"selected-item__title",title:this.heading},this.heading),this.description&&(0,r.h)("p",{key:"9a74bc8cd4194590b10a8ad3f53be4c86a35a10e",class:"selected-item__description"},this.description)),(0,r.h)("slot",{key:"ff6539afbe53bcba53dc0bf25c612b657fbb929c",name:"content-end"}),!this.disabled&&(0,r.h)("calcite-icon",{key:"5b0d1a094a64d032bce4f60787a272aa97054bca",icon:"x",scale:"s"}))))}get element(){return(0,r.a)(this)}};j.style=".selected-item__wrapper{display:flex;width:15rem;align-items:center}.selected-item__content{box-sizing:border-box;flex:1 1 0%;width:100%;padding-inline-start:0.5rem;max-width:12rem}.selected-item__title{margin:0px;margin-top:0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-1)}.selected-item__description{margin:0px;margin-top:0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-size:0.75rem;font-weight:400;color:var(--calcite-color-text-1)}";const E=class{constructor(e){(0,r.r)(this,e),this.geometry=void 0,this.type=void 0,this.scale=void 0,this.name=void 0,this.showName=!0,this.showIcon=!0,this.showType=!0,this.underline=!1,this.renderer=void 0}async componentWillLoad(){const e=await(0,l.g)(this.el);this.i18n=e[0]}render(){const{geometry:e,name:t,type:i,showName:o,showIcon:n,showType:a,renderer:s,i18n:l,underline:c}=this,d=(0,h.g)({type:i,geometry:e});return s?s(Object.assign(Object.assign({},d),{name:t})):(0,r.h)(r.H,null,n&&(0,r.h)("calcite-icon",{icon:d.icon,class:"icon",scale:this.scale}),(a||o)&&(0,r.h)("div",{class:"text"},o&&(0,r.h)("div",{class:{name:!0,underline:c}},t),a&&(0,r.h)("div",{class:"type"},l[d.type])))}get el(){return(0,r.a)(this)}};E.style=":host{display:flex;align-items:center;line-height:1.35;--sublayer-type-font-size:var(--calcite-font-size--1)}.text{flex:1 1 0%;margin-inline-start:0.5rem;color:inherit}.name{font-weight:500;word-wrap:break-word;word-break:break-word;font-size:var(--sublayer-type-font-size)}.underline{text-decoration-line:underline}.type{font-weight:400;font-size:var(--sublayer-type-font-size)}";const R=class{constructor(e){(0,r.r)(this,e),this.arcgisUserPopupInternalUIAction=(0,r.c)(this,"arcgisUserPopupInternalUIAction",7),this.isInsideModal=!1,this.user=void 0,this.username=void 0,this.fullName=void 0,this.item=void 0,this.api=void 0,this.scale="m",this.portal=void 0,this.baseUrl=void 0,this.underline=void 0,this.showAvatar=!0,this.showName=!0,this.showUsername=!1,this.wrap=void 0,this.appearance="transparent",this.zIndex=void 0,this.checkOnline=void 0,this.itemUserInfo=void 0,this.groups=void 0,this.total=void 0,this.showPopover=void 0,this.privateUser=void 0}async componentWillLoad(){await this.init()}async componentDidLoad(){}async init(){const{el:e,item:t,username:i,portal:r}=this,o=await(0,l.g)(e);if(this.i18n=o[0],this.lang=o[1],this.isInsideModal=null!==(0,a.c)(e,"calcite-dialog"),t)this.fetchItemUserInfo();else if(i)try{const e=await(0,g.f)(i,r);!e.fullName&&this.fullName&&(e.fullName=this.fullName),this.itemUserInfo=e}catch(e){this.privateUser=!0}}async setFocus(){var e;null===(e=this.button)||void 0===e||e.focus()}async fetchItemUserInfo(){const{portal:e,item:t,lang:i,checkOnline:r}=this;t&&e&&(this.itemUserInfo=await(0,g.a)(t,e,i,r))}async handlePortalUpdate(){this.itemUserInfo||this.fetchItemUserInfo()}async fetchItemsAndGroups(){const{user:e,itemUserInfo:t,item:i,portal:r,total:n,username:a,checkOnline:s}=this,l=a||(null==e?void 0:e.username)||(null==i?void 0:i.owner);if(!(0,d.i)(i)){if(!this.groups){const e=null==t?void 0:t.groups;this.groups=e?{total:e.length,start:1,num:100,nextStart:e.length>100?101:-1,results:e}:await(0,o.f)((()=>(0,g.b)(l,r,s)),"userGroups",l)}isNaN(n)&&(this.total=await(0,o.f)((()=>(0,g.c)((e||t).username,r,s)),"userItemsTotal",l))}}render(){var e;const{user:t,itemUserInfo:i,portal:o,item:n,baseUrl:a,button:s,appearance:l,i18n:c,scale:d,isInsideModal:u,zIndex:p,showPopover:h}=this,g=t||i;return g&&c?(0,r.h)(r.H,null,(0,r.h)("button",{class:{button:!0,"button--outline":"outline"===l},ref:e=>this.button=e,onClick:async()=>{this.showPopover||(this.showPopover=!0),this.fetchItemsAndGroups()}},(0,r.h)("slot",null,(0,r.h)("arcgis-user-avatar",{user:g,scale:d,portal:o,showName:this.showName,description:this.showUsername?g.username:"",showAvatar:this.showAvatar,underline:this.underline,checkOnline:this.checkOnline,wrap:this.wrap}))),h&&(0,r.h)("arcgis-tunnel",{reference:this.el},(0,r.h)("arcgis-user-popup-popover",{onArcgisUserPopupInternalUIAction:e=>{e.stopPropagation(),this.arcgisUserPopupInternalUIAction.emit(e.detail)},onArcgisUserPopupPopoverClose:()=>{this.showPopover=!1},onArcgisUserPopupPopoverKeyDown:e=>{if("Escape"===e.detail.key){setTimeout((()=>{this.button.focus()}),200)}},style:{"--calcite-popover-z-index":null!==(e=null==p?void 0:p.toString())&&void 0!==e?e:u?"901":"12"},user:t,item:n,portal:o,baseUrl:a,itemUserInfo:i,i18n:c,groups:this.groups,total:this.total,checkOnline:this.checkOnline,referenceElement:s,ref:e=>{e&&e.open()}}))):(0,r.h)("arcgis-user-avatar",{scale:"s",showName:!0,checkOnline:this.checkOnline})}get el(){return(0,r.a)(this)}static get watchers(){return{item:["fetchItemUserInfo"],portal:["handlePortalUpdate"]}}};function V({baseUrl:e,portal:t,user:i,type:r}){var o,n;const a=(0,f.r)(e),{username:s,orgId:l}=i,c=encodeURIComponent(s),d=(null===(o=t.user)||void 0===o?void 0:o.username)===i.username;return("groups"===r&&(0,y.B)(t.user)||"content"===r&&(0,y.q)(t.user)||(0,b.f)(t.user)||d)&&l===(null===(n=t.user)||void 0===n?void 0:n.orgId)?`${a}/${r}.html${d?"":`?user=${c}`}`:`${a}/search.html?q=owner:%22${c}%22&restrict=false#${r}`}R.style=":host{display:flex}.button{display:flex;align-items:center;max-width:100%;cursor:pointer;white-space:normal;border-style:none;padding:0px;font-size:0.75rem;color:var(--calcite-color-text-2);outline:2px solid transparent;outline-offset:2px;transition-property:all;outline-color:transparent;background:transparent;font-family:inherit;line-height:1.5}.button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.button--outline{box-sizing:border-box;width:100%;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;transition-property:all;border:1px solid var(--calcite-ui-border-3)}.button--outline:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.name{overflow:hidden;white-space:nowrap;margin-inline-start:0.5rem;text-overflow:ellipsis}";const K=class{constructor(e){(0,r.r)(this,e),this.arcgisUserPopupPopoverClose=(0,r.c)(this,"arcgisUserPopupPopoverClose",7),this.arcgisUserPopupPopoverKeyDown=(0,r.c)(this,"arcgisUserPopupPopoverKeyDown",7),this.arcgisUserPopupInternalUIAction=(0,r.c)(this,"arcgisUserPopupInternalUIAction",7),this.numberFormatOptions={api:s.c.api,places:0,type:"decimal"},this.user=void 0,this.item=void 0,this.portal=void 0,this.baseUrl=void 0,this.referenceElement=void 0,this.itemUserInfo=void 0,this.groups=void 0,this.total=void 0,this.i18n=void 0,this.checkOnline=void 0,this.groupsText="",this.itemsText=""}async close(){this.togglePopover(!1)}async open(){this.togglePopover(!0)}async updateGroupsText(e){const t=await(0,m.a)(e.total,this.numberFormatOptions);this.groupsText=this.i18n.groups.replace("${number}",t)}async updateItemsText(e){const t=await(0,m.a)(e,this.numberFormatOptions);this.itemsText=this.i18n.items.replace("${number}",t)}componentWillLoad(){this.groups&&this.updateGroupsText(this.groups),isNaN(this.total)||this.updateItemsText(this.total)}togglePopover(e){requestAnimationFrame((()=>{this.popoverNode&&(this.popoverNode.open=e)}))}openLink(e){var t;e.preventDefault();const i=null===(t=e.target)||void 0===t?void 0:t.href;window.open(i,"_blank")}renderOrgButtons(){const{i18n:e,baseUrl:t,itemUserInfo:i}=this,o=(0,f.r)((null==i?void 0:i.url)||t);return(0,r.h)(r.F,null,(0,r.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",href:o,target:"_blank",onClick:e=>this.openLink(e)},e.homepage),(0,r.h)("calcite-button",{appearance:"outline-fill",kind:"neutral",href:`${o}/gallery.html`,target:"_blank",onClick:e=>this.openLink(e)},e.gallery))}renderUserButtons(e){const{i18n:t,baseUrl:i,portal:o,total:n,groups:a}=this,s=!this.groupsText||!this.itemsText,{username:l}=e;return s?(0,r.h)("calcite-loader",{label:t.loadingUserInformation,scale:"s",class:"loader"}):(0,r.h)(r.F,null,!!(null==a?void 0:a.total)&&(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${V({baseUrl:i,portal:o,user:e,type:"groups"})}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view all groups"})}},this.groupsText),!!n&&(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${V({baseUrl:i,portal:o,user:e,type:"content"})}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view all content"})}},this.itemsText),(0,r.h)("calcite-button",{class:"button",appearance:"outline-fill",kind:"neutral",href:`${(0,f.r)(i)}/user.html?user=${encodeURIComponent(l)}`,target:"_blank",onClick:e=>{this.openLink(e),this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"view profile"})}},t.profile))}render(){const{user:e,item:t,itemUserInfo:i,lang:o,portal:n,referenceElement:a}=this,s=e||i,l=(0,d.i)(t),{username:u,description:p}=s,h=(0,g.g)(s,o),m=(0,v.g)(p)||"",f=l?this.i18n.itemManagedBy.replace("${username}",u):u;return(0,r.h)(r.H,{key:"460f51c668989215d7bf813a26a93155ab51154d"},(0,r.h)("calcite-popover",{key:"dbbdfab8932a17bd4350f13adc0d8b5837cb21e8",class:"popover",label:h,pointerDisabled:!0,referenceElement:a,placement:"bottom-start",id:`${u}-popover`,ref:e=>this.popoverNode=e,autoClose:!0,onCalcitePopoverOpen:(0,c.f)((()=>{this.arcgisUserPopupInternalUIAction.emit({category:"profile popup",action:"open profile popup"})}),100),onCalcitePopoverClose:()=>this.arcgisUserPopupPopoverClose.emit(),onKeyDown:e=>this.arcgisUserPopupPopoverKeyDown.emit(e)},(0,r.h)("div",{key:"c977ec045f8e37faea8d411104af491fff3f456b",class:"wrapper"},(0,r.h)("div",{key:"636515ee1f699b4f95d12a292f32edb6d368caf2",class:"header"},(0,r.h)("arcgis-user-avatar",{key:"aaa8b036e3a9d67fbb897b813dfbda4b604f319e",class:"user-avatar",user:s,scale:"l",portal:n,showName:!0,description:f,checkOnline:this.checkOnline})),(0,r.h)("div",{key:"b6ec2a224916e54a14c57ab1fa776d6d934bbfef",class:"content"},m&&(0,r.h)("p",{key:"ccb5b1886eca490e56cb6ddee55e0713c80eea62",class:"content__description",innerHTML:m}),m&&(0,r.h)("div",{key:"abf2bd9832da6f6f1458b28fa1eb03bd066400e7",class:"content__fade"}),(0,r.h)("div",{key:"bac72c4adb0bb37b02adb502f9874428c4cd415d",class:{buttons:!0,"buttons--no-description":!m}},l?this.renderOrgButtons():this.renderUserButtons(s))))))}get el(){return(0,r.a)(this)}static get watchers(){return{groups:["updateGroupsText"],total:["updateItemsText"]}}};K.style=".wrapper{background-color:var(--calcite-color-foreground-1);width:min(32rem, 80vw)}.header{padding-left:1rem;padding-right:1rem;padding-top:1.25rem;padding-bottom:1.25rem}.user-avatar{max-width:100%}.content{padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:1.25rem}.content__description{margin:0px;overflow:auto;padding:0px;padding-bottom:1rem;font-size:0.875rem;color:var(--calcite-color-text-2);max-height:21.25rem}.content__fade{position:relative;z-index:10;margin-bottom:0.25rem;display:block;height:1rem;width:100%;background:linear-gradient(to bottom, transparent, var(--calcite-color-foreground-1) 100%);margin-top:-1rem}.content__link{font-size:0.875rem}.buttons{display:grid;grid-auto-flow:column;grid-gap:0.5rem}.buttons--no-description{padding-top:1rem}.button{min-width:0px}.loader{--calcite-loader-padding:0}"},19231:(e,t,i)=>{i.d(t,{a:()=>c,g:()=>l});var r=i(4429),o=i(87744),n=i(66337),a=i(41976),s=i(50637);async function l(e,t,i){var r,n,l;const c=`${(0,o.g)(t)}content/items/${e.id}`,d=`${(0,o.g)(t)}content/users/${e.owner}/${e.ownerFolder?`${e.ownerFolder}/`:""}items/${e.id}`;try{const o=await(0,s.r)(c);if("admin"!==o.itemControl&&"update"!==o.itemControl){const o=await(0,a.a)(t,i,[e]);return o.error?{result:[]}:{result:null!==(n=null===(r=null==o?void 0:o.result)||void 0===r?void 0:r[e.id])&&void 0!==n?n:[]}}const u=await(0,s.r)(d);return{result:((null===(l=null==u?void 0:u.sharing)||void 0===l?void 0:l.groups)||[]).filter((e=>i.some((t=>t.id===e))))}}catch(e){return{result:[]}}}async function c(e,t){if(!(null==e?void 0:e.length))return{result:[]};try{const i=[],s=100,l=`${(0,o.g)(t)}community/groups`;(0,r.g)(e,a.M).forEach((e=>{i.push((0,n.f)(l,{q:`id:(${e.join(" OR ")})`,num:s}))}));return{result:(await Promise.all(i)).reduce(((e,t)=>[...e,...t]),[]).sort(((e,t)=>{var i;return null===(i=e.title)||void 0===i?void 0:i.localeCompare(t.title)}))}}catch(e){return{result:[]}}}},26854:(e,t,i)=>{i.d(t,{a:()=>l,c:()=>c,g:()=>n,h:()=>o,i:()=>a,r:()=>s});var r=i(15332);function o(e){const t=document.createElement("textarea");return t.innerHTML=e,t.innerText}function n(e){return function(e){return null==e?void 0:e.replace(/&#10;&#13;|&#10;|&#13;|\r\n|\r|\n/g,"<br>")}(function(e){return null==e?void 0:e.replace(/(?:\r)/g,"&#10;").replace(/(?:\n)/g,"&#13;")}(function(e){return null==e?void 0:e.replace(/(https?:\/\/[^\s]+)/g,(e=>`<a href="${e}" target="_blank">${e}</a>`))}(function(e){return null==e?void 0:e.replace(/(?:&#10;)/g,"\r").replace(/(?:&#13;)/g,"\n")}(e))))}function a(e){return e.replace(/\$\{startSup\}/g,"<sup>").replace(/\$\{endSup\}/g,"</sup>")}function s(e,t,i){return e.replace(/\$\{startLink\}/g,`<calcite-link label="${i}" href="${t}" target="_blank">`).replace(/\$\{endLink\}/g,"</calcite-link>")}function l(e){return e.replace(/\$\{startStrong\}/g,"<strong>").replace(/\$\{endStrong\}/g,"</strong>")}function c(e){return(0,r.s)((null==e?void 0:e.trim())||"").replace(/[!*+\-&|()[\]{}^~?:"\\]/g,"\\$&")}},31544:(e,t,i)=>{i.d(t,{a:()=>p,b:()=>m,c:()=>d,d:()=>h,g:()=>g,s:()=>u});var r=i(87849),o=i(50637),n=i(87744),a=i(50822),s=i(32710),l=i(59317),c=i(931);function d(e,t){const i=e.type,r=e.thumbnail,o=t&&(0,a.u)(e,t);return null===r&&o&&["Dashboard"].includes(i)}function u(e,t,i){var r,o;const n=e.thumbnail,s=function(e,t){return e&&!(null==e?void 0:e.includes("images/transparent.gif"))&&(!t.isPortal&&!(null==e?void 0:e.includes("thumbnail/ago_downloaded."))||t.isPortal&&!(null==e?void 0:e.includes("Utilities/PrintingTools")))}(n,t),l=["Feature Service","Vector Tile Service"].includes(e.type)&&!s,c="Feature Service"===e.type&&e.typeKeywords.includes("Location Tracking Service"),d=null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Table");if("Image"===e.type||n&&!l||c||d)return!1;const u=null===(o=e.typeKeywords)||void 0===o?void 0:o.includes("Tiled Imagery"),p=e.type,h="Image Service"===p&&!u||"Map Service"===p,g=i&&(0,a.u)(e,i);return g&&h||g&&"Feature Service"===p||"Vector Tile Service"===p||g&&"KML"===p}function p(e,t,i,r){null!=i||(i=(0,n.g)(e));const a=(0,o.g)(e),s=a&&!r?`token=${a}`:"",l=`${i}content/items/${t.id}`;if(t.thumbnail){const e=t.thumbnailUrl;if(e){const t=new URL(e);return t.searchParams.append("w","400"),t.href}return`${l}/info/${t.thumbnail}?w=400${a?"&":""}${s}`}return"Image"!==t.type||r?g(t):`${l}/data?${s}`}async function h(e,t,i){return i?p(e,t,"https://www.arcgis.com/sharing/rest/",!0):p(e,t)}function g(e){const t=function(e){var t;const i=null===(t=e.type)||void 0===t?void 0:t.toLowerCase(),r=e.typeKeywords||[];switch(i){case"web mapping application":return"webapp.png";case"mobile application":return"mobileapp.png";case"notebook code snippets":case"notebook code snippet library":return"notebookcodesnippets.png";case"notebook":return"notebook.png";case"style":return r.includes("Dictionary")?"dictionarystyle.png":"style.png";case"feature service":return r.includes("Location Tracking View")?"locationtrackingservice.png":r.includes("IndoorPositioningDataService")?"indoor-positioning-data-service.png":"default.png";case"pro presentation":return"pro-presentation.png";case"reality mapping project":case"reality mapping project":return"realitymappingproject.png";case"urban project":case"urban project":return"urbanproject.png";case"raster function template":return"rasterfunctiontemplate.png";case"workforce project":return"workforceproject.png";case"hub initiative":return"hubinitiative.png";case"hub page":return"hubpage.png";case"hub site application":return"hubsite.png";case"hub event":return"hubevent.png";case"hub project":return"hubproject.png";case"dashboard":return r.includes("ArcGIS Dashboards")?"dashboards.png":"opsdashboard.png";case"geoprocessing service":return r.includes("Notebook Web Tool")?"notebookwebtool.png":"webtool.png";case"web scene":case"scene service":return"scene.png";case"ortho mapping project":return"orthomappingproject.png";case"ortho mapping template":return"orthomappingtemplate.png";case"insights theme":return"insightstheme.png";case"insights workbook package":return"insightsworkbookpackage.png";case"solution":return"solution.png";case"mobile scene package":return"mobilescenepackage.png";case"deep learning package":return"deeplearningpackage.png";case"big data analytic":return"bigdataanalytic.png";case"real time analytic":return"realtimeanalytic.png";case"feed":return"feed.png";case"excalibur imagery project":return"excaliburimageryproject.png";case"storymap":return(null==r?void 0:r.includes("storymapcollection"))?"storymapcollection.png":"storymap.png";case"survey123 add in":return"survey123addin.png";case"mission":return"mission.png";case"mission template":return"missiontemplate.png";case"quickcapture project":return"quickcaptureproject.png";case"pro report":return"proreport.png";case"pro package":return"propackage.png";case"pro report template":return"proreporttemplate.png";case"urban model":return"urbanmodel.png";case"web experience":return"webexperience.png";case"web experience template":return"webexperiencetemplate.png";case"experience builder widget":return"experiencebuilderwidget.png";case"experience builder widget package":return"experiencebuilderwidgetpackage.png";case"workflow":return"workflow.png";case"insights script":return"insightsscript.png";case"kernel gateway connection":return"kernelgatewayconnection.png";case"hub initiative template":return"hubinitiativetemplate.png";case"image service":return(null==r?void 0:r.includes("Tile Imagery"))?"tiledimagerylayer.png":"imagerylayer.png";case"mission report":return"missionreport.png";case"administrative report":return"administrativereport.png";case"storymap theme":return"storymaptheme.png";case"knowledge graph":return"knowledgegraph.png";case"knowledge graph layer":return"knowledgegraphlayer.png";case"knowledge studio project":return"knowledgestudio.png";case"earth configuration":return"earthconfiguration.png";case"link chart":return"linkchart.png";case"investigation":return"investigation.png";case"apache parquet":return"apacheparquet.png";case"video service":return"mediaservice.png";case"geodata service":return"geodataservice.png";case"suitability model":return"suitabilitymodel.png";case"esri classifier definition":return"classifierdefinition.png";case"deep learning studio project":return"deeplearningstudioproject.png";case"esri classification schema":return"classificationschema.png";case"insights data engineering workbook":return"dataengineeringworkbook.png";case"insights data engineering model":return"dataengineeringmodel.png";case"discussion":return"discussion.png";case"api key":return"apikey.png";case"data pipeline":return"datapipeline.png";case"analysis model":return"analysismodel.png";case"service connection":return"serviceconnection.png";default:return"default.png"}}(e);return(0,r.d)(`./assets/arcgis-item-thumbnail/${t}`)}async function m(e,t,i){const r=e.type,o=g(e);try{if(["Image Service","Map Service","Feature Service"].includes(r)){return await(0,s.D)({type:r,url:e.url,serviceInfo:i,extent:e.extent,id:e.id,isSecured:{secured:!1}})||o}if("Vector Tile Service"===r){const{id:i,title:r,extent:d}=e,u=await async function({id:e,title:t,itemUrl:i,extent:r}){const[o]=3===(null===l.c||void 0===l.c?void 0:l.c.api)?await(0,c.l)(["esri/SpatialReference"]):await(0,c.l)(["esri/geometry/SpatialReference"]),n={operationalLayers:[],baseMap:{baseMapLayers:[{id:e,type:"VectorTileLayer",layerType:"VectorTileLayer",title:t,styleUrl:`${i}/resources/styles/root.json`,visibility:!0,opacity:1}],title:"Topographic"},spatialReference:{wkid:102100,latestWkid:3857},authoringApp:"WebMapViewer",authoringAppVersion:"5.3",version:"2.10"};let a=[];if("string"==typeof r){const e=r.split(",");a=[[parseFloat(e[0]),parseFloat(e[1])],[parseFloat(e[2]),parseFloat(e[3])]]}else a=r&&r.length>0?r:[[-180,-90],[180,90]];return(0,s.C)(n,a,new o({wkid:102100}))}({id:i,title:r,itemUrl:(0,a.g)(i,(0,n.g)(t)),extent:d});return u||o}if("KML"===r){return await(0,s.E)({url:e.url,type:r,id:e.id,title:e.title,extent:e.extent})||o}}catch(e){console.error(e)}return o}},36891:(e,t,i)=>{function r({geometry:e,type:t}){switch(t){case"Utility Network Layer":return{icon:"utility-network-layer",type:"utility network",isGeometry:!1};case"Catalog Layer":return{icon:"catalog-dataset",type:"catalog",isGeometry:!1};case"Parcel Layer":return{icon:"parcel-layer",type:"parcel",isGeometry:!1};case"Oriented Imagery Layer":return{icon:"oriented-imagery-layer",type:"oriented imagery",isGeometry:!1};case"Table":return{icon:"table",type:"table",isGeometry:!0}}switch(e){case"point":case"esriGeometryPoint":return{type:"point",icon:"point",isGeometry:!0};case"esriGeometryMultipoint":case"multipoint":return{type:"multipoint",icon:"layer-points",isGeometry:!0};case"line":case"polyline":case"esriGeometryPolyline":return{type:"line",icon:"line",isGeometry:!0};case"polygon":case"esriGeometryPolygon":return{type:"polygon",icon:"polygon",isGeometry:!0};case"multipatch":case"esriGeometryMultiPatch":return{type:"multipatch",icon:"cube",isGeometry:!0};default:return{type:"table",icon:"table",isGeometry:!0}}}i.d(t,{g:()=>r})},56462:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>d,c:()=>u,d:()=>p,f:()=>l,g:()=>h});var r=i(96295),o=i(50637),n=i(15332),a=i(87744),s=i(62261);async function l(e,t,i){const r=`${i?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t)}community/users/${e}`,n=(null==r?void 0:r.includes("www.arcgis.com"))&&t.isPortal,s=(null==r?void 0:r.includes(".arcgis.com"))&&!t.isPortal&&!t.user,l=n||s?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,o.f)((async()=>{try{return await(0,o.r)(r,{},l)}catch(t){return{username:e}}}),"user",r)}async function c(e,t,i,r){var o,a;if("public_authoritative"===(null==e?void 0:e.contentStatus)||"public_authoritative"===(null===(o=e.sourceJSON)||void 0===o?void 0:o.contentStatus)){const o=await(0,s.f)(e,i,t,r);if(!o)return l(e.owner,t,r);const{description:c,name:d,thumbnail:u,url:p}=o;return{description:c?(0,n.s)(c):"",fullName:d,username:e.owner,thumbnail:u,id:e.orgId||(null===(a=e.portal)||void 0===a?void 0:a.id),url:p}}return l(e.owner,t,r)}async function d(e,t,i){const r=i?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t),n=i?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,o.f)((async()=>(0,o.r)(`${r}community/groups`,{q:`(owner:"${e}")`,num:100},n)),"userGroups",e)}async function u(e,t,i){const n=i?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t),s=i?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,o.f)((async()=>(await(0,o.r)(`${n}search`,{q:`(owner:"${e}") ${r.H}`,num:1},s)).total),"userItemsTotal",e)}function p(e,t,i=!1){if(null==e?void 0:e.thumbnailUrl)return e.thumbnailUrl;if(!(null==e?void 0:e.thumbnail))return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const r=(0,o.g)(t);return`${i?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t)}community/users/${e.username}/info/${e.thumbnail}${r&&!i?`?token=${r}`:""}`}function h(e,t){const{fullName:i,firstName:r,lastName:o,username:n}=e;return i||(r&&o?"ja"===t?`${o} ${r}`:`${r} ${o}`:n)}},62261:(e,t,i)=>{i.d(t,{f:()=>n});var r=i(50637),o=i(15332);async function n(e,t,i,n){var a,s,l,c,d;const u=null!==(d=null!==(l=null!==(a=e.orgId)&&void 0!==a?a:null===(s=e.sourceJSON)||void 0===s?void 0:s.orgId)&&void 0!==l?l:null===(c=e.portal)||void 0===c?void 0:c.id)&&void 0!==d?d:null==i?void 0:i.id;return(0,r.f)((()=>async function(e,t,i,n,a){var s,l;const c=(null===(s=e.portal)||void 0===s?void 0:s.portalHostname)||(null==n?void 0:n.portalHostname)||(null===(l=null==n?void 0:n.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),d=a?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!a)return null;const u=a?{disableIdentityLookup:!0,addTokenManually:!1}:{},p=await(0,r.r)(d,{},u),{urlKey:h,thumbnail:g,customBaseUrl:m}=p,v=`https://${h}.${m}/`,f=g?`${v}sharing/rest/portals/self/resources/${g}`:null;let b,y;try{const e=await(0,r.r)(`${d}/resources/localizedOrgProperties`,{start:1,num:100},u);if(e){const t=e[i]||e.default;b=t.name,y=t.description||e.description}}catch(e){}return{name:b||p.name,description:(0,o.a)(y||p.description),url:`${v}home/`,thumbnail:f}}(e,u,t,i,n)),"verified",u)}},63649:(e,t,i)=>{i.d(t,{a:()=>g,b:()=>m,c:()=>v,g:()=>u,i:()=>p});var r=i(50822),o=i(56175),n=i(15912),a=i(62261);const s=["3DInsetMap","3DScene","3DViz","AttachmentViewer","CapacityAnalysis","Compare/storytelling_compare","Compare/storytelling_tabbed","Compare/storytelling_sidepanel","Compare/Multiviewer","Compare/Search","Compare/Configure","Compare/SideBySideViewer_Configure","Compare3d","CompareAnalysis","CompareMaps","Directions","Edit","Editor","Elevations","ElevationsProfile","Embed","Filter","FilterGallery","GeoList","GeoTour","HeaderFooter","Identify","ImageInterpretation","ImageryViewer","ImpactSummary","InformationLookup","InteractiveFilter","InteractiveLegend","LayerShowcase","Legend","LiveMaps","LocalPerspective","MapAndAppGallery","MapCarousel","MapTools","Media","MinimalGallery","Minimalist","Nearby","OnePane","Panels","PanelsLegend","Profile","PublicGallery","PublicInformation","ServiceLookup","SimpleMapViewer","SimpleViewer","SocialMedia","Solutions/s2.html?app=apps2/FindEditFilter","Solutions/s2.html?app=apps2/Finder","StorytellingTextLegend","StoryMapBasic","Styler","SummaryViewer","Time","TimeAware","TwoPane","Viewer","ZoneLookup"];function l(e,t){var i;return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Story Map"))}function c(e){var t;return"Data Store"===e.type&&(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("bigDataFileShare"))}function d(e,t){const i=s.some((t=>{var i;const r=t.includes(".html"),o=`/apps/${t}${r?"":"/"}`;return null===(i=e.url)||void 0===i?void 0:i.includes(o)}));return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&e.url&&i}function u(e){var t;return(null==e?void 0:e.contentStatus)||(null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.contentStatus)}function p(e){return"public_authoritative"===u(e)}function h(e){return["Insights Workbook","Insights Page","Insights Model","Insights Theme","Insights Workbook Package"].includes(null==e?void 0:e.type)}function g(e,t,i){var o,a,s,g,m,v,f;const b=[],y=null===(a=e.groupDesignations||(null===(o=e.sourceJSON)||void 0===o?void 0:o.groupDesignations))||void 0===a?void 0:a.split(", ");var w;if((function(e){return"org_authoritative"===u(e)}(e)||p(e))&&b.push("Authoritative"),("deprecated"===u(e)||h(e))&&b.push("Deprecated"),"Solution"===e.type&&(null===(s=e.typeKeywords)||void 0===s?void 0:s.includes("ArcGIS Solution"))&&b.push("Solution"),(null===(g=e.typeKeywords)||void 0===g?void 0:g.includes("Public Data Collection"))&&i&&b.push("Public Data Collection"),w=e.type,(n.r.includes(w)||l(e,t)||d(e,t)||c(e))&&b.push("Retired"),(null==y?void 0:y.includes("livingatlas"))&&b.push("Living Atlas"),y&&y.includes("opendata")&&b.push("Open Data"),(0,r.b)(e)&&b.push("Premium"),(0,r.a)(e)&&b.push("Subscriber"),(e.origin||(null===(m=e.sourceJSON)||void 0===m?void 0:m.origin))&&b.push("Collaboration"),"esri_apps"===e.owner||!e.listed&&!(null===(v=e.sourceJSON)||void 0===v?void 0:v.listed)||(null==t?void 0:t.isPortal)||b.push("Marketplace"),null===(f=e.typeKeywords)||void 0===f?void 0:f.includes("Registered App")){const i=null==t?void 0:t.isPortal;if("API Key"!==e.type&&(!i||"esri_apps"!==e.owner)){const t=e.typeKeywords;(null==t?void 0:t.includes("APIToken"))?b.push((null==t?void 0:t.includes("Personal API Token"))&&!i?"Registered API Key Credentials (Personal)":"Registered API Key Credentials (Standard)"):b.push((null==t?void 0:t.includes("Personal API Token"))&&!i?"Registered OAuth 2.0 Credentials (Personal)":"Registered OAuth 2.0 Credentials (Standard)")}}return b}function m({badgeType:e,i18n:t,item:i,portal:r}){const o=null==r?void 0:r.isPortal,n=t["Registered API Key Credentials (Standard)"].title,a=t["Registered OAuth 2.0 Credentials (Standard)"].title;switch(e){case"Registered API Key Credentials (Standard)":return o?n.enterprise:n.online;case"Registered OAuth 2.0 Credentials (Standard)":return o?a.enterprise:a.online;case"Deprecated":return h(i)?t.DeprecatedItem.title:t.Deprecated.title;default:return t[e].title}}async function v({badgeType:e,i18n:t,item:i,locale:r,portal:n,user:s}){const p=!s||(0,o.b)(s);switch(e){case"Authoritative":if(i&&"public_authoritative"===u(i)){const e=await(0,a.f)(i,r,n),o=(null==n?void 0:n.isPortal)?null==n?void 0:n.name:null==e?void 0:e.name;return t.Authoritative.tooltip.public.replace("${name}",o)}return t.Authoritative.tooltip.org;case"Retired":const o=t.Retired.tooltip;return i?l(i,n)?o.storyMap:function(e){return"CityEngine Web Scene"===e.type}(i)?o.cityEngine:d(i,n)?o.app:function(e){return"Big Data File Share"===e.type||c(e)}(i)?o.bdfs:o.general:o.general;case"Subscriber":return p?t.Subscriber.tooltip.public:t.Subscriber.tooltip.org;case"Premium":return p?t.Premium.tooltip.public:t.Premium.tooltip.org;case"Registered":return(null==n?void 0:n.isPortal)?t.Registered.tooltip.enterprise:t.Registered.tooltip.online;case"Personal credential":return t["Personal credential"].tooltip;default:return t[e].tooltip}}},66111:(e,t,i)=>{i.d(t,{A:()=>I,B:()=>M,a:()=>F,b:()=>b,c:()=>A,d:()=>p,e:()=>h,f:()=>k,g:()=>y,h:()=>g,i:()=>f,j:()=>x,k:()=>C,l:()=>T,m:()=>d,n:()=>S,o:()=>$,p:()=>u,q:()=>G,r:()=>O,s:()=>z,t:()=>U,u:()=>D,v:()=>N,w:()=>L,x:()=>H,y:()=>l,z:()=>_});var r=i(83929),o=i(87744),n=i(56175),a=i(59317),s=i(50637);async function l(){return new Promise((async e=>{const{portal:t}=a.c;if(null==t?void 0:t.isPortal){const i=t.helperServices.geocode,r=await function(e){const{config:t,portal:i}=a.c;return new Promise((async(r,o)=>{const n=e.filter((e=>c(e.url,i))).filter((e=>e.isEsriBatchGeocoder))[0];if(n){const e=n.url.split("/servers/")[1].split("/rest/services/")[0],i=`${t.restBaseUrl}/content/items/${e}`;try{r((await(0,s.r)(i)).url)}catch(e){o(e)}}else o("No world geocoder configured")}))}(i);e(r)}else{const i=function(e){const t=null==e?void 0:e.portalHostname;if(-1!==t.indexOf("dev"))return"dev";if(-1!==t.indexOf("qa"))return"qa";return""}(t);e(`https://geocode${i}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function c(e="",t){var i;const r=t.isPortal,o=e.toLowerCase(),n=o.indexOf("/geocodeserver")>-1&&o.indexOf("/rest/services/")>-1,a=r&&o.indexOf(null===(i=t.portalHostname)||void 0===i?void 0:i.toLowerCase())>-1,s=!r&&o.indexOf("utility")&&o.indexOf(".arcgis.com")>-1;return n&&(a||s)}function d(e){return(0,n.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function u(e){return(0,n.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function p(e,t){return!(0,n.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,r.i)(t,e)}const h=e=>!(0,n.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishServerServices"));async function g(e,t){return!(0,n.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,r.i)(t,e)}const m=async(e,t)=>{var i;return await g(e,t)&&(!t.isPortal||!!t.supports3DTilesServices||!!(null===(i=t.sourceJSON)||void 0===i?void 0:i.supports3DTilesServices))};function v(e){return!(0,n.b)(e)&&!0}function f(e){var t;return!(0,n.b)(e)&&(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:publisher:publishScenes"))}const b=e=>!(0,n.b)(e);function y(e,t,i){var r,o;const n=!!(null===(o=null===(r=t.helperServices)||void 0===r?void 0:r.rasterAnalytics)||void 0===o?void 0:o.url),a=function(e,t,i){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishDynamicImagery"))&&(t.isPortal||w(i))}(e,t,i),s=t.isPortal?a:a||function(e,t,i){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishTiledImagery"))&&!t.isPortal&&w(i)}(e,t,i);return n&&s}function w(e){return null==e?void 0:e.some((e=>{var t;return null===(t=e.entitlements)||void 0===t?void 0:t.some((e=>"image"===e.toLowerCase()))}))}async function k(e){var t;const{userLicensedItems:i}=await(0,s.r)(`${null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl}/community/self?returnUserLicensedItems=true`);return i}function x(e,t){var i,r;const a=null===(i=t.helperServices)||void 0===i?void 0:i.geocode.some((({url:e})=>c(e,t))),s=null!==(r=null==e?void 0:e.privileges)&&void 0!==r?r:[];return!(0,n.b)(e)&&a&&(!t.isPortal||!(0,o.i)(t)&&s.includes("portal:user:viewOrgItems")&&s.includes("portal:user:createItem"))}const C=e=>!(0,n.b)(e);function I(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function _(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function P(e){return["portal:publisher:createDataPipelines","portal:user:createItem","portal:publisher:publishFeatures"].every((t=>{var i;return null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes(t)}))}function T(e,t,i){var r,o,a;return!(0,n.d)(i)&&((null==t?void 0:t.isPortal)?!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores")):P(e)&&("1"===(null===(o=null==e?void 0:e.sourceJSON)||void 0===o?void 0:o.level)||"2"===(null===(a=null==e?void 0:e.sourceJSON)||void 0===a?void 0:a.level)))}const S=(e,t,i)=>!t.isPortal&&!(0,n.b)(e)&&!(0,n.d)(i)&&P(e);function $(e){return!(0,n.b)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const U=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function A(e,t,i){return!t.isPortal&&await p(e,t)&&await async function(e,t,i){return!(0,n.b)(e)&&!!t.supportsHostedServices&&d(e)&&(await g(e,t)||await p(e,t)||f(e)||v(e)||y(e,t,i))}(e,t,i)}async function F(e,t,i){switch(t){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return p(e,i);case"Tile Package":return g(e,i);case"3DTiles Package":return m(e,i);case"Vector Tile Package":return v(e);case"Scene Package":return f(e);case"Service Definition":return async function(e,t){return await p(e,t)&&await g(e,t)}(e,i);default:return!0}}function O(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageCredits"))}function D(e,t){var i,r,o;return(0,n.f)(e)||O(e)||!!((null!==(i=null==e?void 0:e.assignedCredits)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.assignedCredits)>-1&&(null===(o=null==t?void 0:t.portalProperties)||void 0===o?void 0:o.showCreditsOnProfile))}const L=e=>!1;function M(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))}function z(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))}function G(e){return(0,n.e)(e)||z(e)&&function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewItems"))}(e)&&(function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:reassignItems"))}(e))}function H(e){return e.map((e=>`portal:app:access:item:${e.id}`))}const N=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")}}]);