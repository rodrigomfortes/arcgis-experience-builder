/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-4bb575.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-4bb575"],{10465:(e,r,t)=>{t.d(r,{D:()=>s,a:()=>d,b:()=>p,c:()=>i,g:()=>h,s:()=>N});class s{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}const o=(e,r,t)=>(0,n(r).subscribe)((r=>{const s=r.some((r=>((e,r)=>{let t=e;for(;t;){if(t===r)return!0;if(!t.parentNode)return!1;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e,r.target)));s&&t()})),a={},n=e=>{const r=e.join(","),t=a[r];if(void 0!==t)return t;const s=new Set,o=new MutationObserver((e=>s.forEach((r=>r(e)))));globalThis.document&&o.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe:e=>(s.add(e),()=>{s.delete(e),0===s.size&&(o.disconnect(),a[r]=void 0)})};return a[r]=n,n},i=(e,r)=>{let t=e;for(;t;){const e=t.closest?.(r);if(e)return e;const s=t.getRootNode?.();if(s===globalThis.document)return null;t=s.host}return null},p=e=>u(e,"dir","ltr"),u=(e,r,t)=>{const s=i(e,`[${r}]`);return s?.getAttribute(r)??t},l=e=>{let r="";for(let t=0;t<e;t++)r+=(65536*(1+Math.random())|0).toString(16).substring(1);return r},d=()=>[l(2),l(1),l(1),l(1),l(3)].join("-"),c="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),m=new Set(c),g="en",f={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},O={},I=async(e,r)=>{const t=`${r}${e}.json`;try{const e=await fetch(t);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===g?{}:await I(g,r)},h=e=>{const r=u(e,"lang",globalThis.navigator?.language||g);return{lang:r,t9nLocale:y(r)}},y=e=>{const[r,t]=e.split("-"),s=r.toLowerCase();let o=s;return t&&(o=`${s}-${t.toUpperCase()}`),o=f[o]??o,m.has(o)?o:t?y(s):g},N=(e,r,t,s)=>{let a;const n=()=>E(e,r(),s).then((e=>{a?.lang===e.lang&&a.t9nLocale===e.t9nLocale&&a.t9nStrings===e.t9nStrings||t(e),a=e})).catch(console.error);return queueMicrotask(n),o(e,["lang"],n)},E=async(e,r,t=e.localName.split("-").slice(1).join("-"))=>{const{lang:s,t9nLocale:o}=h(e),a=`${r}/${t}/t9n`,n=null===t?{}:await(async(e,r,t="")=>{const s=`${r}/${t}`,o=`${s}${e}.json`;return O[o]??(O[o]=I(e,s)),await O[o]})(o,a,"messages.");return{lang:s,t9nLocale:o,t9nStrings:n}}},40387:(e,r,t)=>{t.d(r,{A:()=>I,B:()=>O,C:()=>n,D:()=>B,E:()=>b,F:()=>w,G:()=>i,H:()=>H,a:()=>c,b:()=>q,c:()=>V,d:()=>Y,e:()=>G,f:()=>$,g:()=>y,h:()=>M,i:()=>C,j:()=>D,k:()=>F,l:()=>s,m:()=>L,n:()=>R,o:()=>f,p:()=>v,q:()=>N,r:()=>E,s:()=>o,t:()=>g,u:()=>h,v:()=>k,w:()=>m,x:()=>a,y:()=>x,z:()=>A});var s,o,a,n,i,p,u=t(17840),l=t(53127),d=t(69811);t(56612);function c(e){return null!=e}function m(e){if(!e?.filter)return!0;const r=e.filter;return!(r.geometry||r.objectIds||r.timeExtent||r.where)}function g(e){const{layer:r,mapImageSublayer:t,mode:s}=e,o="url"in r?r.url:void 0;if(e.supportsStandardizedQuery="version"in r&&null!=r.version&&r.version>=10.2&&!!r.capabilities?.query?.supportsStandardizedQueriesOnly,e.supportedSqlParserVersion="feature"===r.type&&e.supportsStandardizedQuery&&r.sourceJSON.sqlParserVersion&&"ES_10.6.1"!==r.sourceJSON.sqlParserVersion,"layer-view"===s&&"capabilities"in r&&null!=r.capabilities&&"query"in r.capabilities&&(e.supportsCurrentUser=r.capabilities?.query?.supportsCurrentUser),!o||t)return void(e.isHosted=!1);const a=o.includes(".arcgis.com/"),n=o.includes("//services")||o.includes("//tiles")||o.includes("//features")||o.includes("//locationservices")||o.includes("//us-iot")||o.includes("//eu-iot");e.isHosted=a&&n||!a&&!1}function f(e){return e?.length?e.map(((e,r)=>e.uid===`expression-${r}`?{...e,conditions:e.conditions.map(((e,t)=>{const s=`condition-${r}-${t}`;return e.uid===s?e:{...e,uid:s}}))}:{...e,uid:`expression-${r}`,expressionIndex:r,conditions:e.conditions.map(((e,t)=>{const s=`condition-${r}-${t}`;return e.uid===s?e:{...e,uid:s}}))})):e}function O(e,r){const t=r.fieldDomains;if(t){let r="";for(let s=0;s<t.length;s++){const o=t[s];o.code==e&&(r+=(r.length?" | ":"")+o.name)}return r.length||(r=`${e}`),r}return e}function I(e){return!!e.fieldDomains?.length}async function h(e){const{layer:r,mapImageSublayer:t,mode:s}=e;if(!r)return;if("feature-reduction"===s)return await async function(e){const{layer:r,view:t}=e,{modules:s}=e;if("imagery"===r.type||"subtype-group"===r.type||"subtype-sublayer"===r.type||"catalog"===r.type||"catalog-footprint"===r.type||"sublayer"===r.type)return;if(!e.fields?.length){e.fields=[],e.stringFieldsCount=0,e.dateFieldsCount=0,e.numberFieldsCount=1;let o=5e3,n=10,i=0;try{i=await(0,u.g)(r,t),o=i?Math.min(Math.max(10,Math.ceil(i/4)),5e3):5e3,n=i&&i>=1e3?100:10}catch{}s.Field=s.Field||await(0,d.H)();const p=r.featureReduction;e.fields=[],p.fields.forEach((t=>{const i="count"===t.statisticType,p=t.onStatisticField?r.fields.find((e=>e.name===t.onStatisticField)):void 0;if(!t.onStatisticField&&i||p){const r={layerField:new s.Field({name:t.name,alias:t.alias||t.name,type:p?.type||"integer"}),statisticsStatus:i?a.SUCCESS:a.MISSING,statistics:i?{min:1,max:o,avg:n}:void 0,histogramStatus:i?a.FAILED:a.MISSING,uniqueValuesStatus:a.MISSING,partialUniqueValues:!1,label:t.alias||t.name};S(e,r),e.fields.push(r)}}))}}(e);let o=r.fields;if(t?.layer?.portalItem&&t.layer.url?.includes("https://demographics")&&t.layer.url.includes(".arcgis.com")){const e=t.layer.portalItem;try{const r=await e.fetchData();if(r?.thematicGroup){const e=r.thematicGroup.fieldNames;e&&(o=o?.filter((r=>e.indexOf(r.name)>-1)))}}catch(e){}}!function(e,r){if(!e.fields?.length){e.fields=[],e.stringFieldsCount=0,e.dateFieldsCount=0,e.numberFieldsCount=0,e.supportsStandardizedQuery||(r=r?.filter((e=>!["date","date-only","time-only"].includes(e.type))));let t=[];if("subtype-group"!==e.layer.type&&"catalog"!==e.layer.type&&"catalog-footprint"!==e.layer.type){const{popupTemplate:r}=e.layer;t=r?r.fieldInfos??[]:[]}r?.forEach((r=>{const s=t?t.filter((e=>e.fieldName===r.name)):null,o=s?.length?s[0].label:null,n={layerField:r,statisticsStatus:a.MISSING,histogramStatus:a.MISSING,uniqueValuesStatus:a.MISSING,partialUniqueValues:!1,label:o||r.alias||r.name};S(e,n),n.simpleFieldType&&e.fields.push(n)})),function(e){const{layer:r,fields:t}=e;"feature"!==r.type&&"subtype-group"!==r.type&&"subtype-sublayer"!==r.type||t.forEach((t=>{const s=t.layerField.name,o=t.layerField.domain,a=y(s,e);if(a){if(r.subtypeField===s){let t;t="subtype-group"===r.type||"feature"===r.type?r.subtypes:r.parent.subtypes,t.forEach((t=>{"subtype-sublayer"===r.type&&r.subtypeCode!==t.code||(a.fieldDomains=a.fieldDomains||[],a.fieldDomains.push({code:t.code,name:t.name}),S(e,a),t.domains&&Object.keys(t.domains).forEach((r=>{const s=y(r,e);if(s){const o=t.domains[r];"coded-value"===o.type&&o?.codedValues&&o.codedValues.forEach((r=>{let t=!1;s.fieldDomains=s.fieldDomains||[],s.fieldDomains.forEach((e=>{e.code===r.code&&(t=!0,`| ${e.name} |`.includes(`| ${r.name} |`)||(e.name+=` | ${r.name}`))})),t||(s.fieldDomains.push({code:r.code,name:r.name}),S(e,s))}))}})))}))}if("feature"===r.type){const t=r.typeIdField,n=r.types;t&&n?(t===s?(a.fieldDomains=n.map((e=>({code:e.id,name:e.name}))),S(e,a)):(a.fieldDomains=a.fieldDomains||[],n.forEach((r=>{if(r.domains?.[s]&&"inherited"!==r.domains[s].type)r.domains?.[s]?.codedValues&&r.domains[s].codedValues.forEach((r=>{let t=!1;a.fieldDomains.forEach((e=>{e.code===r.code&&(t=!0,`| ${e.name} |`.includes(`| ${r.name} |`)||(e.name+=` | ${r.name}`))})),t||a.fieldDomains.push(e.modules.esriLang.clone(r))}));else{const r=o;r?.codedValues&&r.codedValues.forEach((r=>{let t=!1;a.fieldDomains.forEach((e=>{e.code===r.code&&(t=!0,`| ${e.name} |`.includes(`| ${r.name} |`)||(e.name+=` | ${r.name}`))})),t||a.fieldDomains.push(e.modules.esriLang.clone(r))}))}}))),!I(a)&&o?.codedValues&&(a.fieldDomains=e.modules.esriLang.clone(o.codedValues))):o?.codedValues&&(a.fieldDomains=o.codedValues),S(e,a)}}}))}(e)}}(e,o)}function y(e,r){const{fields:t}=r;for(let r=0;r<t.length;r++){const s=t[r];if(s.layerField.name===e)return s}}function N(e){const{fields:r,defaultFieldName:t}=e;if(t){const e=r.find((e=>e.layerField.name===t));if(e)return e}let s;for(let e=0;e<r.length;e++){const t=r[e];if(t.simpleFieldType&&![o.OID,o.GUID,o.DATE,o.DATE_ONLY,o.TIME_ONLY].includes(t.simpleFieldType)){if(t.simpleFieldType!==o.NUMBER||s)return t;s=t}}return s||r[0]}function E(e,r,t){const{strings:s}=e,p={},u=r.statistics;if(!u)return r.simpleFieldType===o.STRING&&r.uniqueValuesStatus===a.SUCCESS&&r.uniqueValueInfos?.length&&[s.operators.stringOperatorIs,s.operators.stringOperatorIsNot].includes(t)&&(p.value=r.uniqueValueInfos[0].value),p;if(V(e,t)){const e=(new Date).getTime(),r=Math.abs(e-u.avg);r>2*i.YEAR?(p.value=Math.round(r/i.YEAR),p.unit=n.YEAR):r>2*i.MONTH?(p.value=Math.round(r/i.MONTH),p.unit=n.MONTH):r>2*i.WEEK?(p.value=Math.round(r/i.WEEK),p.unit=n.WEEK):r>2*i.DAY?(p.value=Math.round(r/i.DAY),p.unit=n.DAY):r>2*i.HOUR?(p.value=Math.round(r/i.HOUR),p.unit=n.HOUR):(p.value=Math.round(r/i.MINUTE),p.unit=n.MINUTE)}else C(e,t)?(p.value=b(u.avg,e,r),p.value2=b(u.max,e,r)):p.value=b(u.avg,e,r);return p}function T(e,r,t){const s=function(e,r){const{layer:t}=e;let s=2;const o="subtype-group"!==t.type&&"catalog"!==t.type&&"catalog-footprint"!==t.type&&t.popupTemplate;if(o){const e=o.fieldInfos?.filter((e=>e.fieldName===r.layerField.name));if(e?.length){const r=e[0];r.format&&c(r.format.places)&&(s=r.format.places)}}return s}(r,t),o=Math.pow(10,s);return c(e)?Math.round(e*o)/o:void 0}function b(e,r,t){return c(e)?A(t)?Math.round(e):T(e,r,t):void 0}function S(e,r){switch(r.layerField.type){case"string":r.simpleFieldType=o.STRING,e.stringFieldsCount++;break;case"date":I(r)?(r.simpleFieldType=o.STRING,e.stringFieldsCount++):(r.simpleFieldType=o.DATE,e.dateFieldsCount++);break;case"date-only":I(r)?(r.simpleFieldType=o.STRING,e.stringFieldsCount++):r.simpleFieldType=o.DATE_ONLY;break;case"time-only":I(r)?(r.simpleFieldType=o.STRING,e.stringFieldsCount++):r.simpleFieldType=o.TIME_ONLY;break;case"oid":r.simpleFieldType=o.OID;break;case"guid":r.simpleFieldType=o.GUID;break;case"small-integer":case"big-integer":case"integer":case"single":case"double":case"long":I(r)?(r.simpleFieldType=o.STRING,e.stringFieldsCount++):(r.simpleFieldType=o.NUMBER,e.numberFieldsCount++)}}function M(e){return"string"===e.layerField.type}function D(e){return["small-integer","big-integer","integer","single","double","long"].includes(e.layerField.type)}function A(e){return["small-integer","big-integer","integer","long"].includes(e.layerField.type)}function w(e){return["single","double"].includes(e.layerField.type)}function F(e){return"date"===e.layerField.type}function L(e){return"date-only"===e.layerField.type}function R(e){return"time-only"===e.layerField.type}function B(e,r,t){const{strings:s}=t,a=y(e,t);return!!(a?.simpleFieldType&&"failed"!==a.statisticsStatus&&[o.NUMBER,o.DATE,o.DATE_ONLY,o.TIME_ONLY].includes(a.simpleFieldType)&&[s.operators.numberOperatorIs,s.operators.dateOperatorIsOn,s.operators.dateOperatorIsNotOn,s.operators.numberOperatorIsNot,s.operators.numberOperatorIsLessThan,s.operators.numberOperatorIsGreaterThan,s.operators.dateOperatorIsBefore,s.operators.dateOperatorIsAfter,s.operators.dateOperatorIsBeforeOrEqual,s.operators.dateOperatorIsAfterOrEqual,s.operators.numberOperatorIsAtMost,s.operators.numberOperatorIsAtLeast,s.operators.numberOperatorIsBetween,s.operators.dateOperatorIsBetween,s.operators.numberOperatorIsNotBetween,s.operators.dateOperatorIsNotBetween].includes(r))}function v(e){const{layer:r,expressions:t,strings:s}=e;if("feature"!==r.type)return;const{portalItem:a,sourceJSON:n}=r;if(!a)return;const{typeKeywords:i,itemControl:p,portal:u}=a,l=u.isPortal;if(l)return;const d=i?.indexOf("Hosted Service")>-1,c=!l&&i?.indexOf("Location Tracking Service")>-1;if(d&&!c&&u.user&&p&&["admin","update"].includes(p)){const r=s.operators,a=[r.stringOperatorEndsWith,r.stringOperatorContains,r.stringOperatorDoesNotContain],i=[],p=r=>{const t=r.fieldName;if(!t)return;const s=y(t,e);!((s?.simpleFieldType===o.STRING||s?.simpleFieldType===o.GUID)&&(s.layerField.length>4e3||a.includes(r.operator)))&&!i.includes(t)&&i.push(t)};t?.forEach((e=>e.conditions.forEach((e=>p(e)))));const u={indexes:[]};n.indexes=n.indexes||[],i.forEach((e=>{n.indexes.some((r=>r.fields===e))||u.indexes.push({name:`${e}_Index`,fields:e,isUnique:!1,isAscending:!0,description:`${e}_Index`})})),u.indexes.length&&U(u,e)}}async function U(e,r){const{layer:t,parentServiceUrl:s,modules:o}=r;if("feature"!==t.type)return;const{sourceJSON:a}=t,n=t.portalItem,{typeKeywords:i,portal:p}=n,u=i.includes("View Service");if(o.IdentityManager=o.IdentityManager||await(0,d.I)(),u&&!s){const t=`${p.restUrl}/content/items/${n.id}/relatedItems?relationshipType=Service2Service&direction=reverse`,s=await o.IdentityManager.getCredential(p.restUrl,{prompt:!1}),a=await o.esriRequest(t,{query:{f:"json",token:s.token}});return void(a?.data?.total&&a.data.relatedItems.filter((e=>e.typeKeywords.includes("Hosted Service"))).forEach((t=>{r.parentServiceUrl=t.url,U(e,r)})))}const l=`${(s||t.url).replace("/rest/services","/rest/admin/services")}/${t.layerId}/addToDefinition`,c=await o.IdentityManager.getCredential(t.url,{prompt:!1}),m={f:"json",addToDefinition:JSON.stringify(e),async:!p.isPortal,token:c.token},g=await o.esriRequest(l,{query:m,method:"post"});if(p.isPortal)a.indexes=a.indexes||[],a.indexes=a.indexes.concat(e.indexes);else try{await _(g?.data?.statusURL,{f:"json",token:c.token},o.esriRequest),a.indexes=a.indexes||[],a.indexes=a.indexes.concat(e.indexes)}catch(e){}}!function(e){e.AND="and",e.OR="or"}(s||(s={})),function(e){e.NUMBER="number",e.STRING="string",e.DATE="date",e.DATE_ONLY="date-only",e.TIME_ONLY="time-only",e.OID="oid",e.GUID="guid",e.DOMAIN="domain"}(o||(o={})),function(e){e.MISSING="missing",e.IN_PROGRESS="inProgress",e.SUCCESS="success",e.FAILED="failed"}(a||(a={})),function(e){e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"}(n||(n={})),function(e){e[e.MINUTE=6e4]="MINUTE",e[e.HOUR=36e5]="HOUR",e[e.DAY=864e5]="DAY",e[e.WEEK=6048e5]="WEEK",e[e.MONTH=2592e6]="MONTH",e[e.YEAR=31104e6]="YEAR"}(i||(i={})),function(e){e.SMALL="s",e.MEDIUM="m",e.LARGE="l"}(p||(p={}));const _=async(e,r,t)=>{if(!e)throw new Error("pollForStatus: no status URL");const s=["processing","partial","Pending","InProgress"],o=["completed","Completed"];try{const a=await t(e,{query:r}),n=a?.data?.status;if(s.includes(n))return await(0,l.t)(500),await _(e,r,t);if(o.includes(n))return a;throw a}catch(e){throw console.error(e),e}};function k(e){const{layer:r,mode:t,supportsCurrentUser:s,strings:a}=e,n="esri.layers.StreamLayer"===r.declaredClass,i="esri.layers.ImageryLayer"===r.declaredClass;e.operators||(e.operators=new Map,e.operators.set(o.STRING,[]),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIs}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsNot}),n||i||(e.operators.get(o.STRING).push({name:a.operators.stringOperatorIncludes}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorExcludes})),e.operators.get(o.STRING).push({name:a.operators.stringOperatorStartsWith}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorEndsWith}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorContains}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorDoesNotContain}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsBlank}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsNotBlank}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsEmpty}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsNotEmpty}),s&&(e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsCurrentUser}),e.operators.get(o.STRING).push({name:a.operators.stringOperatorIsNotCurrentUser})),e.operators.set(o.DATE,[]),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsOn}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsNotOn}),n||(e.operators.get(o.DATE).push({name:a.operators.numberOperatorIncludes}),e.operators.get(o.DATE).push({name:a.operators.numberOperatorExcludes})),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsBefore}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsAfter}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsBeforeOrEqual}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsAfterOrEqual}),(e.isHosted||e.supportedSqlParserVersion||"feature"===r.type&&null!=r.version&&r.version>=10.91&&e.supportsStandardizedQuery)&&(e.operators.get(o.DATE).push({name:a.operators.dateOperatorInTheLast}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorNotInTheLast})),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsBetween}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsNotBetween}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsBlank}),e.operators.get(o.DATE).push({name:a.operators.dateOperatorIsNotBlank}),e.operators.set(o.DATE_ONLY,[]),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsOn}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsNotOn}),n||(e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIncludes}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorExcludes})),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsBefore}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsAfter}),(e.isHosted||e.supportedSqlParserVersion)&&(e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorInTheLast}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorNotInTheLast})),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsBetween}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsNotBetween}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsBlank}),e.operators.get(o.DATE_ONLY).push({name:a.operators.dateOperatorIsNotBlank}),e.operators.set(o.TIME_ONLY,[]),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsOn}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsNotOn}),n||(e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIncludes}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorExcludes})),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsBefore}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsAfter}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsBeforeOrEqual}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsAfterOrEqual}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsBetween}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsNotBetween}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsBlank}),e.operators.get(o.TIME_ONLY).push({name:a.operators.dateOperatorIsNotBlank}),e.operators.set(o.NUMBER,[]),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIs}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsNot}),"feature-reduction"===t||n||i||(e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIncludes}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorExcludes})),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsAtLeast}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsLessThan}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsAtMost}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsGreaterThan}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsBetween}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsNotBetween}),"feature-reduction"!==t&&(e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsBlank}),e.operators.get(o.NUMBER).push({name:a.operators.numberOperatorIsNotBlank})),e.operators.set(o.DOMAIN,[]),e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIs}),e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIsNot}),n||i||i||(e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIncludes}),e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorExcludes})),e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIsBlank}),e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIsNotBlank}),s&&(e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIsCurrentUser}),e.operators.get(o.DOMAIN).push({name:a.operators.stringOperatorIsNotCurrentUser})))}function x(e,r){const{strings:t,defaultOperator:s}=e;if("cluster_count"===r.layerField.name)return t.operators.numberOperatorIsGreaterThan;switch(r.layerField.type){case"string":return t.operators.stringOperatorIs;case"date":case"date-only":case"time-only":if(I(r))return t.operators.stringOperatorIs;if(!s)return t.operators.dateOperatorIsBefore;switch(s){case">":return t.operators.dateOperatorIsAfter;case">=":return t.operators.dateOperatorIsAfterOrEqual;case"<":return t.operators.dateOperatorIsBefore;case"<=":return t.operators.dateOperatorIsBeforeOrEqual;default:return t.operators.dateOperatorIsOn}case"oid":case"guid":return t.operators.numberOperatorIs;case"small-integer":case"big-integer":case"integer":case"single":if(I(r))return t.operators.stringOperatorIs;if(!s)return t.operators.numberOperatorIs;switch(s){case">":return t.operators.numberOperatorIsGreaterThan;case">=":return t.operators.numberOperatorIsAtLeast;case"<":return t.operators.numberOperatorIsLessThan;case"<=":return t.operators.numberOperatorIsAtMost;default:return t.operators.numberOperatorIs}case"double":case"long":if(I(r))return t.operators.stringOperatorIs;if(!s)return t.operators.numberOperatorIsAtLeast;switch(s){case">":return t.operators.numberOperatorIsGreaterThan;case">=":return t.operators.numberOperatorIsAtLeast;case"<":return t.operators.numberOperatorIsLessThan;case"<=":return t.operators.numberOperatorIsAtMost;default:return t.operators.numberOperatorIs}default:return t.operators.stringOperatorIs}}function C(e,r){const{strings:t}=e;return!(!r||![t.operators.numberOperatorIsBetween,t.operators.numberOperatorIsNotBetween,t.operators.dateOperatorIsBetween,t.operators.dateOperatorIsNotBetween].includes(r))}function Y(e,r){const{strings:t}=e;return!(!r||![t.operators.stringOperatorIsBlank,t.operators.stringOperatorIsNotBlank,t.operators.numberOperatorIsBlank,t.operators.numberOperatorIsNotBlank,t.operators.dateOperatorIsBlank,t.operators.dateOperatorIsNotBlank].includes(r))}function G(e,r){const{strings:t}=e;return!(!r||![t.operators.stringOperatorIsEmpty,t.operators.stringOperatorIsNotEmpty].includes(r))}function $(e,r){const{strings:t}=e;return!(!r||![t.operators.stringOperatorIsCurrentUser,t.operators.stringOperatorIsNotCurrentUser].includes(r))}function q(e,r){const{strings:t}=e;return!(!r||![t.operators.stringOperatorIncludes,t.operators.stringOperatorExcludes,t.operators.numberOperatorIncludes,t.operators.numberOperatorExcludes].includes(r))}function V(e,r){const{strings:t}=e;return!(!r||![t.operators.dateOperatorInTheLast,t.operators.dateOperatorNotInTheLast].includes(r))}function H(e,r,t,s){return r.simpleFieldType!==t.simpleFieldType?function(e,r){const{strings:t}=e;return!(!r||![t.operators.stringOperatorIncludes,t.operators.numberOperatorIncludes].includes(r))}(e,s)?function(e,r){const{strings:t}=e;switch(r.simpleFieldType){case"string":case"domain":default:return t.operators.stringOperatorIncludes;case"number":case"oid":case"guid":return t.operators.numberOperatorIncludes}}(e,t):function(e,r){const{strings:t}=e;return!(!r||![t.operators.stringOperatorExcludes,t.operators.numberOperatorExcludes].includes(r))}(e,s)?function(e,r){const{strings:t}=e;switch(r.simpleFieldType){case"string":default:return t.operators.stringOperatorExcludes;case"number":case"oid":case"guid":return t.operators.numberOperatorExcludes}}(e,t):x(e,t):s}},53127:(e,r,t)=>{t.d(r,{a:()=>o,d:()=>s,t:()=>a});const s=(e,r)=>{let t,s="idle";const o=async(...o)=>await new Promise((a=>{switch(s){case"flushed":s="idle",t?(clearTimeout(t),a(e(...o))):a(null);break;case"invoked":clearTimeout(t),s="idle",a(e(...o));break;case"cancelled":clearTimeout(t),s="idle",a(null);break;default:t&&clearTimeout(t),s="pending",t=setTimeout((()=>{s="idle",a(e(...o))}),r)}}));return o.flush=async function(...e){return s="flushed",await o(...e)},o.invoke=async function(...e){return s="invoked",await o(...e)},o.cancel=async function(...e){return s="cancelled",await o(...e)},o.getStatus=function(){return s},o},o=(e,r)=>{let t;return async(...s)=>await new Promise((o=>{t||(t=setTimeout((()=>{clearTimeout(t),t=void 0,o(e(...s))}),r))}))};function a(e){return new Promise((r=>setTimeout(r,e)))}}}]);