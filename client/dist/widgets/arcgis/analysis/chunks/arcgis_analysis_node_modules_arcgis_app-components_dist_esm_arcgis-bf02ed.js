/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-bf02ed.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-bf02ed"],{3826:(e,i,n)=>{n.d(i,{a:()=>t,b:()=>o,c:()=>l,d:()=>r});const r=(0,n(37762).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),t=r.state,o=r.state,l=r.state},26854:(e,i,n)=>{n.d(i,{a:()=>a,c:()=>u,g:()=>o,h:()=>t,i:()=>l,r:()=>s});var r=n(15332);function t(e){const i=document.createElement("textarea");return i.innerHTML=e,i.innerText}function o(e){return function(e){return null==e?void 0:e.replace(/&#10;&#13;|&#10;|&#13;|\r\n|\r|\n/g,"<br>")}(function(e){return null==e?void 0:e.replace(/(?:\r)/g,"&#10;").replace(/(?:\n)/g,"&#13;")}(function(e){return null==e?void 0:e.replace(/(https?:\/\/[^\s]+)/g,(e=>`<a href="${e}" target="_blank">${e}</a>`))}(function(e){return null==e?void 0:e.replace(/(?:&#10;)/g,"\r").replace(/(?:&#13;)/g,"\n")}(e))))}function l(e){return e.replace(/\$\{startSup\}/g,"<sup>").replace(/\$\{endSup\}/g,"</sup>")}function s(e,i,n){return e.replace(/\$\{startLink\}/g,`<calcite-link label="${n}" href="${i}" target="_blank">`).replace(/\$\{endLink\}/g,"</calcite-link>")}function a(e){return e.replace(/\$\{startStrong\}/g,"<strong>").replace(/\$\{endStrong\}/g,"</strong>")}function u(e){return(0,r.s)((null==e?void 0:e.trim())||"").replace(/[!*+\-&|()[\]{}^~?:"\\]/g,"\\$&")}},50822:(e,i,n)=>{n.d(i,{a:()=>l,b:()=>o,c:()=>u,d:()=>c,e:()=>d,f:()=>v,g:()=>p,i:()=>s,u:()=>a});n(93814);var r=n(87744);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function o(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function l(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function a(e,i){return s(e,i)||function(e,i){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,t="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!s(e,i)&&t&&r.includes("esri_")&&!o.includes(r))return!1;return t}(e,i)}const u=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),c=(e,i)=>`${(0,r.a)(i)}item.html?id=${e}`,d=(e,i)=>`${(0,r.g)(i)}/content/users/${e}`,v=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{}),p=(e,i)=>`${(0,r.a)(i)}content/items/${e}`},56175:(e,i,n)=>{n.d(i,{A:()=>O,B:()=>U,C:()=>p,D:()=>A,a:()=>s,b:()=>o,c:()=>l,d:()=>m,e:()=>w,f:()=>b,g:()=>y,h:()=>I,i:()=>v,j:()=>S,k:()=>$,l:()=>a,m:()=>P,n:()=>c,o:()=>d,p:()=>g,q:()=>N,r:()=>G,s:()=>u,t:()=>C,u:()=>_,v:()=>T,w:()=>x,x:()=>f,y:()=>h,z:()=>D});var r=n(50822);const t=e=>{var i,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function o(e){return e&&!e.orgId}function l(e,i){return(0,r.u)(e,i)||"update"===e.itemControl||(0,r.c)([e],i)&&b(i)}function s(e,i){const n=(0,r.c)([e],i),t=(0,r.u)(e,i)||b(i)&&n,o=y(i)&&k(i);return!!(t||n&&o)}const a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function v(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function p(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function g(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const m=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},f=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},h=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function b(e){return"org_admin"===t(e)||"account_admin"===t(e)}function w(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function y(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function S(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function I(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function P(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const k=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function C(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function O(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function $(e,i,n,r){const t=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!b(i)&&!o||!(null==n?void 0:n.isPortal)&&!t)}function A(e){return!!e&&(!y(e)||y(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const U=({items:e,user:i,portal:n})=>{const t=e[0],o=t.owner;if(n.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const s=(0,r.u)(t,i),a=y(i),u=L(i),c=l(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!a&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||C(e)||_(e)||!!i.canSharePublic&&D(e)}(i,n)||L(i));return s||c||(0,r.c)(e,i)&&u};function L(e){return T(e)||x(e)||O(e)}const B=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function G(e){return e.some((e=>B.includes(e)))}function N(e){return e.filter((e=>B.includes(e)))}},66111:(e,i,n)=>{n.d(i,{A:()=>k,B:()=>G,a:()=>A,b:()=>b,c:()=>$,d:()=>v,e:()=>p,f:()=>S,g:()=>w,h:()=>g,i:()=>h,j:()=>I,k:()=>P,l:()=>D,m:()=>c,n:()=>x,o:()=>O,p:()=>d,q:()=>H,r:()=>U,s:()=>N,t:()=>T,u:()=>L,v:()=>E,w:()=>B,x:()=>W,y:()=>a,z:()=>C});var r=n(83929),t=n(87744),o=n(56175),l=n(59317),s=n(50637);async function a(){return new Promise((async e=>{const{portal:i}=l.c;if(null==i?void 0:i.isPortal){const n=i.helperServices.geocode,r=await function(e){const{config:i,portal:n}=l.c;return new Promise((async(r,t)=>{const o=e.filter((e=>u(e.url,n))).filter((e=>e.isEsriBatchGeocoder))[0];if(o){const e=o.url.split("/servers/")[1].split("/rest/services/")[0],n=`${i.restBaseUrl}/content/items/${e}`;try{r((await(0,s.r)(n)).url)}catch(e){t(e)}}else t("No world geocoder configured")}))}(n);e(r)}else{const n=function(e){const i=null==e?void 0:e.portalHostname;if(-1!==i.indexOf("dev"))return"dev";if(-1!==i.indexOf("qa"))return"qa";return""}(i);e(`https://geocode${n}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function u(e="",i){var n;const r=i.isPortal,t=e.toLowerCase(),o=t.indexOf("/geocodeserver")>-1&&t.indexOf("/rest/services/")>-1,l=r&&t.indexOf(null===(n=i.portalHostname)||void 0===n?void 0:n.toLowerCase())>-1,s=!r&&t.indexOf("utility")&&t.indexOf(".arcgis.com")>-1;return o&&(l||s)}function c(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function d(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function v(e,i){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,r.i)(i,e)}const p=e=>!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishServerServices"));async function g(e,i){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,r.i)(i,e)}const m=async(e,i)=>{var n;return await g(e,i)&&(!i.isPortal||!!i.supports3DTilesServices||!!(null===(n=i.sourceJSON)||void 0===n?void 0:n.supports3DTilesServices))};function f(e){return!(0,o.b)(e)&&!0}function h(e){var i;return!(0,o.b)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const b=e=>!(0,o.b)(e);function w(e,i,n){var r,t;const o=!!(null===(t=null===(r=i.helperServices)||void 0===r?void 0:r.rasterAnalytics)||void 0===t?void 0:t.url),l=function(e,i,n){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||y(n))}(e,i,n),s=i.isPortal?l:l||function(e,i,n){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&y(n)}(e,i,n);return o&&s}function y(e){return null==e?void 0:e.some((e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some((e=>"image"===e.toLowerCase()))}))}async function S(e){var i;const{userLicensedItems:n}=await(0,s.r)(`${null!==(i=e.restUrl)&&void 0!==i?i:e.portalUrl}/community/self?returnUserLicensedItems=true`);return n}function I(e,i){var n,r;const l=null===(n=i.helperServices)||void 0===n?void 0:n.geocode.some((({url:e})=>u(e,i))),s=null!==(r=null==e?void 0:e.privileges)&&void 0!==r?r:[];return!(0,o.b)(e)&&l&&(!i.isPortal||!(0,t.i)(i)&&s.includes("portal:user:viewOrgItems")&&s.includes("portal:user:createItem"))}const P=e=>!(0,o.b)(e);function k(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function C(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function _(e){return["portal:publisher:createDataPipelines","portal:user:createItem","portal:publisher:publishFeatures"].every((i=>{var n;return null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes(i)}))}function D(e,i,n){var r,t,l;return!(0,o.d)(n)&&((null==i?void 0:i.isPortal)?!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores")):_(e)&&("1"===(null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.level)||"2"===(null===(l=null==e?void 0:e.sourceJSON)||void 0===l?void 0:l.level)))}const x=(e,i,n)=>!i.isPortal&&!(0,o.b)(e)&&!(0,o.d)(n)&&_(e);function O(e){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const T=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function $(e,i,n){return!i.isPortal&&await v(e,i)&&await async function(e,i,n){return!(0,o.b)(e)&&!!i.supportsHostedServices&&c(e)&&(await g(e,i)||await v(e,i)||h(e)||f(e)||w(e,i,n))}(e,i,n)}async function A(e,i,n){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return v(e,n);case"Tile Package":return g(e,n);case"3DTiles Package":return m(e,n);case"Vector Tile Package":return f(e);case"Scene Package":return h(e);case"Service Definition":return async function(e,i){return await v(e,i)&&await g(e,i)}(e,n);default:return!0}}function U(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}function L(e,i){var n,r,t;return(0,o.f)(e)||U(e)||!!((null!==(n=null==e?void 0:e.assignedCredits)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.assignedCredits)>-1&&(null===(t=null==i?void 0:i.portalProperties)||void 0===t?void 0:t.showCreditsOnProfile))}const B=e=>!1;function G(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function N(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}function H(e){return(0,o.e)(e)||N(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}function W(e){return e.map((e=>`portal:app:access:item:${e.id}`))}const E=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")},69748:(e,i,n)=>{n.r(i),n.d(i,{arcgis_new_item_pages_developer_credentials_automate_choice:()=>c});var r=n(87849),t=n(95878),o=n(26854),l=n(3826),s=n(59317),a=n(66111);n(37762),n(15332),n(83929),n(50637),n(931),n(93814),n(87744),n(56175),n(50822);const u={anonymousAccessDescription:"https://developers.arcgis.com/documentation/security-and-authentication/api-key-authentication/",reviewAgreementDescription:"https://developers.arcgis.com/documentation/security-and-authentication/api-key-authentication/",privateContentDescription:"https://developers.arcgis.com/documentation/security-and-authentication/api-key-authentication/"},c=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.newItemSetButtonState=(0,r.c)(this,"newItemSetButtonState",7),this.selectedOption=null}async handleNext(){const e=(0,a.v)(s.c.user);l.a.isPersonalAPIToken="automationScriptCredentials"===this.selectedOption,this.newItemUpdatePage.emit(e?"developerCredentialsPrivilegePicker":"itemProperties")}modifyOptionUI(){this.selectedOption&&this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!1}})}componentWillLoad(){this.i18n=t.u.i18n.developerCredentialsAutomateChoice,!this.selectedOption&&this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!0}})}renderWarningInformation(e){const{i18n:i}=this,n="sharedAppCredentials"===e?i.sharedAppWarningTitle:i.automationWarningTitle,t="sharedAppCredentials"===e?["privateContentDescription","reviewAgreementDescription"]:["anonymousAccessDescription","guardWarningDescription","reviewAgreementDescription"];return(0,r.h)("div",{class:"bottom-section"},(0,r.h)("hr",null),(0,r.h)("div",{class:"warning-information"},(0,r.h)("div",{class:"warning-title"},(0,r.h)("calcite-icon",{scale:"s",icon:"exclamation-mark-triangle-f"}),(0,r.h)("p",{class:"warning-text"},n)),(0,r.h)("p",{class:"bullet-point-header"},i.pleaseNote),(0,r.h)("ul",null,t.map(((e,n)=>(0,r.h)("li",{key:n,class:"warning-bullet-point",innerHTML:"guardWarningDescription"!==e?(0,o.r)(i.warningDescriptions[e],u[e],"label"):i.warningDescriptions[e]}))))))}render(){const{i18n:e,selectedOption:i}=this;return(0,r.h)(r.H,{key:"771c4db6f82d975e0bc20967a5698fbf6b6787b1"},(0,r.h)("div",{key:"94e3ebf9f85d1b2d33d5f89cd93ce3edf5881027",class:"top-section"},(0,r.h)("p",{key:"b45850a2d0dcc1cfb8694ef0d8f6a8cb1e77ef6e",class:"title"},(0,r.h)("strong",{key:"58e7dcb66868de1a66b54c60f98d0b6521c04b43"},e.howCredentialsUsedTitle)),(0,r.h)("p",{key:"6a72d340b17dd3baee78f0e117296d93754cd592",class:"description"},e.howCredentialsUsedDescription)),(0,r.h)("div",{key:"c3c9b8962b0f46b14cf977fbf6b2e4f9197bfecb",class:"options-section"},["sharedAppCredentials","automationScriptCredentials"].map(((n,t)=>(0,r.h)("calcite-label",{key:t,layout:"inline"},(0,r.h)("calcite-radio-button",{checked:i===n,value:n,onCalciteRadioButtonChange:e=>this.selectedOption=e.target.value}),e.options[n])))),!!this.selectedOption&&this.renderWarningInformation(this.selectedOption))}static get watchers(){return{selectedOption:["modifyOptionUI"]}}};c.style=":host{background-color:var(--calcite-color-foreground-1)}.top-section,.options-section,.warning-information{margin:0.75rem}.title{margin:0px}.description{margin-top:0px}.warning-title{display:flex;align-items:flex-start}.warning-text{margin-top:0px}.warning-bullet-point{margin-bottom:0.5rem}.warning-information{margin-top:1rem;font-size:0.875rem}.bullet-point-header{margin-bottom:0px;padding-inline-start:1.8rem}p{font-size:1rem}calcite-icon{margin-inline-end:0.75rem;padding-top:0.25rem;--calcite-ui-icon-color:var(--calcite-color-status-warning)}"},95878:(e,i,n)=>{n.d(i,{a:()=>r,u:()=>t});const r=(0,n(37762).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),t=r.state}}]);