/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--9ebfee.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--9ebfee"],{7713:(e,t,n)=>{n.r(t),n.d(t,{arcgis_map_config_time_zone:()=>r});var o=n(11254),i=n(17840),a=n(14528),s=n(84260);n(56612),n(69811),n(10465);const r=class{constructor(e){(0,o.r)(this,e),this.manager=(0,a.u)(this),this.strings=(0,s.u)({blocking:!0}),this.mapView=void 0,this.config=void 0}async closePopover(){this.removePopover()}async componentWillLoad(){const{mapView:e}=this;(0,i.i)(e.timeZone)||(e.timeZone="system")}async componentDidLoad(){this.containerPanelNode=(0,i.q)(this.el,"calcite-panel"),this.containerPanelNode||(this.containerPanelNode=(0,i.q)(this.el,"calcite-flow-item")),this.parentBlockNode=(0,i.q)(this.el,"calcite-block"),this.parentBlockNode?.addEventListener("calciteBlockToggle",(()=>{this.removePopover()}))}disconnectedCallback(){this.removePopover()}render(){const{strings:e,mapView:t}=this;return(0,o.h)(o.H,{key:"71bd0738a7777b3593bd5db44cb0eed0b023313b"},(0,o.h)("div",{key:"452f3aac0ff214b944d77a3299ed5e073ac07477",class:"wrapper-node",ref:e=>this.wrapperNode=e},(0,o.h)("calcite-label",{key:"58b3f25312c6b926104961e143c387b203e0c394",layout:"inline"},(0,o.h)("section",{key:"b2997c10865fe4f56d0e971be87fcc3824b865d0",class:"time-zone-toggle"},e.timeZoneLabel,(0,o.h)("calcite-button",{key:"1824539e7e2b5c34ffb32c61c45ca6b4921b32ff",class:"info-button","icon-start":"information",scale:"s",appearance:"transparent",kind:"neutral",onClick:e=>{e.stopPropagation(),this.popoverNode?.parentElement?this.removePopover():this.openPopover()},ref:e=>this.infoButtonNode=e}))),(0,o.h)("calcite-radio-button-group",{key:"092f02c45a9ea7edd96f6b2e75c8f6ed4d5d7067",ref:e=>this.radioButtonGroupNode=e,name:"time-zone-options",onCalciteRadioButtonGroupChange:e=>{const t=e.target;this.handleTimeZoneOptionChange(t.selectedItem.value)}},(0,o.h)("div",{key:"8cccbb581c15ce0732b7fae18f7394ec87bf182c",class:"radio-button-group-wrapper"},(0,o.h)("calcite-label",{key:"9397417d48eb46ff93665b3e5e9fcf2ebd756c98",layout:"inline"},(0,o.h)("calcite-radio-button",{key:"2f0408c049941399596d30eb094890e8e71e411d",checked:"system"===t.timeZone,value:"system"}),e.deviceLabel),(0,o.h)("calcite-label",{key:"3b1cf24d1a93e748fe2dde827d628db4c571996a",layout:"inline"},(0,o.h)("calcite-radio-button",{key:"bd1a89f9d4c9a4223737673f332dc34784be7b67",checked:"system"!==t.timeZone&&"unknown"!==t.timeZone,value:"time-zone"}),e.specificLabel),(0,o.h)("calcite-input-time-zone",{key:"a5330985f1fc7b334bba886153e182ae7d09266c",class:(["system","unknown"].includes(t.timeZone)?"hidden":"")+" block-content-padding",mode:"region",value:t.timeZone,onCalciteInputTimeZoneOpen:()=>this.setInputTimeZoneFocus(),onCalciteInputTimeZoneClose:()=>this.setInputTimeZoneFocus(),onCalciteInputTimeZoneChange:()=>t.timeZone=this.ianaTimeZoneNode.value,ref:e=>this.ianaTimeZoneNode=e}),(0,o.h)("calcite-label",{key:"6df5b8e1ffe8fa5a803f23ed075075f0014f7b29",layout:"inline"},(0,o.h)("calcite-radio-button",{key:"7879246b43f9232eaf57da75b2965acc3d322b32",checked:"unknown"===t.timeZone,value:"unknown"}),e.dataLabel)))))}handleTimeZoneOptionChange(e){const{mapView:t}=this,n=this.ianaTimeZoneNode.value;t.timeZone="time-zone"!==e?e:n;const o="time-zone"===this.radioButtonGroupNode.selectedItem.value?"remove":"add";this.ianaTimeZoneNode.classList[o]("hidden")}openPopover(){const{config:e,strings:t}=this;this.popoverNode=document.createElement("arcgis-map-config-time-zone-popover");const n=this.popoverNode;n.popoverProps={refElement:this.containerPanelNode??this.parentBlockNode??this.wrapperNode,offsetSkidding:this.containerPanelNode?100:0},n.strings=t,n.config=e,n.addEventListener("arcgisPopoverClose",(()=>{this.closePopover(),this.infoButtonNode.setFocus()})),document.body.appendChild(n)}removePopover(){this.popoverNode?.parentElement?.removeChild(this.popoverNode),this.popoverNode=void 0}setInputTimeZoneFocus(){!!navigator.userAgentData?.brands.some((e=>"Chromium"===e.brand))&&(this.ianaTimeZoneNode.blur(),this.ianaTimeZoneNode.setFocus())}static get assetsDirs(){return["assets"]}get el(){return(0,o.a)(this)}};r.style=":host{height:100%}.wrapper-node{background-color:var(--calcite-color-foreground-1)}.time-zone-toggle{font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium)}.info-button{margin:auto 0.25rem}.radio-button-group-wrapper{display:flex;flex-direction:column;width:100%}.block-content-padding{padding-bottom:10px}.hidden{display:none}"},10465:(e,t,n)=>{n.d(t,{D:()=>o,a:()=>u,b:()=>c,c:()=>r,g:()=>v,s:()=>y});class o{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const i=(e,t,n)=>(0,s(t).subscribe)((t=>{const o=t.some((t=>((e,t)=>{let n=e;for(;n;){if(n===t)return!0;if(!n.parentNode)return!1;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(e,t.target)));o&&n()})),a={},s=e=>{const t=e.join(","),n=a[t];if(void 0!==n)return n;const o=new Set,i=new MutationObserver((e=>o.forEach((t=>t(e)))));globalThis.document&&i.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe:e=>(o.add(e),()=>{o.delete(e),0===o.size&&(i.disconnect(),a[t]=void 0)})};return a[t]=s,s},r=(e,t)=>{let n=e;for(;n;){const e=n.closest?.(t);if(e)return e;const o=n.getRootNode?.();if(o===globalThis.document)return null;n=o.host}return null},c=e=>l(e,"dir","ltr"),l=(e,t,n)=>{const o=r(e,`[${t}]`);return o?.getAttribute(t)??n},d=e=>{let t="";for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},u=()=>[d(2),d(1),d(1),d(1),d(3)].join("-"),h="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),p=new Set(h),m="en",b={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},f={},g=async(e,t)=>{const n=`${t}${e}.json`;try{const e=await fetch(n);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===m?{}:await g(m,t)},v=e=>{const t=l(e,"lang",globalThis.navigator?.language||m);return{lang:t,t9nLocale:k(t)}},k=e=>{const[t,n]=e.split("-"),o=t.toLowerCase();let i=o;return n&&(i=`${o}-${n.toUpperCase()}`),i=b[i]??i,p.has(i)?i:n?k(o):m},y=(e,t,n,o)=>{let a;const s=()=>w(e,t(),o).then((e=>{a?.lang===e.lang&&a.t9nLocale===e.t9nLocale&&a.t9nStrings===e.t9nStrings||n(e),a=e})).catch(console.error);return queueMicrotask(s),i(e,["lang"],s)},w=async(e,t,n=e.localName.split("-").slice(1).join("-"))=>{const{lang:o,t9nLocale:i}=v(e),a=`${t}/${n}/t9n`,s=null===n?{}:await(async(e,t,n="")=>{const o=`${t}/${n}`,i=`${o}${e}.json`;return f[i]??(f[i]=g(e,o)),await f[i]})(i,a,"messages.");return{lang:o,t9nLocale:i,t9nStrings:s}}},84260:(e,t,n)=>{n.d(t,{u:()=>s});var o=n(11254),i=n(10465),a=n(14528);function s({propertyName:e="strings",name:t}){let n=(0,a.r)();const s=(0,i.g)(n.el),c=new i.D,l={_lang:s.lang,_t9nLocale:s.t9nLocale};n.manager.onLoad((()=>c.promise));const d=new WeakRef(n);function u(){const e=d.deref();return e||p?.(),e}n=void 0;const h=r((()=>u()?.el)),p=(0,i.s)(h,(()=>(0,o.g)("./assets")),(({t9nLocale:t,t9nStrings:n,lang:o})=>{const i=u();if(!i)return;i[e]={...n,_lang:o,_t9nLocale:t},c.resolve()}),t);return l}const r=e=>new Proxy({},{get(t,n){const o=e();if(!o)return;const i=Reflect.get(o,n,o);return"function"==typeof i?i.bind(o):i}})}}]);