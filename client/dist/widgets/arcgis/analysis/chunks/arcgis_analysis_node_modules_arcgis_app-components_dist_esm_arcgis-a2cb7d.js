/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a2cb7d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a2cb7d"],{931:(t,e,n)=>{n.d(e,{l:()=>r});var i=n(93814);const r=async(t,e)=>(await i.e.exports.loadModules(t,e)).map((t=>t.__esModule&&t.default?t.default:t))},4429:(t,e,n)=>{n.d(e,{a:()=>l,b:()=>d,c:()=>a,d:()=>c,e:()=>r,f:()=>i,g:()=>h,i:()=>v,m:()=>s,t:()=>o,u:()=>u});const i=(t,e)=>{let n,i="idle";const r=(...r)=>new Promise((a=>{switch(i){case"flushed":i="idle",n?(clearTimeout(n),a(t(...r))):a(null);break;case"invoked":clearTimeout(n),i="idle",a(t(...r));break;case"cancelled":clearTimeout(n),i="idle",a(null);break;default:n&&clearTimeout(n),i="pending",n=setTimeout((()=>(i="idle",a(t(...r)))),e)}}));return r.flush=function(...t){return i="flushed",r(...t)},r.invoke=function(...t){return i="invoked",r(...t)},r.cancel=function(...t){return i="cancelled",r(...t)},r.getStatus=function(){return i},r};function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(t){return null!=t}async function s(t,e){return await Promise.all([t,o(e)]),t}function o(t){return new Promise((e=>setTimeout(e,t)))}const l=(t,e)=>Object.fromEntries((t||[]).map((t=>{const{key:n,data:i}=e(t);return[n,i]}))),c=(t,e)=>t.length===e.length&&t.reduce(((t,n)=>t&&e.indexOf(n)>-1),!0);function u(t,e){const n=[],i={};return t.forEach((t=>{const r=e(t);null==i[r]&&(i[r]=t,n.push(t))})),n}function d(t){const e={boolean:{},number:{},string:{}},n=[];return t.filter((t=>{let i=typeof t;return i in e?!e[i].hasOwnProperty(t)&&(e[i][t]=!0):!(n.indexOf(t)>=0)&&n.push(t)}))}const h=(t,e)=>[...Array(Math.ceil(t.length/e))].map(((n,i)=>t.slice(e*i,e+e*i))),v=(t,e)=>t.includes(e)},7525:(t,e,n)=>{n.r(e),n.d(e,{arcgis_user_avatar:()=>o});var i=n(87849),r=n(64099),a=n(50637),s=n(56462);n(15332),n(81034),n(931),n(93814),n(59317),n(37762),n(87744),n(62261);const o=class{constructor(t){(0,i.r)(this,t),this.user=void 0,this.portal=void 0,this.scale="m",this.showName=void 0,this.showAvatar=!0,this.heading=void 0,this.description=void 0,this.underline=void 0,this.username=void 0,this.wrap=void 0,this.checkOnline=void 0}async componentWillLoad(){const{el:t,portal:e,username:n,checkOnline:i}=this;this.lang=await(0,r.a)(t),n?this.user=await(0,s.f)(n,e,i):this.thumbnailUrl=(0,s.d)(this.user,e,this.checkOnline)}updateThumbnail(){this.thumbnailUrl=(0,s.d)(this.user,this.portal,this.checkOnline)}renderSkeleton(){return(0,i.h)("div",{class:"skeleton"},this.showAvatar&&(0,i.h)("div",{class:"skeleton-avatar"}),this.showName&&(0,i.h)("div",{class:"skeleton-name"}))}renderUser(){const{user:t,lang:e,thumbnailUrl:n,showAvatar:r,showName:o,description:l,scale:c,underline:u,heading:d}=this,{fullName:h,username:v}=t,p=(0,a.d)(t),m=!!l,g=((null==h?void 0:h.split(" "))||[]).slice(0,2).join(" "),f=this.wrap?"text--clamp":"text--ellipsis";return[r&&(0,i.h)("calcite-avatar",Object.assign({class:"avatar",scale:"xs"===c?"s":c,fullName:g,username:v,userId:p,thumbnail:n},o||m?{inert:!0}:{})),(o||m)&&(0,i.h)("span",{class:{text:!0,"text--underline":u,"text--no-avatar":!r}},o&&(0,i.h)("span",{class:{title:!0,"has-description":m,[f]:!0}},d||(0,s.g)(t,e)),m&&(0,i.h)("span",{class:{description:!0,[f]:!0}},l))]}render(){return(0,i.h)(i.H,{key:"7f4c21e62ede5c15cd443145cf5208d8e97b8731"},this.user&&this.lang?this.renderUser():this.renderSkeleton())}get el(){return(0,i.a)(this)}static get watchers(){return{user:["updateThumbnail"]}}};o.style=":host{max-width:100%}.skeleton{display:flex}@keyframes pulse{50%{opacity:.5}}.skeleton{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;align-items:center}.skeleton-avatar{border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.skeleton-name{border-radius:var(--calcite-border-radius);background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-skeleton-width);border-radius:var(--arcgis-user-avatar-spacing);height:var(--arcgis-user-avatar-spacing);margin-inline-start:var(--arcgis-user-avatar-spacing)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.avatar{display:block;flex-shrink:0;flex-grow:0;border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.text{display:flex;min-width:0px;flex-direction:column;justify-content:center;color:var(--calcite-color-text-2);text-align:start;margin-inline-start:var(--arcgis-user-avatar-spacing);line-height:calc(var(--arcgis-user-avatar-size) / 2)}.text--no-avatar{margin-inline-start:0px}.-text-underline .title{text-decoration-line:underline}.text--clamp{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.text--ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-description{font-weight:500}.description{font-weight:400;color:var(--calcite-color-text-2)}:host{display:flex;min-width:0px;align-items:center}:host([scale=xs]){font-size:0.75rem;--arcgis-user-avatar-size:18px;--arcgis-user-avatar-spacing:0.25rem}:host([scale=xs]) .description{font-size:0.625rem;margin-top:-0.125rem}:host([scale=xs]) .text{line-height:1.35}:host([scale=s]){font-size:0.75rem;--arcgis-user-avatar-size:1.5rem;--arcgis-user-avatar-spacing:0.5rem;--arcgis-user-avatar-skeleton-width:4rem}:host([scale=s]) .description{font-size:0.625rem}:host([scale=m]){font-size:0.875rem;--arcgis-user-avatar-size:2rem;--arcgis-user-avatar-spacing:0.75rem;--arcgis-user-avatar-skeleton-width:5rem}:host([scale=m]) .description{font-size:0.75rem}:host([scale=l]){font-size:1rem;--arcgis-user-avatar-size:2.5rem;--arcgis-user-avatar-spacing:1rem;--arcgis-user-avatar-skeleton-width:6rem}:host([scale=l]) .description{font-size:0.875rem}"},50637:(t,e,n)=>{n.d(e,{a:()=>g,b:()=>y,c:()=>h,d:()=>p,f:()=>u,g:()=>v,i:()=>d,p:()=>b,r:()=>f});var i=n(59317),r=n(4429),a=n(931),s=n(87744);const o={},l={},c={};async function u(t,e,n,i){var r,a,s,u;const d=null===(a=null===(r=c[e])||void 0===r?void 0:r[n])||void 0===a?void 0:a.expireAt,h=!!d&&(new Date).getTime()>d;if((null===(s=o[e])||void 0===s?void 0:s[n])&&!h)return o[e][n];l[e]||(l[e]={}),l[e][n]&&!h||(l[e][n]=t());const v=await l[e][n];if(o[e]||(o[e]={}),c[e]||(c[e]={}),o[e][n]=v,i){const{expireAfter:t,getExpireAfterFromResult:r}=i,a=r||t?(new Date).getTime()+(null!==(u=null==r?void 0:r(v))&&void 0!==u?u:t):null;c[e][n]=Object.assign(Object.assign({},c[e][n]),{expireAt:a})}return v}function d(t,e){var n;return null===(n=null==o?void 0:o[t])||void 0===n?void 0:n[e]}const h=(t,e)=>{var n,i;e?(null===(n=o[t])||void 0===n||delete n[e],null===(i=l[t])||void 0===i||delete i[e]):(delete o[t],delete l[t])};function v(t){var e,n,r,a;return null!=t||(t=null===i.c||void 0===i.c?void 0:i.c.portal),(null===(e=null==t?void 0:t.credential)||void 0===e?void 0:e.token)||(null==t?void 0:t.token)||(null===(r=null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.credential)||void 0===r?void 0:r.token)||(null===(a=null==t?void 0:t.portalUser)||void 0===a?void 0:a.token)||""}function p(t){var e,n;return null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null===(n=null==t?void 0:t.sourceJSON)||void 0===n?void 0:n.id}function m(t){var e;const{config:n}=i.c;return"https:"===window.location.protocol||!0===(null===(e=null==n?void 0:n.self)||void 0===e?void 0:e.allSSL)?t.replace("http:","https:"):t}async function g(t,e,n={},r){const[s]=await(0,a.l)(["esri/request"]),{api:o}=i.c;t.includes("f=")||e.append("f","json");const l=v();return l&&!e.has("token")&&e.append("token",l),new Promise(((i,a)=>{if(3===o){const o={url:!1===n.addSSL?t:m(t),form:e,timeout:n.timeout||0},l="post"===r?Object.assign({usePost:!0},n):n;s(o,l).then(i,a)}else s(t,Object.assign(Object.assign({body:e},n),{timeout:n.timeout||0,method:r||"auto"})).then((t=>{i(t.data)})).catch((t=>a(t)))}))}async function f(t,e={},n={},r,s){const[o]=await(0,a.l)(["esri/request"]),{api:l,portal:c}=i.c,{customToken:u,addTokenManually:d,addSSL:h,useProxy:v}=n,p=Object.assign({},e);if(t.includes("f=")||!0===(null==s?void 0:s.excludeJson)||(p.f="json"),u)p.token=u;else if(!1!==d){const t=await y(c,l);t&&(p.token=t)}const g=!1===h?t:m(t);if(3===l){const t=Object.assign({url:g,content:p,timeout:n.timeout||0},null==s?void 0:s.v3Request);n.withCredentials&&(t.withCredentials=n.withCredentials);return o(t,"post"===r?Object.assign({usePost:!0},n):n)}{const t=Object.assign(Object.assign(Object.assign({query:p,method:r||"auto"},n),{timeout:n.timeout||0,useProxy:v}),(null==n?void 0:n.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await o(g,t)).data}}const w=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];const b=async(t,e,n)=>{var i,a;const s=null!==(i=null==e?void 0:e.pendingStatuses)&&void 0!==i?i:["processing","partial","Pending","InProgress","EXECUTING"],o=null!==(a=null==e?void 0:e.successStatuses)&&void 0!==a?a:["completed","Completed","COMPLETED"];let l=0;const c=async()=>{const i=await f(t,null==e?void 0:e.requestParams,{},n),a=i.status||i.jobStatus;if(s.includes(a))return await(0,r.t)((u=l++,1e3*w[u>-1&&u<w.length-1?u:w.length-1])),c();if(o.includes(a)||"failed"===a)return i;throw i;var u};try{return c()}catch(t){throw console.error(t),t}},y=async(t,e)=>{var n;if(!(null==t?void 0:t.isPortal)||!(0,s.i)(t))return v(t);if(!(null==t?void 0:t.user)&&!(null==t?void 0:t.portalUser)&&(0,s.i)(t))return;const{token:r}=await u((()=>k(t,null!=e?e:null===i.c||void 0===i.c?void 0:i.c.api)),"platformSelf",null!==(n=p(t.user))&&void 0!==n?n:t.id,{getExpireAfterFromResult:t=>t.expires_in});return r},k=async(t,e)=>{const n=await(async(t,e)=>{var n,i,r;const o=3===e,[l]=o?await(0,a.l)(["esri/IdentityManager"]):await(0,a.l)(["esri/identity/IdentityManager"]),c=await u((()=>l.getCredential((0,s.g)(t),{oAuthPopupConfirmation:!1})),"credential",p(t.user));return null!==(r=o?null===(n=c._oAuthCred)||void 0===n?void 0:n.appId:null===(i=c.oAuthState)||void 0===i?void 0:i.appId)&&void 0!==r?r:"arcgisonline"})(t,e),i={"X-Esri-Auth-Client-Id":n,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return f(`${(0,s.g)(t)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:4===e?i:void 0,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:i}})}},56462:(t,e,n)=>{n.d(e,{a:()=>c,b:()=>u,c:()=>d,d:()=>h,f:()=>l,g:()=>v});var i=n(96295),r=n(50637),a=n(15332),s=n(87744),o=n(62261);async function l(t,e,n){const i=`${n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(e)}community/users/${t}`,a=(null==i?void 0:i.includes("www.arcgis.com"))&&e.isPortal,o=(null==i?void 0:i.includes(".arcgis.com"))&&!e.isPortal&&!e.user,l=a||o?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,r.f)((async()=>{try{return await(0,r.r)(i,{},l)}catch(e){return{username:t}}}),"user",i)}async function c(t,e,n,i){var r,s;if("public_authoritative"===(null==t?void 0:t.contentStatus)||"public_authoritative"===(null===(r=t.sourceJSON)||void 0===r?void 0:r.contentStatus)){const r=await(0,o.f)(t,n,e,i);if(!r)return l(t.owner,e,i);const{description:c,name:u,thumbnail:d,url:h}=r;return{description:c?(0,a.s)(c):"",fullName:u,username:t.owner,thumbnail:d,id:t.orgId||(null===(s=t.portal)||void 0===s?void 0:s.id),url:h}}return l(t.owner,e,i)}async function u(t,e,n){const i=n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(e),a=n?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,r.f)((async()=>(0,r.r)(`${i}community/groups`,{q:`(owner:"${t}")`,num:100},a)),"userGroups",t)}async function d(t,e,n){const a=n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(e),o=n?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,r.f)((async()=>(await(0,r.r)(`${a}search`,{q:`(owner:"${t}") ${i.H}`,num:1},o)).total),"userItemsTotal",t)}function h(t,e,n=!1){if(null==t?void 0:t.thumbnailUrl)return t.thumbnailUrl;if(!(null==t?void 0:t.thumbnail))return null;if(t.thumbnail.startsWith("http"))return t.thumbnail;const i=(0,r.g)(e);return`${n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(e)}community/users/${t.username}/info/${t.thumbnail}${i&&!n?`?token=${i}`:""}`}function v(t,e){const{fullName:n,firstName:i,lastName:r,username:a}=t;return n||(i&&r?"ja"===e?`${r} ${i}`:`${i} ${r}`:a)}},62261:(t,e,n)=>{n.d(e,{f:()=>a});var i=n(50637),r=n(15332);async function a(t,e,n,a){var s,o,l,c,u;const d=null!==(u=null!==(l=null!==(s=t.orgId)&&void 0!==s?s:null===(o=t.sourceJSON)||void 0===o?void 0:o.orgId)&&void 0!==l?l:null===(c=t.portal)||void 0===c?void 0:c.id)&&void 0!==u?u:null==n?void 0:n.id;return(0,i.f)((()=>async function(t,e,n,a,s){var o,l;const c=(null===(o=t.portal)||void 0===o?void 0:o.portalHostname)||(null==a?void 0:a.portalHostname)||(null===(l=null==a?void 0:a.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),u=s?`https://www.arcgis.com/sharing/rest/portals/${e}`:`https://${c}/sharing/rest/portals/${e}`;if(!c&&!s)return null;const d=s?{disableIdentityLookup:!0,addTokenManually:!1}:{},h=await(0,i.r)(u,{},d),{urlKey:v,thumbnail:p,customBaseUrl:m}=h,g=`https://${v}.${m}/`,f=p?`${g}sharing/rest/portals/self/resources/${p}`:null;let w,b;try{const t=await(0,i.r)(`${u}/resources/localizedOrgProperties`,{start:1,num:100},d);if(t){const e=t[n]||t.default;w=e.name,b=e.description||t.description}}catch(t){}return{name:w||h.name,description:(0,r.a)(b||h.description),url:`${g}home/`,thumbnail:f}}(t,d,e,n,a)),"verified",d)}},64099:(t,e,n)=>{n.d(e,{a:()=>s,g:()=>c});var i=n(15332),r=n(81034),a=n(87849);function s(t){var e,n,a;const s=null!==(e=(0,i.c)(t,"[lang]"))&&void 0!==e?e:null===(a=null===(n=t.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===a?void 0:a.documentElement,o=((null==s?void 0:s.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(o)?r.l.get(o):r.l.has(o.slice(0,2))?r.l.get(o.slice(0,2)):"en"}const o={};function l(t,e){const n=`${t}${e}`;return o[n]||(o[n]=function(t,e){return new Promise(((n,i)=>{fetch((0,a.d)(`../arcgis-app-assets/i18n/${t}.i18n.${e}.json`)).then((t=>{t.ok?n(t.json()):i()}),(()=>i()))}))}(t,e)),o[n]}async function c(t,e){const n=e||t.tagName.toLowerCase(),a=s(t),o=function(t){var e,n,a;const s=null!==(e=(0,i.c)(t,"[lang]"))&&void 0!==e?e:null===(a=null===(n=t.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===a?void 0:a.documentElement,o=((null==s?void 0:s.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(o)?r.l.get(o):r.l.has(o.slice(0,2))?o:"en"}(t);let c;try{c=await l(n,a)}catch(t){console.warn(`no locale for ${n} (${a}) loading default locale en.`),c=await l(n,"en")}return[c,a,o]}},81034:(t,e,n)=>{n.d(e,{C:()=>o,a:()=>l,b:()=>u,f:()=>d,g:()=>s,l:()=>a,s:()=>v});var i=n(931),r=n(15332);const a=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function s(t){return function(t,e,n){const i=(0,r.c)(t,`[${e}]`);return i?i.getAttribute(e):n}(t,"dir","ltr")}const o={rtl:"arcgis--rtl"};async function l(t,e){const{api:n,type:r,places:a}=e||{};if(4===n){const[e]=await(0,i.l)(["esri/intl"]),n=e.convertNumberFormatToIntlOptions({places:a,style:r,digitSeparator:!0});return e.formatNumber(t,Object.assign(Object.assign({},n),{style:r}))}const[s]=await(0,i.l)(["dojo/number"]);return s.format(t,{type:r,places:a,pattern:null==e?void 0:e.pattern})}const c={};function u(t,e){let n=document.documentElement.lang;const i="bs"===n;if(i&&(n="hr"),e){const e=`${n}-full`,i={dateStyle:"full",timeStyle:"long"};return c[e]||(c[e]=new Intl.DateTimeFormat(n,i)),c[e].format(t)}const r={year:"numeric",month:i?"numeric":"short",day:"numeric"};return c[n]||(c[n]=new Intl.DateTimeFormat(n,r)),c[n].format(t)}function d(t,e,n,i){const r=null!=t?t:"en";let a=e.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(r))&&(a=e.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(r)&&(a=e.multiple),v(a,Object.assign(Object.assign({},i),{number:n}))}const h=/\$\{([^}]+)\}/g;function v(t,e,n=h){let i=t;try{i=t.replace(n,((t,n)=>function(t,e){const n=t.split(".").reduce(((t,e)=>t[e]),e);return"string"==typeof n||"number"==typeof n?n:t}(n,e).toString()))}catch(t){console.error(t)}return i}},96295:(t,e,n)=>{n.d(e,{H:()=>i,R:()=>r});const i='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',r="Indoors Map Configuration,Code Attachment"}}]);