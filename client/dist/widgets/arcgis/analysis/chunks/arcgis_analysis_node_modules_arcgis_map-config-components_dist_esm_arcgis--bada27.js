/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--bada27.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--bada27"],{2854:(e,t,a)=>{function s(e){return e?.sourceJSON?.id}a.d(t,{g:()=>s})},3175:(e,t,a)=>{a.d(t,{a:()=>i,g:()=>o});var s=a(20173);function i(e){const{customBaseUrl:t,portalHostname:a,urlKey:s}=e,{protocol:i}=window.location;return`${i}//${s?`${s}.${t}`:a}`}function o(e){return(0,s.a)(e.restUrl)}},4573:(e,t,a)=>{function s(e,t,a){window.localStorage.setItem(e,a?JSON.stringify(t):t)}function i(e){window.localStorage.removeItem(e)}function o(e,t){const a=window.localStorage.getItem(e);return a&&t?JSON.parse(a):a}function r(e,t,a){window.sessionStorage.setItem(e,a?JSON.stringify(t):t)}function c(e,t){const a=window.sessionStorage.getItem(e);return a&&t?JSON.parse(a):a}a.d(t,{a:()=>c,b:()=>r,g:()=>o,r:()=>i,s:()=>s})},14528:(e,t,a)=>{function s(e){const t=[];i=e,queueMicrotask((()=>{i===e&&(i=void 0)}));const a=e.componentWillLoad;return e.componentWillLoad=async()=>{await Promise.all(t.map((e=>e()))).then((()=>{})),await(a?.call(e))},{onLoad:e=>t.push(e)}}let i;function o(){return i}a.d(t,{r:()=>o,u:()=>s})},20173:(e,t,a)=>{a.d(t,{a:()=>s});const s=e=>e&&!e.endsWith("/")?`${e}/`:e},32669:(e,t,a)=>{a.r(t),a.d(t,{arcgis_app_print_browse_templates:()=>n});var s=a(11254),i=a(3175),o=a(4573),r=a(2854),c=a(14528);const n=class{constructor(e){(0,s.r)(this,e),this.arcgisClose=(0,s.c)(this,"arcgisClose",7),this.arcgisItemBrowserCardPreview=(0,s.c)(this,"arcgisItemBrowserCardPreview",7),this.manager=(0,c.u)(this),this.portal=void 0,this.strings=void 0,this.items=void 0,this.pagination=void 0,this.selectedCount=0}arcgisItemBrowserCardPreviewHandler(e){const{portal:t}=this,a=e.detail;if(a?.id){const e=`${(0,i.a)(t)}/home/`;this.openItemDetailsNode.href=`${e}/item.html?id=${a.id}`}else this.openItemDetailsNode.removeAttribute("href")}async componentWillLoad(){const{portal:e}=this,t=(0,r.g)(e.user),a=((0,o.g)("arcgis-app-print-custom-templates-storage-infos",!0)||[])[t];a&&(this.savedTemplateIds=a.map((e=>e.itemId)))}render(){const{portal:e,savedTemplateIds:t,strings:a}=this;let o="";t?.forEach((e=>o+=` -id:${e}`));const r=`type:"Layout" typekeywords:"Layout" ${o}`,c=`${(0,i.a)(e)}/home/`;return(0,s.h)(s.H,{key:"36e8f4af554fcb4198e5e4a33a089e374a89c95d"},(0,s.h)("calcite-dialog",{key:"0c18fd5a0138fa6412d1947d96eb520e9a5891e6",class:"custom-templates-dialog",open:!0,modal:!0,scale:"l",escapeDisabled:!0,outsideCloseDisabled:!0,onCalciteDialogClose:()=>this.arcgisClose.emit(),heading:a.browseCustomTemplates},(0,s.h)("arcgis-item-browser",{key:"2397c23ea3e41ad4a9532cddb770f51b4cafaac7",view:"list",selection:"multiple",filter:r,portal:e,user:e.user,api:4,config:{baseUrl:c},onArcgisItemBrowserUpdate:e=>{const{results:t,num:a,start:s,total:i}=e.detail;this.items=t,this.pagination={start:s,num:a,total:i}},onArcgisItemBrowserSelect:()=>this.selectedCount=this.itemBrowserNode?.selectedItems?.length,ref:e=>this.itemBrowserNode=e},(0,s.h)("arcgis-item-browser-top-bar",{key:"112e2eb6bbed6c5c8c2d82049c47bbae5df8e423",slot:"top-bar","filter-toggle":!0},(0,s.h)("arcgis-item-browser-bucket-select",{key:"ff7196b8fa06592d72365a5c199680bac746c930",slot:"bucket",options:e.isPortal?["my","favorites","group","org","living atlas"]:void 0}),(0,s.h)("arcgis-item-browser-search",{key:"f63c69740258ca1bf64e3a1d7c1c681da613c832",slot:"search",term:""})),(0,s.h)("arcgis-item-browser-sort",{key:"18ccd59c186575383c07e132446948378e51a96a",options:["modified","title","relevance"],slot:"sort"}),(0,s.h)("arcgis-item-browser-filters",{key:"c698d5476ef3977a721b8672a1882383303da424",slot:"filters"},e.user&&(0,s.h)("arcgis-item-browser-filter-folder",{key:"36c84040e394bda9f57e121dfe294fb309566732",expanded:!0}),(0,s.h)("arcgis-item-browser-filter-categories",{key:"6e5d1c3045b9636200265e144addd921d08d1c1d"}),(0,s.h)("arcgis-item-browser-filter-location",{key:"d204d75e418f57d411b2c9a708a45537aa755cfc"}),(0,s.h)("arcgis-item-browser-filter-date",{key:"4e00df57bb77aa95055328ca797fcf58fa000b6d",property:"modified"}),(0,s.h)("arcgis-item-browser-filter-date",{key:"a6283549921995da9a1eccd2155f83e54c48011a",property:"created"}),(0,s.h)("arcgis-item-browser-filter-tags",{key:"1a7dbfa22eab28165027f90c6d8e97b0d66b5dfd"}),(0,s.h)("arcgis-item-browser-filter-sharing",{key:"d0e6ffff93c85d33b1b0d8908930d56c2587caa2"})),(0,s.h)("arcgis-item-browser-content",{key:"11536cf5bfc9e6404255763c29eab338d2c28f7f",slot:"content"},(this.items||[]).map((t=>(0,s.h)("arcgis-item-browser-card",{key:`card-${t.id}`,item:t,portal:e,baseUrl:c,showItemType:!0,showDateUpdated:!0,showOwner:!0,showSummary:!0,showThumbnail:!0,preview:"action",messageOverrides:{preview:a.viewItemDetails}})))),(0,s.h)("arcgis-item-browser-pagination",{key:"98af4eecc58c35a6683f0b4fe8e8af37ada9b885",slot:"pagination",total:this.pagination?.total,start:this.pagination?.start,num:this.pagination?.num}),(0,s.h)("calcite-button",{key:"a4cf0825fcaa876ebb2b96a103d652e363552d07",slot:"preview-footer",alignment:"center",appearance:"outline-fill",kind:"neutral",width:"full",target:"_blank",ref:e=>this.openItemDetailsNode=e},a.viewDetails)),(0,s.h)("calcite-button",{key:"c957bf730de51c41a64aa9cb55db97a540d5e1e3",slot:"footer-end",appearance:"outline-fill",alignment:"center",onClick:()=>{this.arcgisClose.emit()}},a.cancel),(0,s.h)("calcite-button",{key:"2fce958abdfd4c65efc0243ebe28547b62fcdb18",slot:"footer-end",alignment:"center",appearance:"solid",disabled:!this.selectedCount,onClick:()=>{this.arcgisClose.emit(this.itemBrowserNode.selectedItems.length?this.itemBrowserNode.selectedItems.map((e=>e)):[])}},a.add)))}get el(){return(0,s.a)(this)}};n.style=".custom-templates-dialog{--calcite-dialog-size-y:min(900px, calc(80vh + 100px));--calcite-dialog-size-x:1080px;--calcite-dialog-content-space:0px}"}}]);