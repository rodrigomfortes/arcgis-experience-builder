/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-224140.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-224140"],{931:(e,t,n)=>{n.d(t,{l:()=>r});var i=n(93814);const r=async(e,t)=>(await i.e.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},4429:(e,t,n)=>{n.d(t,{a:()=>a,b:()=>c,c:()=>l,d:()=>u,e:()=>r,f:()=>i,g:()=>v,i:()=>p,m:()=>o,t:()=>s,u:()=>d});const i=(e,t)=>{let n,i="idle";const r=(...r)=>new Promise((l=>{switch(i){case"flushed":i="idle",n?(clearTimeout(n),l(e(...r))):l(null);break;case"invoked":clearTimeout(n),i="idle",l(e(...r));break;case"cancelled":clearTimeout(n),i="idle",l(null);break;default:n&&clearTimeout(n),i="pending",n=setTimeout((()=>(i="idle",l(e(...r)))),t)}}));return r.flush=function(...e){return i="flushed",r(...e)},r.invoke=function(...e){return i="invoked",r(...e)},r.cancel=function(...e){return i="cancelled",r(...e)},r.getStatus=function(){return i},r};function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(e){return null!=e}async function o(e,t){return await Promise.all([e,s(t)]),e}function s(e){return new Promise((t=>setTimeout(t,e)))}const a=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:n,data:i}=t(e);return[n,i]}))),u=(e,t)=>e.length===t.length&&e.reduce(((e,n)=>e&&t.indexOf(n)>-1),!0);function d(e,t){const n=[],i={};return e.forEach((e=>{const r=t(e);null==i[r]&&(i[r]=e,n.push(e))})),n}function c(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter((e=>{let i=typeof e;return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)}))}const v=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((n,i)=>e.slice(t*i,t+t*i))),p=(e,t)=>e.includes(t)},24869:(e,t,n)=>{n.d(t,{a:()=>l,f:()=>u,g:()=>a,s:()=>o,v:()=>s});var i=n(15912),r=n(46227);function l(e,t){const n=/(?:\.([^.]+))?$/;let i=null==e?void 0:e.replace(/^.*(\\|\/|:)/,""),l=i&&n.exec(i)[1]?n.exec(i)[1].toLowerCase():"",o="";if((null==i?void 0:i.indexOf(".rft."))>-1){const[e,t]=i.split(".rft.");l=`rft.${t}`,o=e}return i&&!o&&(o=-1===i.lastIndexOf(".")?i:i.substring(0,i.lastIndexOf("."))),o=o.replace(/\.|-/g,"_"),t&&(o=function(e){return`${e}_${(0,r.g)()}`}(o),i=`${o}.${l}`),{title:o,fileName:i,extension:l}}function o(e,t){return l(e.name,!!t)}function s(e,t){let n=e;const i=e.lastIndexOf("\\");return i>-1&&(n=n.substring(i+1,n.length)),n.replace(/\ /g,"_")===t.replace(/\ /g,"_")}function a(e){return i.a[e]?i.a[e]:i.a[Object.keys(i.a).find((t=>i.a[t].type===e))]}function u(e){if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t))} ${["B","KB","MB","GB","TB"][t]}`}},45768:(e,t,n)=>{n.d(t,{a:()=>a,f:()=>l,i:()=>s,m:()=>o});var i=n(4429),r=n(15912);function l(e,t){let n;n=t?t.map((e=>e.type)):Object.keys(r.a);let i=[];return n.forEach((t=>{var n;(null===(n=r.a[t].fileExt)||void 0===n?void 0:n.indexOf(e))>=0&&i.push(r.a[t])})),i}function o(e){return e?(0,i.b)(e.flatMap((e=>{var t;return null===(t=r.a[e])||void 0===t?void 0:t.fileExt})).filter((e=>!!e))):null}const s=e=>e/1024/1024>50,a=e=>e/1024/1024>20},46227:(e,t,n)=>{n.d(t,{g:()=>i});const i=()=>[2,1,1,1,3].map((e=>{let t="";for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},48338:(e,t,n)=>{n.r(t),n.d(t,{arcgis_drag_and_drop:()=>u});var i=n(87849),r=n(64099),l=n(24869),o=n(56175),s=n(45768);n(15332),n(81034),n(931),n(93814),n(15912),n(50822),n(87744),n(59317),n(37762);const a={append:120001300,addFromMV:120005452,default:120000456};const u=class{constructor(e){(0,i.r)(this,e),this.arcgisDropSuccess=(0,i.c)(this,"arcgisDropSuccess",7),this.arcgisAlertActive=(0,i.c)(this,"arcgisAlertActive",7),this.arcgisDragOver=(0,i.c)(this,"arcgisDragOver",7),this.config=void 0,this.user=void 0,this.active=!0,this.alertMessage={title:""},this.alertActive=!1,this.error=!1,this.files=void 0,this.allowedExtensions=null,this.validTypes=null,this.dragOverNoticeMessage=void 0,this.insideModal=void 0,this.fullHeight=void 0,this.showHelpLinkOnError=!0,this.maxFileSize=void 0,this.helpIdType="default",this.isFolder=!1,this.dragOver=void 0}handleAlertChange(){var e,t;const{alertActive:n}=this;n?(window.dispatchEvent(new CustomEvent("calciteInternalAlertSync",{detail:{queue:[]}})),null===(e=this.el.shadowRoot.querySelector("#new-item-alert"))||void 0===e||e.setAttribute("active","")):null===(t=this.el.shadowRoot.querySelector("#new-item-alert"))||void 0===t||t.removeAttribute("active"),this.arcgisAlertActive.emit(n)}handleFileUpdate(){const{files:e,i18n:t,isFolder:n,user:i,config:r,validTypes:u,helpIdType:d}=this,{success:c,errorMessage:v}=function({fileConstraints:e,files:t,isFolder:n,uiInfo:i,user:r}){var u,d;const{helpBase:c,helpMap:v,i18n:p,helpIdType:h}=i,{extension:g}=(0,l.s)(t[0]),{maxFileSize:f,allowedExtensions:m}=e;let b,w=!1;const y=null===(u=null==m?void 0:m.includes(g))||void 0===u||u,k=Object.keys(t).some((e=>{const{extension:n}=(0,l.s)(t[e]);return["shp","shx","dbf","prj"].includes(n)})),x=null!==(d=e.validationTypes)&&void 0!==d?d:null,O=(0,s.f)((0,l.s)(t[0]).extension,x)[0],_=O&&(O.appendUploadFormat||O.allowAddDirect||!O.orgOnly||!(0,o.b)(r));if(k)b={title:p.error.shapefileErrorTitle,message:p.error.shapefileErrorMessage,link:{text:p.error.shapefileErrorLink,path:`${c}${v[120002804]}`}};else if(t.length>1)b={title:p.error.multipleFilesErrorTitle,message:p.error.multipleFilesErrorMessage};else if(null!=f&&t[0].size>f){const e=f/1e6;b={message:p.error.maxSize.replace("${size}",e.toString())}}else if(_&&y)w=!0;else{const e=a[h];b=n?{message:p.error.folderError}:{title:p.error.unsupportedFileTypeTitle,link:{text:p.error.unsupportedFileTypeMessage,path:`${c}${v[e]}`}}}return{success:w,errorMessage:b}}({files:e,isFolder:n,user:i,fileConstraints:{allowedExtensions:this.allowedExtensions,maxFileSize:this.maxFileSize,validationTypes:u},uiInfo:{helpIdType:d,i18n:t,helpBase:r.helpBase,helpMap:r.helpMap}});c?this.arcgisDropSuccess.emit(e[0]):(this.alertMessage=v,this.alertActive=!0)}handleDragOver(e){if(e.dataTransfer.types.includes("Files")){if(this.wellRef){const e=window.innerHeight,{y:t,bottom:n}=this.wellRef.getBoundingClientRect(),i=Math.max(t,0),r=Math.min(e,n);this.noticeRef.style.height=r-i+"px";const l=-Math.min(0,t);this.noticeRef.style.top=`${l}px`}e.preventDefault(),this.dragOver=!0,this.arcgisDragOver.emit(this.dragOver)}return!1}async componentWillLoad(){const e=await(0,r.g)(this.el);this.i18n=e[0]}render(){const{title:e,message:t,link:n}=this.alertMessage,{text:r,path:l}=Object.assign({},n),{active:o,dragOverNoticeMessage:s,dragOver:a,insideModal:u,fullHeight:d,showHelpLinkOnError:c}=this;return(0,i.h)("div",{key:"03e82a9ef80b9d5eb5bf897327f6c62d291287e6",ref:e=>this.wellRef=e,class:{hide:!o,"drag-and-drop-well":!0,dragging:this.dragOver,"full-height":d},onDragOver:o&&this.handleDragOver.bind(this),onDragLeave:()=>{this.dragOver=!1},onDrop:e=>{var t,n,i,r;if(!o)return;e.preventDefault(),this.alertActive=!1,this.dragOver=!1;const{files:l,items:s}=e.dataTransfer,a=null==s?void 0:s[0];this.isFolder=(null===(r=null!==(n=null===(t=a.webkitGetAsEntry)||void 0===t?void 0:t.call(a))&&void 0!==n?n:null===(i=null==a?void 0:a.getAsEntry)||void 0===i?void 0:i.call(a))||void 0===r?void 0:r.isDirectory)||!1,this.files=l}},(0,i.h)("slot",{key:"5ae0f2f8edc9262ba9c9012f8904334562170ada"}),u?(0,i.h)("arcgis-new-item-alert",{id:"new-item-alert",kind:"danger",onAlertDismiss:()=>{this.alertActive=!1},active:!!this.alertActive,heading:e,description:t,link:{href:null==n?void 0:n.path,title:null==n?void 0:n.text}}):(0,i.h)("calcite-alert",{label:"",id:"new-item-alert",icon:"exclamation-mark-triangle",kind:"danger",onCalciteAlertClose:()=>{this.alertActive=!1},open:!!this.alertActive,tabIndex:this.alertActive?null:-1,ref:e=>{var t;const n=null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelector(".alert-queue-count");n&&(n.style.display="none")}},e&&(0,i.h)("div",{slot:"title"},e),t&&(0,i.h)("div",{slot:"message",class:"alert__message"},t),c&&n&&(0,i.h)("calcite-link",{slot:"link",target:"_blank",href:l,class:"alert__link"},r)),(0,i.h)("div",{key:"9c0d435c9fb6a97de261d576cba544756e33dd33",class:"notice-container",ref:e=>this.noticeRef=e},s&&(0,i.h)("calcite-notice",{key:"9f6fece8ea3514791bbc8b7609775aae2863c3c6",icon:"upload-to",open:a,scale:"m",width:"auto"},(0,i.h)("div",{key:"69a3d3174cf75b5306f9bb289f1de30114f54e7f",slot:"message"},s))))}get el(){return(0,i.a)(this)}static get watchers(){return{alertActive:["handleAlertChange"],files:["handleFileUpdate"]}}};u.style='.drag-and-drop-well{position:relative}.drag-and-drop-well ::slotted(*){transition:all 200ms ease-in-out;position:relative}.drag-and-drop-well ::slotted(*):before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 121, 193, 0) !important;pointer-events:none;transition:background-color 200ms ease-in-out !important;z-index:2}.dragging ::slotted(*){border-color:#007ac2 !important}.dragging ::slotted(*):before{border-color:#007ac2 !important;background-color:rgba(0, 121, 193, 0.05) !important}.notice-container{display:flex;align-items:center;justify-content:center;position:absolute;top:0px;left:0px;right:0px;pointer-events:none;z-index:10}.alert__message{display:block;line-height:1.375}.alert__link{display:inline}.full-height{height:100%}'},50822:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>l,c:()=>u,d:()=>d,e:()=>c,f:()=>v,g:()=>p,i:()=>s,u:()=>a});n(93814);var i=n(87744);function r(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function l(e){var t;return r(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function o(e){var t;return r(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function s(e,t){return e.owner===t.username}function a(e,t){return s(e,t)||function(e,t){var n;if(null!=e.isAdmin)return!!e.isAdmin;const i=e.owner,r="admin"===e.itemControl,l=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!s(e,t)&&r&&i.includes("esri_")&&!l.includes(i))return!1;return r}(e,t)}const u=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,i.a)(t)}item.html?id=${e}`,c=(e,t)=>`${(0,i.g)(t)}/content/users/${e}`,v=e=>e.reduce(((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e)),{}),p=(e,t)=>`${(0,i.a)(t)}content/items/${e}`},56175:(e,t,n)=>{n.d(t,{A:()=>$,B:()=>C,C:()=>p,D:()=>E,a:()=>s,b:()=>l,c:()=>o,d:()=>g,e:()=>w,f:()=>b,g:()=>y,h:()=>x,i:()=>v,j:()=>k,k:()=>S,l:()=>a,m:()=>O,n:()=>d,o:()=>c,p:()=>h,q:()=>P,r:()=>z,s:()=>u,t:()=>T,u:()=>A,v:()=>I,w:()=>D,x:()=>f,y:()=>m,z:()=>M});var i=n(50822);const r=e=>{var t,n,i;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==n?n:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.id};function l(e){return e&&!e.orgId}function o(e,t){return(0,i.u)(e,t)||"update"===e.itemControl||(0,i.c)([e],t)&&b(t)}function s(e,t){const n=(0,i.c)([e],t),r=(0,i.u)(e,t)||b(t)&&n,l=y(t)&&_(t);return!!(r||n&&l)}const a=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))},u=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:changeUserRoles"))},d=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))},c=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))};function v(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function p(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function h(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const g=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")},f=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("PublicSharingDisabled")},m=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("HostedServicesPublicSharingDisabled")};function b(e){return"org_admin"===r(e)||"account_admin"===r(e)}function w(e){return["org_admin","account_admin"].includes(r(e))&&!(null==e?void 0:e.roleId)}function y(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function k(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function x(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function O(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const _=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function M(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function $(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function S(e,t,n,i){const r=i&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(i.type),l=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!b(t)&&!l||!(null==n?void 0:n.isPortal)&&!r)}function E(e){return!!e&&(!y(e)||y(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const C=({items:e,user:t,portal:n})=>{const r=e[0],l=r.owner;if(n.isPortal&&l!==t.username&&l.includes("esri_")&&!["esri_livingatlas"].includes(l))return!1;const s=(0,i.u)(r,t),a=y(t),u=F(t),d=o(r,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!a&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||T(e)||A(e)||!!t.canSharePublic&&M(e)}(t,n)||F(t));return s||d||(0,i.c)(e,t)&&u};function F(e){return I(e)||D(e)||$(e)}const j=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function z(e){return e.some((e=>j.includes(e)))}function P(e){return e.filter((e=>j.includes(e)))}},64099:(e,t,n)=>{n.d(t,{a:()=>o,g:()=>u});var i=n(15332),r=n(81034),l=n(87849);function o(e){var t,n,l;const o=null!==(t=(0,i.c)(e,"[lang]"))&&void 0!==t?t:null===(l=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===l?void 0:l.documentElement,s=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(s)?r.l.get(s):r.l.has(s.slice(0,2))?r.l.get(s.slice(0,2)):"en"}const s={};function a(e,t){const n=`${e}${t}`;return s[n]||(s[n]=function(e,t){return new Promise(((n,i)=>{fetch((0,l.d)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then((e=>{e.ok?n(e.json()):i()}),(()=>i()))}))}(e,t)),s[n]}async function u(e,t){const n=t||e.tagName.toLowerCase(),l=o(e),s=function(e){var t,n,l;const o=null!==(t=(0,i.c)(e,"[lang]"))&&void 0!==t?t:null===(l=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===l?void 0:l.documentElement,s=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(s)?r.l.get(s):r.l.has(s.slice(0,2))?s:"en"}(e);let u;try{u=await a(n,l)}catch(e){console.warn(`no locale for ${n} (${l}) loading default locale en.`),u=await a(n,"en")}return[u,l,s]}},81034:(e,t,n)=>{n.d(t,{C:()=>s,a:()=>a,b:()=>d,f:()=>c,g:()=>o,l:()=>l,s:()=>p});var i=n(931),r=n(15332);const l=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function o(e){return function(e,t,n){const i=(0,r.c)(e,`[${t}]`);return i?i.getAttribute(t):n}(e,"dir","ltr")}const s={rtl:"arcgis--rtl"};async function a(e,t){const{api:n,type:r,places:l}=t||{};if(4===n){const[t]=await(0,i.l)(["esri/intl"]),n=t.convertNumberFormatToIntlOptions({places:l,style:r,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},n),{style:r}))}const[o]=await(0,i.l)(["dojo/number"]);return o.format(e,{type:r,places:l,pattern:null==t?void 0:t.pattern})}const u={};function d(e,t){let n=document.documentElement.lang;const i="bs"===n;if(i&&(n="hr"),t){const t=`${n}-full`,i={dateStyle:"full",timeStyle:"long"};return u[t]||(u[t]=new Intl.DateTimeFormat(n,i)),u[t].format(e)}const r={year:"numeric",month:i?"numeric":"short",day:"numeric"};return u[n]||(u[n]=new Intl.DateTimeFormat(n,r)),u[n].format(e)}function c(e,t,n,i){const r=null!=e?e:"en";let l=t.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(r))&&(l=t.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(r)&&(l=t.multiple),p(l,Object.assign(Object.assign({},i),{number:n}))}const v=/\$\{([^}]+)\}/g;function p(e,t,n=v){let i=e;try{i=e.replace(n,((e,n)=>function(e,t){const n=e.split(".").reduce(((e,t)=>e[t]),t);return"string"==typeof n||"number"==typeof n?n:e}(n,t).toString()))}catch(e){console.error(e)}return i}}}]);