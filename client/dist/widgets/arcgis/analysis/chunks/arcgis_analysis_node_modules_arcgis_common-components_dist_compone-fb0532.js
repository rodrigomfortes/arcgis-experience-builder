/*! For license information please see arcgis_analysis_node_modules_arcgis_common-components_dist_compone-fb0532.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_common-components_dist_compone-fb0532"],{45138:(e,t,o)=>{o.d(t,{u:()=>d});var s=o(50217);const i=(e,{host:t,key:o,isReactive:i},r)=>{const c=t,n=c[o]!==e.exports,l=c[o]!==r,a=r!==e.exports;n&&!l&&a&&(c[o]=e.exports);if(t===e.component){if(i){const t=e.component.manager;l&&t.W(e,c[o]),e.onUpdate((s=>{if(s.has(o)){const s=c[o];s!==e.exports&&t.W(e,s)}}))}e.O=i?void 0:o}const h=e.component.constructor.elementProperties.get(o)?.readOnly;e.watchExports((()=>{c[o]!==e.exports&&(h?(0,s.h)((()=>{c[o]=e.exports})):c[o]=e.exports)}))};o(4395);var r=o(91021);const c=e=>l(void 0,e);class n extends s.C{constructor(e,t){super(e);const o=this.exports;try{(0,s.s)(this.component);const e=t(this.component,this),i=this.exports!==o;if((0,s.i)(e)){i||this.setProvisionalExports(e);const t=e.then((e=>{this.exports=e,super.catchUpLifecycle()})).catch((e=>{this.P.reject(e),console.error(e)}));this.onLoad((async()=>await t))}else i&&void 0===e||(this.exports=e),queueMicrotask((()=>super.catchUpLifecycle()))}catch(e){this.P.reject(e),console.error(e)}}catchUpLifecycle(){}}const l=(a=n,(...e)=>{const t=(0,s.e)(),o=new a(...e),r=o.exports;(0,s.d)(t.at(-1));const c=o.component.manager;c.W(o,r),o.watchExports(c.W.bind(c,o)),(0,s.o)(o);const n=[o.component,...t].reverse();return(0,s.t)(n,(e=>void 0===e?void 0:i(o,e,r)),r)});var a;s.C;const h=(e,t)=>{if(!t)return e;const o={...e};return Object.entries(t).forEach((([t,s])=>{o[t]="object"==typeof s?h(e[t],s):s??e[t]})),o};var p=o(6364);const d=(u=p.g,(e={})=>c(((t,o)=>{const s=(0,r.kn)(t.el),i={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},c=t;o.onLifecycle((()=>(0,r.hd)(t.el,(()=>u("./assets")),(({t9nLocale:e,t9nStrings:s,lang:i})=>{const r={...s,_lang:i,_t9nLocale:e,_loading:!1};o.exports=r;const l=s.componentLabel;"string"==typeof l&&"label"in t&&null==t.label&&(t.label??=l),n(c.messageOverrides)}),e.name)));const n=e=>{const t=o.exports,s=t._original??t,i=h(s,e);e&&(i._original=s),o.exports=i};return"messageOverrides"in c&&o.onUpdate((e=>{e.has("messageOverrides")&&n(c.messageOverrides)})),e.blocking?(o.setProvisionalExports(i,!1),o.ready):i})));var u},59836:(e,t,o)=>{o.d(t,{D:()=>c});var s=o(85282),i=o(34670),r=o(42466);const c=(0,i.u$)(class extends i.WL{constructor(){super(...arguments),this.key=s.s6}render(e,t){return this.key=e,t}update(e,[t,o]){return t!==this.key&&((0,r.mY)(e),this.key=t),o}})},70757:(e,t,o)=>{o.d(t,{_:()=>u,K:()=>v});var s=o(85282),i=o(42466),r=o(34670);const c=(e,t)=>{const o=e._$AN;if(void 0===o)return!1;for(const e of o)e._$AO?.(t,!1),c(e,t);return!0},n=e=>{let t,o;do{if(void 0===(t=e._$AM))break;o=t._$AN,o.delete(e),e=t}while(0===o?.size)},l=e=>{for(let t;t=e._$AM;e=t){let o=t._$AN;if(void 0===o)t._$AN=o=new Set;else if(o.has(e))break;o.add(e),p(t)}};function a(e){void 0!==this._$AN?(n(this),this._$AM=e,l(this)):this._$AM=e}function h(e,t=!1,o=0){const s=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(s))for(let e=o;e<s.length;e++)c(s[e],!1),n(s[e]);else null!=s&&(c(s,!1),n(s));else c(this,e)}const p=e=>{e.type==r.OA.CHILD&&(e._$AP??=h,e._$AQ??=a)};class d extends r.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,o){super._$AT(e,t,o),l(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(c(this,e),n(this))}setValue(e){if((0,i.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const u=()=>new C;class C{}const g=new WeakMap,v=(0,r.u$)(class extends d{render(e){return s.s6}update(e,[t]){const o=t!==this.G;return o&&void 0!==this.G&&this.rt(void 0),(o||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),s.s6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.G){const t=this.ht??globalThis;let o=g.get(t);void 0===o&&(o=new WeakMap,g.set(t,o)),void 0!==o.get(this.G)&&this.G.call(this.ht,void 0),o.set(this.G,e),void 0!==e&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return"function"==typeof this.G?g.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})},84972:(e,t,o)=>{o.r(t),o.d(t,{ArcgisColorInput:()=>d});var s=o(6364),i=o(59836),r=o(61833),c=o(85282),n=o(70757),l=o(91021),a=o(98285),h=o(45138);const p=o(55088).AH`:host,arcgis-picker-input{display:block}.color-picker-container{display:flex;flex-direction:column}.color-picker{--calcite-color-border-1: transparent;overflow-x:hidden}.preview-swatch{width:100%;height:24px}.recent-colors-container{align-items:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-input);display:flex;gap:var(--calcite-spacing-sm);height:32px;padding:0 var(--calcite-spacing-xs);transition:outline-offset .1s ease-in-out,outline-color .1s ease-in-out}.preview-recent-swatch{cursor:pointer}.recent-colors-container:focus,.preview-recent-swatch:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-brand);outline-offset:var(--calcite-border-width-md)}.empty-swatch{cursor:default}`;class d extends r.WF{constructor(){super(),this._messages=(0,h.u)(),this.actionEl=(0,n._)(),this.setRecentColorElement=e=>t=>{switch(e){case 1:this.recentColor1El=t;break;case 2:this.recentColor2El=t;break;default:this.recentColor3El=t}},this.recentColors=[],this.clearable=!1,this.compact=!1,this.disabled=!1,this.placement="auto",this.storageId="arcgis-color-input-storage-colors",this.hideRecentColors=!1,this.showTransparency=!1,this.arcgisChange=(0,r.lh)(),this.arcgisColorInputChange=(0,r.lh)(),this.arcgisColorInputPopoverClose=(0,r.lh)(),this.arcgisColorInputPopoverOpen=(0,r.lh)(),this.arcgisColorInputSwatchUpdate=(0,r.lh)(),this.arcgisInternalStoredColor=(0,r.lh)(),this.arcgisPickerClose=(0,r.lh)(),this.arcgisPickerOpen=(0,r.lh)(),this.arcgisSwatchUpdate=(0,r.lh)(),this.listenOn(document,"arcgisInternalStoredColor",this.handleUpdateRecentColors),this.listenOn(document,"arcgisRecentColorsUpdate",this.handleStoreNewRecentColor)}static{this.properties={recentColors:16,clearable:5,color:1,compact:5,disabled:5,messageOverrides:0,placement:1,popoverProps:0,storageId:1,hideRecentColors:5,showTransparency:5}}static{this.styles=p}async close(){await(this.inlineInputEl?.close())}async setFocus(){await(this.inlineInputEl?.setFocus())}load(){this.setRecentColorsFromStorage()}disconnectedCallback(){super.disconnectedCallback(),this.removeTooltip()}async handleOpen(){await(this.colorPickerEl?.setFocus()),this.arcgisPickerOpen.emit(),this.arcgisColorInputPopoverOpen.emit()}setInlineInputRef(e){this.inlineInputEl=e}setColorPickerRef(e){e&&(this.colorPickerEl=e)}getRecentColorElement(e){switch(e){case 1:return this.recentColor1El;case 2:return this.recentColor2El;default:return this.recentColor3El}}setRecentColorsFromStorage(){const e=(0,a.g)(this.storageId,!0);e&&(this.recentColors=[...e])}handleSwatchClickOrKeyUp(e){if("key"in e&&"Enter"!==e.key&&"Space"!==e.key)return;const t=e.currentTarget.color||void 0;this.updateColor(t),this.arcgisSwatchUpdate.emit(t),this.arcgisColorInputSwatchUpdate.emit(t),setTimeout((()=>this.recentColor1El?.focus()),200)}handleRecentColorsKeyDown(e){if(1===this.recentColors.length)return;const t=e.key;let o;this.activeColorSwatchEl===this.recentColor1El?o=1:this.activeColorSwatchEl===this.recentColor2El?o=2:this.activeColorSwatchEl===this.recentColor3El&&(o=3),"ArrowLeft"===t&&(o&&1!==o?this.getRecentColorElement(o-1)?.focus():this.getRecentColorElement(this.recentColors.length)?.focus()),"ArrowRight"===t&&(o&&o!==this.recentColors.length?this.getRecentColorElement(o+1)?.focus():this.recentColor1El?.focus())}handleUpdateActiveSwatch(e){this.activeColorSwatchEl=e.target}handleStoreNewRecentColor(e){this.storeRecentColorToStorage(e.detail)}handleUpdateRecentColors(e){e.composedPath().includes(this.el)||this.setRecentColorsFromStorage()}handleClearColor(){this.updateColor(void 0)}updateColor(e,t=!0){e!==this.color&&(this.color=e,this.arcgisChange.emit(),this.arcgisColorInputChange.emit(),t&&this.storeRecentColorToStorage(e))}storeRecentColorToStorage(e){if(!e)return;e.length>7&&(e=e.slice(0,7));const t=[e,...this.recentColors.filter((t=>t!==e))].slice(0,3);(0,a.s)(this.storageId,t),this.recentColors=t,this.arcgisInternalStoredColor.emit()}handleClose(e){e.stopPropagation(),this.storeRecentColorToStorage(this.colorPickerEl?.value),this.arcgisPickerClose.emit(this.colorPickerEl?.value),this.arcgisColorInputPopoverClose.emit(this.colorPickerEl?.value)}addTooltip(e){this.removeTooltip(),this.tooltipContainerEl=document.createElement("div"),(0,c.XX)(c.qy`<calcite-tooltip .placement=${e.placement??"auto"} .referenceElement=${e.referenceElement} overlay-positioning=fixed open>${e.innerHTML}</calcite-tooltip>`,this.tooltipContainerEl),document.body.append(this.tooltipContainerEl)}removeTooltip(){this.tooltipContainerEl?.parentNode&&(this.tooltipContainerEl.parentNode.removeChild(this.tooltipContainerEl),this.tooltipContainerEl=void 0)}render(){const{compact:e,disabled:t,recentColors:o,_messages:s}=this,r=[o[0],o[1]],a="rtl"===(0,l.O)(this.el);return e||r.push(o[2]),c.qy`<arcgis-picker-input .disabled=${t} .intlDone=${s.commitColor} .heading=${s.selectColor} .label=${s.selectColor} @arcgisPopoverOpen=${this.handleOpen} @arcgisPopoverClose=${this.handleClose} .popoverProps=${this.popoverProps} ${(0,n.K)(this.setInlineInputRef)}><div class="color-picker-container" slot=content>${(0,i.D)("color-picker"+(e?"--compact":""),c.qy`<calcite-color-picker .clearable=${this.clearable} class="color-picker" @calciteColorPickerInput=${(0,l.sg)((e=>{e.stopPropagation(),this.updateColor(this.colorPickerEl.value,!1)}),500)} .scale=${e?"s":"m"} .storageId=${this.storageId} .alphaChannel=${this.showTransparency} .value=${this.color} ${(0,n.K)(this.setColorPickerRef)}></calcite-color-picker>`)}</div><div slot=preview><calcite-color-picker-swatch class="preview-swatch" .color=${this.color} scale=s></calcite-color-picker-swatch></div>${!this.hideRecentColors&&c.qy`<div slot=content-end class="recent-colors-container" @keydown=${this.handleRecentColorsKeyDown} tabindex=-1>${r.map(((e,t)=>e?(0,i.D)(e,c.qy`<calcite-color-picker-swatch class="preview-recent-swatch" role=button scale=s tabindex=0 .active=${e===this.color} .color=${e} @click=${this.handleSwatchClickOrKeyUp} @keyup=${this.handleSwatchClickOrKeyUp} @focus=${this.handleUpdateActiveSwatch} ${(0,n.K)(this.setRecentColorElement(t+1))}></calcite-color-picker-swatch>`):this.renderEmptySwatch(`empty-swatch-${t}`)))}</div>`||""}${this.clearable&&c.qy`<div slot=content-end><calcite-action icon=circle-disallowed scale=s .label=${s.clearColor} .text=${s.clearColor??""} @click=${this.handleClearColor} @mouseover=${()=>this.addTooltip({referenceElement:this.actionEl.value,placement:a?"right-start":"left-start",innerHTML:s.noColor??""})} @mouseout=${()=>this.removeTooltip()} ${(0,n.K)(this.actionEl)}></calcite-action></div>`||""}</arcgis-picker-input>`}renderEmptySwatch(e){return(0,i.D)(e,c.qy`<svg class="empty-swatch" viewBox="0 0 20 20" xmlns=http://www.w3.org/2000/svg width=20>${c.JW`<rect width=20 height=20 fill=#f8f8f8 stroke=#000 stroke-dasharray=2 />`}</svg>`)}}(0,s.c)("arcgis-color-input",d)},98285:(e,t,o)=>{function s(e,t,o){window.localStorage.setItem(e,JSON.stringify(t))}function i(e,t){const o=window.localStorage.getItem(e);return o&&t?JSON.parse(o):o}o.d(t,{g:()=>i,s:()=>s})}}]);