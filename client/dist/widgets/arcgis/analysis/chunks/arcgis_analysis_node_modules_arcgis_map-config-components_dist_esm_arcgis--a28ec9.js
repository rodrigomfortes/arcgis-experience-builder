/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--a28ec9.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--a28ec9"],{14528:(e,t,i)=>{function s(e){const t=[];l=e,queueMicrotask((()=>{l===e&&(l=void 0)}));const i=e.componentWillLoad;return e.componentWillLoad=async()=>{await Promise.all(t.map((e=>e()))).then((()=>{})),await(i?.call(e))},{onLoad:e=>t.push(e)}}let l;function n(){return l}i.d(t,{r:()=>n,u:()=>s})},90247:(e,t,i)=>{i.r(t),i.d(t,{arcgis_floor_configuration_field_list:()=>n,arcgis_floor_configuration_field_select:()=>a});var s=i(11254),l=i(14528);const n=class{constructor(e){(0,s.r)(this,e),this.arcgisListChange=(0,s.c)(this,"arcgisListChange",7),this.manager=(0,l.u)(this),this.fieldType="string",this.filterDisabled=!1,this.layer=void 0,this.multiple=!1,this.selection=new Map,this.strings=void 0}render(){return(0,s.h)(s.H,{key:"6eee926ab315ac2a6798e9233494229ca73be730"},(0,s.h)("calcite-list",{key:"77921c46af947adf08c5918a5503485cffefc4b2",filterEnabled:!this.filterDisabled,filterPlaceholder:this.strings.filter,selectionMode:this.multiple?"multiple":"single",label:this.strings.fieldList,onClick:e=>{this.updateSelection(e),this.arcgisListChange.emit(Array.from(this.selection.values()))}},this.renderFields()))}renderFields(){return(this.getFields()||[]).map((e=>this.renderField(e)))}renderField(e){const t=`{${e.name}}`;return(0,s.h)("calcite-list-item",{label:e.alias||"",description:t,selected:this.selection.has(e.name),value:e.name})}findField(e){const{layer:t}=this;return t.fieldsIndex.get(e)??void 0}getFields(){const{layer:e,fieldType:t}=this,{fields:i}=e;return i?.length?i.filter((e=>!t||e?.type===t)):[]}updateSelection(e){const t=e.target;if("calcite-list-item"===t?.localName||"calcite-list-item"===t?.parentElement?.localName){const{selection:e}=this,i=t?.value??t?.parentElement?.value,s=e.has(i),l=this.findField(i);if(!l)return;this.multiple||e.clear(),s?this.selection.delete(l.name):this.selection.set(i,l)}}get el(){return(0,s.a)(this)}},a=class{constructor(e){(0,s.r)(this,e),this.manager=(0,l.u)(this),this.field=void 0,this.fieldType="string",this.layer=void 0}async componentWillLoad(){this.onSelectChange()}render(){const{title:e}=this.layer,t=this.getFields();return(0,s.h)(s.H,{key:"f1336436146a795d47fb6bbf7f775bd890857f77"},(0,s.h)("calcite-label",{key:"4fdeee008f66f536cc569715b005e40747b4cb63"},e,(0,s.h)("calcite-select",{key:"6548745728f3e389aefb1a88b96948727bf92ced",label:"select",ref:e=>this.select=e,onCalciteSelectChange:()=>this.onSelectChange()},t.map((e=>this.renderField(e))))))}renderField(e){return(0,s.h)("calcite-option",{label:e.alias||"",value:e.name})}findField(e){return this.layer.fieldsIndex.get(e)??this.getFields()[0]}getFields(){const{layer:e,fieldType:t}=this,{fields:i}=e;return i?.length?i.filter((e=>!t||e?.type===t)):[]}onSelectChange(){const{select:e}=this,t=e?.selectedOption;this.field=t?this.findField(t.value):this.field??this.getFields()[0]}get el(){return(0,s.a)(this)}}}}]);