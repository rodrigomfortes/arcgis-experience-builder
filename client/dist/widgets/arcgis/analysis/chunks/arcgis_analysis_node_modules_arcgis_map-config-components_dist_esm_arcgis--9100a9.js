/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--9100a9.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--9100a9"],{1092:(e,t,i)=>{i.r(t),i.d(t,{arcgis_map_config_floor_field_list:()=>a,arcgis_map_config_floor_field_select:()=>n});var s=i(11254),l=i(14528);const a=class{constructor(e){(0,s.r)(this,e),this.arcgisListChange=(0,s.c)(this,"arcgisListChange",7),this.manager=(0,l.u)(this),this.fieldType="string",this.filterDisabled=!1,this.layer=void 0,this.multiple=!1,this.selection=new Map,this.strings=void 0}render(){return(0,s.h)(s.H,{key:"1996c618084653f0d45fb9161bda86217afde3ab"},(0,s.h)("calcite-list",{key:"779f89d60094349fa0e075b941b794958ba56e7b",filterEnabled:!this.filterDisabled,filterPlaceholder:this.strings.filter,selectionMode:this.multiple?"multiple":"single",label:this.strings.fieldList,onClick:e=>{this.updateSelection(e),this.arcgisListChange.emit(Array.from(this.selection.values()))}},this.renderFields()))}renderFields(){return(this.getFields()||[]).map((e=>this.renderField(e)))}renderField(e){const t=`{${e.name}}`;return(0,s.h)("calcite-list-item",{label:e.alias||"",description:t,selected:this.selection.has(e.name),value:e.name})}findField(e){const{layer:t}=this;return t.fieldsIndex.get(e)??void 0}getFields(){const{layer:e,fieldType:t}=this,{fields:i}=e;return i?.length?i.filter((e=>!t||e?.type===t)):[]}updateSelection(e){const t=e.target;if("calcite-list-item"===t?.localName||"calcite-list-item"===t?.parentElement?.localName){const{selection:e}=this,i=t?.value??t?.parentElement?.value,s=e.has(i),l=this.findField(i);if(!l)return;this.multiple||e.clear(),s?this.selection.delete(l.name):this.selection.set(i,l)}}get el(){return(0,s.a)(this)}},n=class{constructor(e){(0,s.r)(this,e),this.manager=(0,l.u)(this),this.field=void 0,this.fieldType="string",this.layer=void 0}async componentWillLoad(){this.onSelectChange()}render(){const{title:e}=this.layer,t=this.getFields();return(0,s.h)(s.H,{key:"88b15f7c1815f280d2a82f184c3ba5c9cd6ce415"},(0,s.h)("calcite-label",{key:"ecc97ac5388a1be9d795bbcf75952835a9728d63"},e,(0,s.h)("calcite-select",{key:"165f23cbc1d952a632a54bb14c3953bfdf08398e",label:"select",ref:e=>this.select=e,onCalciteSelectChange:()=>this.onSelectChange()},t.map((e=>this.renderField(e))))))}renderField(e){return(0,s.h)("calcite-option",{label:e.alias||"",value:e.name})}findField(e){return this.layer.fieldsIndex.get(e)??this.getFields()[0]}getFields(){const{layer:e,fieldType:t}=this,{fields:i}=e;return i?.length?i.filter((e=>!t||e?.type===t)):[]}onSelectChange(){const{select:e}=this,t=e?.selectedOption;this.field=t?this.findField(t.value):this.field??this.getFields()[0]}get el(){return(0,s.a)(this)}}},14528:(e,t,i)=>{function s(e){const t=[];l=e,queueMicrotask((()=>{l===e&&(l=void 0)}));const i=e.componentWillLoad;return e.componentWillLoad=async()=>{await Promise.all(t.map((e=>e()))).then((()=>{})),await(i?.call(e))},{onLoad:e=>t.push(e)}}let l;function a(){return l}i.d(t,{r:()=>a,u:()=>s})}}]);