/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-942872.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-942872"],{16405:(e,i,n)=>{n.d(i,{g:()=>t});var r=n(64099);async function t(e){const i=await(0,r.g)(e,"arcgis-member-browser");return i&&i.length?i[0]:null}},23966:(e,i,n)=>{n.d(i,{a:()=>o,g:()=>l,o:()=>s});var r=n(37762),t=n(74174);function l(e){return(0,t.g)(e,"arcgis-member-browser")}const o=(e,i)=>{e.onChange("view",(e=>{i(e)}))};(0,r.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,i)=>{e.onChange("sort",(e=>{i(e)}))}},50822:(e,i,n)=>{n.d(i,{a:()=>o,b:()=>l,c:()=>u,d:()=>d,e:()=>c,f:()=>p,g:()=>v,i:()=>s,u:()=>a});n(93814);var r=n(87744);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function l(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function o(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function a(e,i){return s(e,i)||function(e,i){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,t="admin"===e.itemControl,l=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!s(e,i)&&t&&r.includes("esri_")&&!l.includes(r))return!1;return t}(e,i)}const u=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),d=(e,i)=>`${(0,r.a)(i)}item.html?id=${e}`,c=(e,i)=>`${(0,r.g)(i)}/content/users/${e}`,p=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{}),v=(e,i)=>`${(0,r.a)(i)}content/items/${e}`},56175:(e,i,n)=>{n.d(i,{A:()=>A,B:()=>$,C:()=>v,D:()=>G,a:()=>s,b:()=>l,c:()=>o,d:()=>m,e:()=>w,f:()=>b,g:()=>_,h:()=>I,i:()=>p,j:()=>y,k:()=>k,l:()=>a,m:()=>C,n:()=>d,o:()=>c,p:()=>h,q:()=>O,r:()=>M,s:()=>u,t:()=>D,u:()=>S,v:()=>x,w:()=>P,x:()=>g,y:()=>f,z:()=>E});var r=n(50822);const t=e=>{var i,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function l(e){return e&&!e.orgId}function o(e,i){return(0,r.u)(e,i)||"update"===e.itemControl||(0,r.c)([e],i)&&b(i)}function s(e,i){const n=(0,r.c)([e],i),t=(0,r.u)(e,i)||b(i)&&n,l=_(i)&&T(i);return!!(t||n&&l)}const a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function p(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function v(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function h(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const m=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},g=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},f=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function b(e){return"org_admin"===t(e)||"account_admin"===t(e)}function w(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function _(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function y(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function I(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function C(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const T=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function E(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function k(e,i,n,r){const t=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),l=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!b(i)&&!l||!(null==n?void 0:n.isPortal)&&!t)}function G(e){return!!e&&(!_(e)||_(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const $=({items:e,user:i,portal:n})=>{const t=e[0],l=t.owner;if(n.isPortal&&l!==i.username&&l.includes("esri_")&&!["esri_livingatlas"].includes(l))return!1;const s=(0,r.u)(t,i),a=_(i),u=B(i),d=o(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!a&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||D(e)||S(e)||!!i.canSharePublic&&E(e)}(i,n)||B(i));return s||d||(0,r.c)(e,i)&&u};function B(e){return x(e)||P(e)||A(e)}const L=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function M(e){return e.some((e=>L.includes(e)))}function O(e){return e.filter((e=>L.includes(e)))}},74174:(e,i,n)=>{n.d(i,{a:()=>l,b:()=>s,g:()=>u,i:()=>t,o:()=>o});var r=n(15332);const t=e=>"item-browser"===e.state.type,l=(e,i,n)=>{i.onChange("filters",(i=>{i[e]&&i[e].value||n()}))},o=(e,i)=>{e.onChange("preview",(e=>{i()}))},s=(e,i)=>{e.onChange("groupId",(e=>{i()}))},a=new Map;function u(e,i){const n=a.get(e);if(n)return n;const t=(0,r.c)(e,i);return t?(a.set(e,t.store),t.store):null}},74812:(e,i,n)=>{n.r(i),n.d(i,{arcgis_member_browser_filter_app:()=>d});var r=n(87849),t=n(59317),l=n(56175),o=n(74174),s=n(16405),a=n(23966),u=n(70875);n(37762),n(50822),n(93814),n(87744),n(15332),n(64099),n(81034),n(931),n(50637),n(66337);const d=class{constructor(e){(0,r.r)(this,e),this.arcgisMemberBrowserFilter=(0,r.c)(this,"arcgisMemberBrowserFilter",7),this.loadApps=async()=>{const{user:e,portal:i}=null!==t.c&&void 0!==t.c?t.c:{};!this.apps&&e&&i&&(0,l.l)(e)&&(this.apps=await(0,u.g)(i),this.app&&this.emitEvent())},this.app=void 0,this.expanded=void 0,this.apps=void 0,this.searchTerm=""}async componentWillLoad(){var e;this.store=(0,a.g)(this.el),this.i18n=null===(e=await(0,s.g)(this.el))||void 0===e?void 0:e.filterApp}async componentDidLoad(){await this.loadApps(),(0,t.o)("user",this.loadApps),(0,t.o)("portal",this.loadApps),(0,o.a)("app",this.store,(()=>this.app=null))}getEventDetail(){const{app:e}=this;return e?{id:"app",param:"app",value:this.app.id,label:this.i18n.label.replace("${app}",this.app.title),app:e.id}:{id:"app",param:"app",value:"",label:"",app:""}}emitEvent(){const e=this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){const{apps:e}=this;return this.store.state.groupId&&!this.store.state.myOrgView||!(null==e?void 0:e.length)||this.store.state.includeExternalUsers?null:(0,r.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.app,onArcgisBrowserFilterRemove:()=>{this.app=null},filterID:"app"},(0,r.h)("div",null,(0,r.h)("calcite-input",{type:"search",icon:"search",placeholder:this.i18n.title,onCalciteInputInput:e=>{this.searchTerm=e.target.value.toLowerCase()}}),(0,r.h)("div",{class:"tree-wrapper"},(0,r.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var i,n,r;const t=null===(n=null===(i=e.target.selectedItems)||void 0===i?void 0:i[0])||void 0===n?void 0:n.dataset.appId,l=this.apps.find((e=>e.id===t));this.app&&(null===(r=this.app)||void 0===r?void 0:r.id)===(null==l?void 0:l.id)?this.app=null:this.app=l,this.emitEvent()}},e.filter((e=>!this.searchTerm||e.title.toLowerCase().includes(this.searchTerm))).map((e=>(0,r.h)("calcite-tree-item",{key:e.id,"data-app-id":e.id,selected:this.app&&this.app.id===e.id},(0,r.h)("a",null,e.title))))))))}get el(){return(0,r.a)(this)}}}}]);