"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-f05045"],{32367:(e,a,t)=>{t.d(a,{A:()=>S});var o=t(28445),i=t(34074),s=t(36740),r=t(60443),l=t(35385),n=t(84121),h=t(7508);const p="esriGPParameterDirectionInput",d="esriGPParameterDirectionOutput",c="parameterViewModel",u=["choiceListLabels","label","visible","componentName","serializationType","serializationParameterName","serializationKeys","uiParameterInfoSubSet","submissionName"],m=["dataType","choiceList","parameterType","parameterInfos"];function y(e,a,t){(void 0!==t&&!(0,n.j)(e[a],t)||void 0===t&&!(a in e))&&(0,n.k)(e,a,t)}function v(e,a){if(("constructor"!==a||"function"!=typeof e[a])&&"__proto__"!=a)return e[a]}function f(e,a,t,o,i,s,l){var h=v(e,t),p=v(a,t),d=l.get(p);if(d)y(e,t,d);else{var c,u=s?s(h,p,t+"",e,a,l):void 0,m=void 0===u;if(m){var f=(0,n.p)(p),g=!f&&(0,n.m)(p),b=!f&&!g&&(0,n.n)(p);u=p,f||g||b?(0,n.p)(h)?u=h:(c=h,(0,n.l)(c)&&(0,n.g)(c)?u=(0,r.a)(h):g?(m=!1,u=(0,r.b)(p,!0)):b?(m=!1,u=(0,r.d)(p,!0)):u=[]):(0,r.i)(p)||(0,n.q)(p)?(u=h,(0,n.q)(h)?u=function(e){return(0,r.c)(e,(0,r.k)(e))}(h):(0,n.i)(h)&&!(0,n.r)(h)||(u=(0,r.e)(p))):m=!1}m&&(l.set(p,u),i(u,p,o,s,l),l.delete(p)),y(e,t,u)}}function g(e,a,t,o,i){e!==a&&(0,r.f)(a,(function(s,r){if(i||(i=new n.S),(0,n.i)(s))f(e,a,r,t,g,o,i);else{var l=o?o(v(e,r),s,r+"",e,a,i):void 0;void 0===l&&(l=s),y(e,r,l)}}),r.k)}var b,I,P,T=(b=function(e,a,t,o){g(e,a,t,o)},I=function(e,a){var t=-1,o=a.length,i=o>1?a[o-1]:void 0,s=o>2?a[2]:void 0;for(i=b.length>3&&"function"==typeof i?(o--,i):void 0,s&&function(e,a,t){if(!(0,n.i)(t))return!1;var o=typeof a;return!!("number"==o?(0,n.g)(t)&&(0,n.b)(a,t.length):"string"==o&&a in t)&&(0,n.j)(t[a],e)}(a[0],a[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++t<o;){var r=a[t];r&&b(e,r,t,i)}return e},(0,n.s)((0,n.o)(I,P,n.e),I+""));function C(e,a){return function(e,a){if(null==e)return{};var t=(0,n.u)((0,r.g)(e),(function(e){return[e]}));return a=(0,r.h)(a),(0,h.b)(e,t,(function(e,t){return a(e,t[0])}))}(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var a=arguments;switch(a.length){case 0:return!e.call(this);case 1:return!e.call(this,a[0]);case 2:return!e.call(this,a[0],a[1]);case 3:return!e.call(this,a[0],a[1],a[2])}return!e.apply(this,a)}}((0,r.h)(a)))}const U=(e,a)=>{let t=e;return void 0!==a&&void 0!==e&&e.startsWith("$")&&(t=a[e.replace("$","")]),t};function D({label:e,placeholderText:a,heading:t,filterPlaceholderText:o,selectButtonLabel:i,replaceTooltipText:s,choiceListLabels:r,UIparameterInfos:l,UIparameterInfosRules:n,validationParams:h,parameterGroupDataTypeLabel:p,disabledTooltip:d,noFieldsText:c,noLayersText:u,...m},y){const v=void 0!==r?((e,a)=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,o])=>{const i=U(o,a);void 0!==i&&(t[e]=i)})),t})(r,y):void 0,f=void 0!==l?l.map((e=>D(e,y))):void 0,g=n?.map((e=>"set"!==e.ruleType?{...e,effectParams:{...e.effectParams,...C(D(e.effectParams,y),(e=>void 0===e))}}:e)),b=void 0!==h?((e,a)=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,o])=>{if("object"==typeof o)t.variables=o;else{const i=U(o,a);void 0!==i&&(t[e]=i)}})),t})(h,y):void 0;return{label:U(e,y),placeholderText:U(a,y),heading:U(t,y),filterPlaceholderText:U(o,y),selectButtonLabel:U(i,y),replaceTooltipText:U(s,y),choiceListLabels:v,UIparameterInfos:f,UIparameterInfosRules:g,validationParams:b,parameterGroupDataTypeLabel:U(p,y),disabledTooltip:U(d,y),noFieldsText:U(c,y),noLayersText:U(u,y),...m}}const V="parameters-container",L="notice-margin",S=class{constructor(e){(0,o.r)(this,e),this.analysisToolDataChange=(0,o.c)(this,"analysisToolDataChange",7),this.analysisToolHelpPopoverChange=(0,o.c)(this,"analysisToolHelpPopoverChange",7),this.analysisToolLoaded=(0,o.c)(this,"analysisToolLoaded",7),this.analysisCustomRuleExecuting=(0,o.c)(this,"analysisCustomRuleExecuting",7),this.isHelpFileExternalAsset=!1,this.analysisEngine=r.A.Standard,this.usePanel=!0,this.closable=!0,this.skipApplyingDefaults=!1,this.toolData={},this.parameterNotificationState={},this.supportsUpload=!1,this.emitAnalysisCustomRuleExecuting=e=>this.analysisCustomRuleExecuting.emit(e),this.helpMode="standalone",this.options={debounceParameterChanged:!1,doCalciteInputChangeOnCommit:!1,paramGroupFilterLayersByChip:!1},this.renderedParameters={},this.parameterViewModel={},this.renderParameter=e=>{const a=e?.value??this.toolData[e?.name],t=e?.name??e?.displayName,n=this.toolJson?.name??"",h=this.parameterNotificationState?.[e.name]?.errors?.[0]??e?.validationParams,p=(0,i.w)(e?.name),d=this.toolData[p];let c=d;0===d?.length?c=void 0:1===d?.length&&(c=d[0]);const u=(0,i.x)(e?.name),m=this.toolData[u],y=Array.isArray(d)?this.filterModelVariables(d):void 0,v=[...this.mapLayers??[],...y??[]];let f=!1;void 0!==c&&(f=(0,i.u)(a));const g=f?(0,i.b)(v):(0,i.f)(v);return(0,o.h)(s.A,{...e,key:t,name:t,toolTitle:this.toolTitle,value:a,validationParams:h,mapLayers:g,modelVariables:this.modelVariables,analysisDatasets:this.analysisDatasets,mapView:this.mapView,selectedLayers:c,modelVariablesByDataType:this.modelVariablesByDataType,paramGroupDataType:m,portal:this.portal,user:this.user,doCalciteInputChangeOnCommit:this.options?.doCalciteInputChangeOnCommit,paramGroupFilterLayersByChip:this.options?.paramGroupFilterLayersByChip,portalHelpMap:this.portalHelpMap,supportsUpload:this.supportsUpload,countExtent:this.environmentSettings?.extent,serviceUrl:this.serviceUrl,toolData:this.toolData,onSetRef:a=>this.handleOnSetRef(e.name,a),showDoubleVariables:!0===this.showDoubleVariables&&(0,i.h)(e.name,n),showStringVariables:!0===this.showStringVariables&&(0,i.h)(e.name,n),onValueChange:a=>!0===this.options?.debounceParameterChanged?this.debouncedParameterChanged(e.name,a):this.parameterChanged(e.name,a),showVariableNodesClick:()=>{this.variableNodeInputPopover=(0,r.j)(this.variableNodeInputPopover,{modelVariables:this.modelVariablesByDataType?.[e.dataType],referenceElement:this.renderedParameters[e.name],toolParam:e}),this.variableNodeInputPopover.addEventListener("variableNodeSelection",(a=>this.variableNodeChange(a,e.name)))},onClearVariableByIdClick:a=>{this.clearVariableById(a,e.name)},onHelpClick:a=>{const{paramName:t=e.name,paramLabel:o=e.label??t,refElement:s=this.renderedParameters[t]}=a.detail??{};(0,i.y)(),this.toolHelpPopover=(0,r.s)(this.toolHelpPopover,{analysisEngine:this.analysisEngine,helpUrl:this.toolHelpFilePath,helpId:t,helpFileName:this.toolJson?.name,heading:o,referenceElement:s,isHelpFileExternalAsset:this.isHelpFileExternalAsset,portal:this.portal??this.user?.portal,portalHelpMap:this.portalHelpMap,learnMoreBaseUrl:this.portal?.sourceJSON.helpBase??void 0,helpMode:this.helpMode})},onClick:()=>{(0,l.r)(this.toolHelpPopover)}})},this.renderParameterContainer=(e,a)=>{const t=e?.summaryText,r=V,l=h.A.Vertical;return(0,o.h)(s.a,{...e,componentName:e.componentName,label:e.label,summaryText:U(t,this.toolUIStrings??this.internalToolUIStrings),style:(0,i.m)(a)?void 0:{display:"none"}},(0,o.h)("div",{class:`${r} ${l}`},a))},this.handleOnSetRef=(e,a)=>{null!==a?this.renderedParameters[e]=a:(delete this.renderedParameters[e],delete this.toolData[e])},this.clearVariableById=(e,a)=>{const t=e.detail,o={...this.toolData};o[a].variable===t&&(o[a]=void 0),this.toolData=o,this.analysisToolDataChange.emit({toolData:o,parameterName:a}),(0,l.r)(this.variableNodeInputPopover)},this.variableNodeChange=(e,a)=>{const t=e.detail??[],o={...this.toolData};void 0===t[0]?o[a]=void 0:o[a]={variable:t[0]},this.toolData=o,this.analysisToolDataChange.emit({toolData:o,parameterName:a}),(0,l.r)(this.variableNodeInputPopover)},this.parameterChanged=(e,a)=>{const{target:t,detail:o}=a,s={...this.toolData},{travelModeInfo:r}=this.toolUIJson??{};if(null!==t&&void 0!==e){const a=t;if(void 0!==this.toolJson&&a.value!==i.Y&&!0===(0,i.o)(e,this.toolJson.name)){if(void 0!==r?.travelModes){const t=r?.travelModes.filter((e=>e.id===a.value))[0];s[e]={...t}}}else if("timeOfDay"===e){const t=a.value;s[e]=t?.timeOfDay,s.timeZoneForTimeOfDay=t?.timeZoneForTimeOfDay}else if("analysisVariables"===e){const{analysisVariables:t,country:o,hierarchy:i,labels:r,countryAlias:l,hierarchyAlias:n}=a.value??{};s[e]=t,s.labels=r,void 0!==o&&(s.country=o),void 0!==i&&(s.hierarchy=i),void 0!==l&&(s.countryAlias=l),void 0!==n&&(s.hierarchyAlias=n)}else if("queryBuilder"===e){const{expressions:e,inputLayers:t}=a.value??{};s.expressions=e,s.inputLayers=t}else{let t;switch(a.nodeName){case"ANALYSIS-PARAMETER-GROUP":t=a.value,s[e]=t;const r=(0,i.x)(e),l=a.dataType;s[r]=l;("GPFeatureRecordSetLayer"===l||"GPRecordSet"===l||"GPComposite"===l&&(0,i.m)(t)&&("GPFeatureRecordSetLayer"===t.dataType||"GPRecordSet"===t.dataType))&&(s[(0,i.v)(e)]=o?.creationMode??"browse",s[(0,i.w)(e)]=a.selectedLayers);break;case"ANALYSIS-LAYER-INPUT":t=a.value,s[e]=t,s[(0,i.v)(e)]=o?.creationMode??"browse",s[(0,i.w)(e)]=a.selectedLayers;break;case"ANALYSIS-GP-COMPOSITE":s[e]=o.data;const{dataType:n}=o.data;"GPFeatureRecordSetLayer"!==n&&"GPRecordSet"!==n||(s[(0,i.v)(e)]=o?.creationMode??"browse",s[(0,i.w)(e)]=a.selectedLayers);break;default:t=a.value,s[e]=t}}s[c]=this[c],this.toolData=s,this.analysisToolDataChange.emit({toolData:s,parameterName:e})}},this.debouncedParameterChanged=(0,r.l)(this.parameterChanged,500)}toolUIJsonChange(e,a){!1===(0,n.v)(e?.t9n,a?.t9n)&&(this.internalToolUIStrings={...e?.t9n})}async toolDataChange(e,a){const t=this.portal?.helperServices.geoenrichment?.url;if(!(0,i.d)(t)&&"EnrichLayer"===this.toolJson?.name&&void 0!==this.toolUIJson&&!(0,n.v)((0,r.o)(e?.inputLayer,"serviceToken"),(0,r.o)(a?.inputLayer,"serviceToken"))){let a;if(void 0!==e&&(0,i.m)(e?.inputLayer)){let e=this.renderedParameters?.inputLayer?.selectedLayers;e=Array.isArray(e)?e[0]:e;const o=this.modelVariables?.find((a=>a.id===e?.id));!0!==o?.isDerived&&(this.emitAnalysisCustomRuleExecuting(!0),a=await(0,i.j)({inputLayer:e,mapView:this.mapView,geoenrichmentUrl:t}),this.emitAnalysisCustomRuleExecuting(!1))}void 0===e||!(0,i.d)(e.inputLayer)&&e.country===a||(e.analysisVariables=void 0,e.hierarchy=void 0,e.country=a),this.toolData={...this.toolData,...(0,h.p)(e,"inputLayer","analysisVariables","hierarchy","country")}}}async onUserChange(){let e=!1;void 0!==this.portal&&(e=await(0,i.S)(this.portal)),this.toolData={...this.toolData,userSettings:{unitSystem:this.user?.units,hasNAPrivilege:(0,i.W)(this.user),hasGEPrivilege:(0,i.a)(this.user),hasAdvancedLicense:e}},this.analysisToolDataChange.emit({toolData:this.toolData,parameterName:void 0})}toolHelpPopoverChange(){this.analysisToolHelpPopoverChange.emit()}disconnectedCallback(){(0,l.r)(this.toolHelpPopover)}async componentWillRender(){this.toolParameters=void 0!==this.toolUIJson?await this.buildWithUIParameters(this.toolUIJson.UIparameters):this.buildWithoutUIParameters()}async componentWillLoad(){const{rtl:e}=(0,i.P)(this.hostElement);this.direction=!0===e?"rtl":"ltr";let a=!1;if(void 0!==this.user&&(a=await(0,i.S)(this.user?.portal)),void 0!==this.toolUIJson&&this.toolUIJsonChange(this.toolUIJson),void 0!==this.toolUIStrings&&(this.internalToolUIStrings={...this.toolUIStrings},void 0!==this.toolUIJson&&void 0===this.toolUIJson?.t9n&&(this.toolUIJson.t9n=this.toolUIStrings)),void 0!==this.toolJson?.parameters&&!this.skipApplyingDefaults){const e=await this.getDefaultValues(a,this.toolJson.parameters,this.toolUIJson?.UIparameters);this.toolData=T({},e,this.toolData??{},((e,a)=>(0,i.d)(a)?e:void 0)),(0,i.d)(this.toolData)||this.analysisToolDataChange.emit({toolData:this.toolData,parameterName:void 0})}}componentDidLoad(){this.toolData[c]=this[c],this.analysisToolLoaded.emit()}async validateTool(){const e=await this.checkToolValidity(),a=await this.checkToolValidationRules();return void 0!==e&&a.push(e),{valid:0===a.length,errorKeys:a}}get toolTitle(){let e;if(void 0!==this.toolJson&&void 0!==this.internalToolUIStrings?.toolInfo){const a=`${(0,i.J)(this.toolJson?.name)}${(0,i.k)(this.analysisEngine)}`;e=this.internalToolUIStrings.toolInfo?.[a]}else e=this.toolJson?.displayName;return e=e??this.toolUIJson?.toolName??this.toolJson?.displayName,e}render(){const e=this.hasParameters?this.toolParameters:this.showEmpytNotice();return(0,o.h)(o.H,{key:"607fde0aae50de9072c597464099c26d4b66e1ae"},!0===this.usePanel?(0,o.h)("calcite-panel",{dir:this.direction,heading:this.toolTitle,closable:this.closable,ref:e=>{this.panelElement=e}},(0,o.h)("calcite-action",{label:"",text:"",icon:"information",slot:"header-actions-end",onClick:()=>{void 0!==this.toolHelpFilePath&&(this.toolHelpPopover=(0,r.s)(this.toolHelpPopover,{helpUrl:this.toolHelpFilePath,helpId:"toolDescription",heading:this.toolTitle,referenceElement:this.panelElement,isHelpFileExternalAsset:!0,portal:this.portal??this.user?.portal,portalHelpMap:this.portalHelpMap,helpFileName:this.toolJson?.name,analysisEngine:this.analysisEngine,learnMoreBaseUrl:this.portal?.sourceJSON.helpBase,learnMoreUrl:this.learnMoreUrl,offsetDistance:15,externalHelpMap:this.externalHelpMap}))}}),e):e)}get hasParameters(){const e=this.toolJson?.parameters?.filter((e=>"context"!==e.name&&e.direction!==d))?.length;return(this.toolUIJson?.UIparameters?.length??0)+(e??0)>0}filterModelVariables(e){return e?.filter((e=>(0,i.m)(e)&&void 0===this.modelVariables?.find((a=>a.id===e.id))))}showEmpytNotice(){const e=!0===this.user?.portal?.isPortal&&void 0!==this.portalHelpMap?this.portalHelpMap?.m[r.n.map.OtherHelpLinks.noParameters]:r.m.map.OtherHelpLinks.noParameters,a=(0,i.l)({url:e,basePath:(0,i.A)(this.user?.portal),portalUrl:this.user?.portal?.restUrl}),t=(0,i.t)(this.internalToolUIStrings?.noParametersLearnMore,{docLink:a});return(0,o.h)("calcite-notice",{class:L,open:!0,icon:!0,kind:"info"},(0,o.h)("div",{slot:"message"},this.internalToolUIStrings?.noParametersText," "),(0,o.h)("div",{slot:"link",innerHTML:t}))}async buildWithUIParameters(e){const{rules:a,travelModeInfo:t}=this.toolUIJson??{},o=(0,h.g)(a??[]),s=(0,h.j)(e??[],this.toolJson?.parameters??[]),r=[];for(let e of s){const a=e.name;if(void 0===a){r.push(e);continue}let s=this.toolData;void 0!==this.toolJson&&!0===(0,i.o)(a,this.toolJson.name)?[e,s]=(0,h.a)({param:e,data:s,travelModeInfo:t,straightLineLabel:this.internalToolUIStrings?.straightLineLabel??void 0}):(s[a]??(s[a]=e.value),e.value=s[a]);const l=o.get(a);if(void 0!==l&&([e,s]=await(0,h.c)({param:e,data:s,rules:l,renderedParameters:this.renderedParameters,currentTool:this.hostElement,modelVariablesById:this.modelVariablesById})),[e,s]=(0,h.d)({param:e,data:s,renderedParameters:this.renderedParameters}),r.push(e),void 0!==e.name&&void 0===e.UIparameters){const a=(0,h.p)(e,[...u,...m]);if("UIparameterInfos"in e){const t={};e.UIparameterInfos?.forEach((e=>{void 0!==e.name&&(t[e.name]=(0,h.p)(e,u))})),a.uiParameterInfoSubSet=t}this[c][e.name]=a}}return Promise.all(r.filter((e=>!1!==e.visible)).map((e=>D(e,this.toolUIStrings??this.internalToolUIStrings))).map((async e=>{if(void 0!==e.UIparameters){const a=await this.buildWithUIParameters(e.UIparameters);return this.renderParameterContainer(e,a)}{const a=e;return this.renderParameter(a)}})))}buildWithoutUIParameters(){const e=this.toolJson?.parameters??[];return e?.filter((e=>e.direction===p)).map(this.renderParameter)}async getDefaultValues(e,a,t){let o={};const{travelModeInfo:s,rules:r}=this.toolUIJson??{},{name:l}=this.toolJson??{},n=(0,i.p)(t??[]);o=(0,h.e)({defaultValues:o,user:this.user,hasAdvancedLicense:e}),o=(0,h.f)({defaultValues:o,toolName:l,toolUIJsonParametersByName:n,travelModeInfo:s}),o=(0,h.h)({defaultValues:o,toolJsonParameters:a,toolUIJsonParametersByName:n}),o=await(0,h.i)({defaultValues:o,toolUIJsonParametersByName:n,rules:r});const p=await this.getDefaultLayerValues(a);return o={...o,...p},o}async getDefaultLayerValues(e){const a={};for(const t of e)if(void 0!==t.defaultValue&&null!==t.defaultValue&&"object"==typeof t.defaultValue&&("GPFeatureRecordSetLayer"===t.dataType||"GPRecordSet"===t.dataType)&&"url"in t.defaultValue){const{existingLayers:e,layersToAdd:o}=await(0,i.q)([t.defaultValue],this.mapLayers??[]);a[(0,i.w)(t?.name)]=[...e,...o]}return a}async checkToolValidity(){const e=Object.values(this.renderedParameters).filter((e=>"checkValidity"in e&&"function"==typeof e.checkValidity)).map((e=>e.checkValidity()));return!0===await Promise.all(e).then((e=>e.every((e=>!0===e))))?void 0:i.r}async checkToolValidationRules(){const{validationRules:e}=this.toolUIJson||{},a=[];if(!(0,i.d)(e))for(const t of e){!0===await(0,i.Q)({rule:t,data:this.toolData,renderedParams:this.renderedParameters,currentTool:this.hostElement})&&a.push(t.errorKey)}return a}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,o.a)(this)}static get watchers(){return{toolUIJson:["toolUIJsonChange"],toolData:["toolDataChange"],user:["onUserChange"],toolHelpPopover:["toolHelpPopoverChange"]}}};S.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}.parameters-container{display:flex;justify-content:space-between;column-gap:5%;width:var(--analysis-parameter-default-width)}.horizontal{flex-direction:row;align-items:center}.vertical{flex-direction:column}.notice-margin{margin:var(--analysis-full-spacing) var(--analysis-three-quarter-spacing)}"},36740:(e,a,t)=>{t.d(a,{A:()=>v,a:()=>g,c:()=>f});var o=t(28445),i=t(34074),s=t(26938),r=t(1161);const l=({name:e,value:a,onSetRef:t,onValueChange:i,onHelpClick:s,...r})=>(0,o.h)("analysis-gp-composite",{key:e,ref:t,value:a,onAnalysisGPCompositeInputChange:i,onAnalysisHelpClick:s,...r}),n=({name:e,onSetRef:a,onValueChange:t,onHelpClick:i,label:s,value:r,...l})=>{const n=l.parameterInfos?.map((e=>e.name));return void 0!==n&&n.length!==new Set(n).size?(0,o.h)("analysis-unsupported-input",{key:e,label:s,ref:a,user:l.user,portalHelpMap:l.portalHelpMap,required:l.required,value:r,onAnalysisHelpClick:i,...l}):(0,o.h)("analysis-value-table",{key:e,ref:a,onAnalysisValueTableChange:t,label:s,value:r,onAnalysisHelpClick:i,...l})},h=({name:e,onSetRef:a,onValueChange:t,onHelpClick:s,label:r,value:l,required:n,...h})=>{const p=(0,i.d)(h.parameterInfos)?[{name:"",dataType:h.dataType?.split(":")[1]}]:h.parameterInfos;return(0,o.h)("analysis-value-table",{description:h.description,key:e,label:r,required:n,value:l,valueWithoutKey:!0,parameterInfos:p,UIparameterInfos:h?.UIparameterInfos,onAnalysisHelpClick:s,onAnalysisValueTableChange:t,ref:a})},p=(e,a)=>a,d={[r.A.GPValueTable]:n,[r.A.GPMultiValueDate]:h,[r.A.GPMultiValueLinearUnit]:h,[r.A.GPMultiValueArealUnit]:h,[r.A.GPComposite]:l},c={...s.a,...d},u={"analysis-parameter-group":({name:e,value:a,onSetRef:t,onValueChange:s,onHelpClick:l,label:n,required:h,UIparameterInfos:p,dataType:d,paramGroupDataType:c,portal:u,mapView:m,mapLayers:y,modelVariables:v,supportsUpload:f,serviceUrl:g,...b})=>{const I=(0,i.M)(a)?"GPComposite":c??d,{parameterInfos:P,...T}=b,C=I===r.A.GPComposite?(P||[]).map((e=>{const a=p?.find((a=>a.dataType===e.dataType));return a??e})):p||[];return(0,o.h)("analysis-parameter-group",{key:e,groupLabel:n,required:h,value:a,UIparameterInfos:C,dataType:I,portal:u,mapView:m,mapLayers:y,modelVariables:v,ref:t,onAnalysisParameterGroupInputChange:s,onAnalysisHelpClick:l,...T,supportsUpload:f,serviceUrl:g})},"analysis-value-table":n,"analysis-key-value":({value:e,layout:a,parameterInfos:t,onSetRef:i,onValueChange:s,onHelpClick:r,UIparameterInfos:l,label:n,...h})=>(0,o.h)("analysis-key-value",{value:e,layout:a,parameterInfos:t,UIparameterInfos:l,label:n,ref:i,onAnalysisKeyValueChange:s,onAnalysisHelpClick:r,...h}),"analysis-gp-composite":l},m={...s.p,...u},y={"analysis-block":({label:e,summaryText:a,...t},i)=>(0,o.h)("analysis-block",{label:e,summaryText:a,...t},i),"analysis-section":({label:e,open:a},t)=>(0,o.h)("analysis-section",{label:e,open:a},t)},v=e=>{let a;return void 0!==e.componentName?a=m[e.componentName]:void 0!==e.dataType&&(a=c[e.dataType]),a=a??s.N,(0,o.h)(a,{...(0,s.s)(e)})},f="widgets/arcgis/analysis/dist/runtime/widget"==t.j?v:null,g=(e,a)=>{let t;void 0!==e.componentName&&(t=y[e.componentName]);const{componentName:i,...s}=e;return t=t??p,(0,o.h)(t,{...s},a)}}}]);