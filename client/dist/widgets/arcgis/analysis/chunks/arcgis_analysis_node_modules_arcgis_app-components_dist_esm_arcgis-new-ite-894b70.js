/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-894b70.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-894b70"],{85063:(e,r,t)=>{t.r(r),t.d(r,{arcgis_new_item_pages_feature_layer_from_existing:()=>u});var s=t(87849),a=t(87744),i=t(59317),l=t(32710),n=t(3826),o=t(95878),c=t(99654),d=t(33547),g=t(43555);t(37762),t(83929),t(50637),t(931),t(93814),t(76246),t(63054),t(15912),t(24869),t(72257),t(86562),t(15332),t(50020),t(50822),t(75294),t(38295),t(51102),t(56175),t(90079),t(31544);const u=class{constructor(e){(0,s.r)(this,e),this.newItemUpdatePage=(0,s.c)(this,"newItemUpdatePage",7),this.getLayerDetailInfo=async()=>{const{result:e}=await(0,g.n)(this.selectedItem.id,i.c.portal);return e},this.selectedItem=void 0,this.errorMessage=null}async handleNext(){const{selectedItem:e,i18n:r,getLayerDetailInfo:t}=this;if(!e)return(0,d.f)("No layer selected"),void(this.errorMessage={title:r.noLayerError.title,message:r.noLayerError.description});try{const s=e.url,{error:o}=(0,c.g)(s);if("invalidFeatureLayerUrl"===(null==o?void 0:o.code))return void(this.errorMessage={title:r.invalidUrl.title,message:r.invalidUrl.description});const{layers:d,tables:g,serviceInfo:u}=await(0,l.v)({serviceUrl:s,restBaseUrl:(0,a.g)(i.c.portal),forceAddToken:!0}),m=await t();n.a.layerData=m,n.a.serviceInfo=Object.assign(Object.assign({},u),{layers:d,tables:g}),n.a.sourceTitle=e.title,(0,c.s)(e),this.newItemUpdatePage.emit("featureLayerSummary")}catch(e){console.error(e),this.errorMessage={title:o.u.i18n.itemProperties.errorTitle,message:o.u.i18n.url.errorMessage}}}componentWillLoad(){n.a.serviceInfo=null,n.a.selectedServiceInfoLayersNames=null,this.i18n=o.u.i18n.featureLayerFromExisting}render(){const{errorMessage:e}=this;return(0,s.h)(s.H,{key:"773f62fa8067a5ee382c3eda9fd4ff5cbadd8e7c"},(0,s.h)("arcgis-new-item-feature-layer-browser",{key:"5aa8b990b31a42634ca49897efb2707d7ac8fc81",onItemSelected:({detail:e})=>{this.selectedItem=e,this.errorMessage=null},itemBrowserBucket:i.c.portal.isPortal?["my","org"]:["my","org","living atlas","all"]}),(0,s.h)("arcgis-new-item-alert",{key:"c7e0f30c71ca08d4c45e4a7e620aa210be8c132f",heading:null==e?void 0:e.title,description:null==e?void 0:e.message,active:!!e,onAlertDismiss:()=>{this.errorMessage=null}}))}}}}]);