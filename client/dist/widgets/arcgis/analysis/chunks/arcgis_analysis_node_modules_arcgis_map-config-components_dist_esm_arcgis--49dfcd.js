/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--49dfcd.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--49dfcd"],{2854:(e,t,i)=>{function s(e){return e?.sourceJSON?.id}i.d(t,{g:()=>s})},3175:(e,t,i)=>{i.d(t,{a:()=>a,g:()=>o});var s=i(20173);function a(e){const{customBaseUrl:t,portalHostname:i,urlKey:s}=e,{protocol:a}=window.location;return`${a}//${s?`${s}.${t}`:i}`}function o(e){return(0,s.a)(e.restUrl)}},4573:(e,t,i)=>{function s(e,t,i){window.localStorage.setItem(e,i?JSON.stringify(t):t)}function a(e){window.localStorage.removeItem(e)}function o(e,t){const i=window.localStorage.getItem(e);return i&&t?JSON.parse(i):i}function r(e,t,i){window.sessionStorage.setItem(e,i?JSON.stringify(t):t)}function c(e,t){const i=window.sessionStorage.getItem(e);return i&&t?JSON.parse(i):i}i.d(t,{a:()=>c,b:()=>r,g:()=>o,r:()=>a,s:()=>s})},14528:(e,t,i)=>{function s(e){const t=[];a=e,queueMicrotask((()=>{a===e&&(a=void 0)}));const i=e.componentWillLoad;return e.componentWillLoad=async()=>{await Promise.all(t.map((e=>e()))).then((()=>{})),await(i?.call(e))},{onLoad:e=>t.push(e)}}let a;function o(){return a}i.d(t,{r:()=>o,u:()=>s})},20173:(e,t,i)=>{i.d(t,{a:()=>s});const s=e=>e&&!e.endsWith("/")?`${e}/`:e},90445:(e,t,i)=>{i.r(t),i.d(t,{arcgis_map_config_print_browse_templates:()=>n});var s=i(11254),a=i(3175),o=i(4573),r=i(2854),c=i(14528);const n=class{constructor(e){(0,s.r)(this,e),this.arcgisClose=(0,s.c)(this,"arcgisClose",7),this.arcgisItemBrowserCardPreview=(0,s.c)(this,"arcgisItemBrowserCardPreview",7),this.manager=(0,c.u)(this),this.portal=void 0,this.strings=void 0,this.items=void 0,this.pagination=void 0,this.selectedCount=0}arcgisItemBrowserCardPreviewHandler(e){const{portal:t}=this,i=e.detail;if(i?.id){const e=`${(0,a.a)(t)}/home/`;this.openItemDetailsNode.href=`${e}/item.html?id=${i.id}`}else this.openItemDetailsNode.removeAttribute("href")}async componentWillLoad(){const{portal:e}=this,t=(0,r.g)(e.user),i=((0,o.g)("arcgis-app-print-custom-templates-storage-infos",!0)||[])[t];i&&(this.savedTemplateIds=i.map((e=>e.itemId)))}render(){const{portal:e,savedTemplateIds:t,strings:i}=this;let o="";t?.forEach((e=>o+=` -id:${e}`));const r=`type:"Layout" typekeywords:"Layout" ${o}`,c=`${(0,a.a)(e)}/home/`;return(0,s.h)(s.H,{key:"eeadc8dffb988b98dc843e3c9d4de6e4791ff4ff"},(0,s.h)("calcite-dialog",{key:"e426b1e9d08eb4a582bfa9a96df5e257092feeef",class:"custom-templates-dialog",open:!0,modal:!0,scale:"l",escapeDisabled:!0,outsideCloseDisabled:!0,onCalciteDialogClose:()=>this.arcgisClose.emit(),heading:i.browseCustomTemplates},(0,s.h)("arcgis-item-browser",{key:"06fa30a2a218303726972c56ddf0caad3d9f99f7",view:"list",selection:"multiple",filter:r,portal:e,user:e.user,api:4,config:{baseUrl:c},onArcgisItemBrowserUpdate:e=>{const{results:t,num:i,start:s,total:a}=e.detail;this.items=t,this.pagination={start:s,num:i,total:a}},onArcgisItemBrowserSelect:()=>this.selectedCount=this.itemBrowserNode?.selectedItems?.length,ref:e=>this.itemBrowserNode=e},(0,s.h)("arcgis-item-browser-top-bar",{key:"d0db83abc52f9c8af1e62ee0ebb7b61980f97a64",slot:"top-bar","filter-toggle":!0},(0,s.h)("arcgis-item-browser-bucket-select",{key:"c0a3b44044c2cbefb245ed189d0f99e1a5bd7a62",slot:"bucket",options:e.isPortal?["my","favorites","group","org","living atlas"]:void 0}),(0,s.h)("arcgis-item-browser-search",{key:"625ad589af8f8dce00805cda131c832225419171",slot:"search",term:""})),(0,s.h)("arcgis-item-browser-sort",{key:"e446027e3e4e0cab8847b0a056d8e0633419e8d6",options:["modified","title","relevance"],slot:"sort"}),(0,s.h)("arcgis-item-browser-filters",{key:"44cf3a91c6c2551b4c8493c53c8c2086987121d4",slot:"filters"},e.user&&(0,s.h)("arcgis-item-browser-filter-folder",{key:"73d394bbb6c807f11411d0692b6310f6f4ff0be4",expanded:!0}),(0,s.h)("arcgis-item-browser-filter-categories",{key:"6d3efec638364c7baa07306acbceff71fc4e09c8"}),(0,s.h)("arcgis-item-browser-filter-location",{key:"ea30019745ce61310982336302dcc3a1ca58d242"}),(0,s.h)("arcgis-item-browser-filter-date",{key:"64482588b8ce1139a9e98838996873018d83cea8",property:"modified"}),(0,s.h)("arcgis-item-browser-filter-date",{key:"734d44fae541e8bd5873d087686dcbaceaff942f",property:"created"}),(0,s.h)("arcgis-item-browser-filter-tags",{key:"023e90fbca776a28cf23b9fd35846b5bfb6d87c1"}),(0,s.h)("arcgis-item-browser-filter-sharing",{key:"556570f12cc2950958f94557e78501ad7c2e39d1"})),(0,s.h)("arcgis-item-browser-content",{key:"17a0e550e328c7f28249912ade831c83ae8bcc2b",slot:"content"},(this.items||[]).map((t=>(0,s.h)("arcgis-item-browser-card",{key:`card-${t.id}`,item:t,portal:e,baseUrl:c,showItemType:!0,showDateUpdated:!0,showOwner:!0,showSummary:!0,showThumbnail:!0,preview:"action",messageOverrides:{preview:i.viewItemDetails}})))),(0,s.h)("arcgis-item-browser-pagination",{key:"5fe620ad0449627eb51c456e123f048700608e76",slot:"pagination",total:this.pagination?.total,start:this.pagination?.start,num:this.pagination?.num}),(0,s.h)("calcite-button",{key:"91ad524dde1352e1befe94bacb4cc6d79b3298fc",slot:"preview-footer",alignment:"center",appearance:"outline-fill",kind:"neutral",width:"full",target:"_blank",ref:e=>this.openItemDetailsNode=e},i.viewDetails)),(0,s.h)("calcite-button",{key:"1a56c1c985ae7ff01343218459c293f355f3940b",slot:"footer-end",appearance:"outline-fill",alignment:"center",onClick:()=>{this.arcgisClose.emit()}},i.cancel),(0,s.h)("calcite-button",{key:"4625f455d0b56f4ab2e56dd074f9ae2aa4255bea",slot:"footer-end",alignment:"center",appearance:"solid",disabled:!this.selectedCount,onClick:()=>{this.arcgisClose.emit(this.itemBrowserNode.selectedItems.length?this.itemBrowserNode.selectedItems.map((e=>e)):[])}},i.add)))}get el(){return(0,s.a)(this)}};n.style=".custom-templates-dialog{--calcite-dialog-size-y:min(900px, calc(80vh + 100px));--calcite-dialog-size-x:1080px;--calcite-dialog-content-space:0px}"}}]);