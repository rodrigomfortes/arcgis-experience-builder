/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-member--e62100.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-member--e62100"],{16405:(t,r,e)=>{e.d(r,{g:()=>i});var o=e(64099);async function i(t){const r=await(0,o.g)(t,"arcgis-member-browser");return r&&r.length?r[0]:null}},23966:(t,r,e)=>{e.d(r,{a:()=>n,g:()=>a,o:()=>s});var o=e(37762),i=e(74174);function a(t){return(0,i.g)(t,"arcgis-member-browser")}const n=(t,r)=>{t.onChange("view",(t=>{r(t)}))};(0,o.c)({type:"member-browser",includeExternalUsers:!1});const s=(t,r)=>{t.onChange("sort",(t=>{r(t)}))}},34630:(t,r,e)=>{e.r(r),e.d(r,{arcgis_member_browser_filter_partner_collabs:()=>c});var o=e(87849),i=e(59317),a=e(16405),n=e(23966),s=e(52042),l=e(70875);e(37762),e(64099),e(15332),e(81034),e(931),e(93814),e(74174),e(87744),e(50637),e(66337);const c=class{constructor(t){(0,o.r)(this,t),this.arcgisMemberBrowserFilter=(0,o.c)(this,"arcgisMemberBrowserFilter",7),this.arcgisMemberBrowserCoordinatorsSwitchCange=(0,o.c)(this,"arcgisMemberBrowserCoordinatorsSwitchCange",7),this.loadData=async()=>{await this.loadPartnerCollaborations(),await this.loadCoordinators()},this.loadPartnerCollaborations=async()=>{var t;const{portal:r}=null!==i.c&&void 0!==i.c?i.c:{},e=null===(t=null==r?void 0:r.sourceJSON)||void 0===t?void 0:t.subscriptionInfo;!this.partnerCollaborations&&e&&(0,s.c)(r)&&(this.partnerCollaborations=await(0,l.c)(r),this.partnerCollaborations.sort(((t,r)=>t.to.name>r.to.name?1:t.to.name<r.to.name?-1:0)))},this.loadCoordinators=async()=>{var t;const{portal:r}=null!==i.c&&void 0!==i.c?i.c:{},e=null===(t=null==r?void 0:r.sourceJSON)||void 0===t?void 0:t.subscriptionInfo;!this.coordinators&&e&&(0,s.c)(r)&&(this.coordinators=await(0,l.d)(r),this.store.state.collaborationCoordinators=this.coordinators)},this.handleSwitchChange=t=>{const r=t.target;this.store.state.coordinatorsOnly=r.checked,this.arcgisMemberBrowserCoordinatorsSwitchCange.emit({checked:t.target.checked})},this.partnerOrgId=void 0,this.expanded=void 0,this.partnerCollaborations=void 0,this.coordinators=void 0}async componentWillLoad(){var t;this.store=(0,n.g)(this.el),this.i18n=null===(t=await(0,a.g)(this.el))||void 0===t?void 0:t.filterPartnerCollabs}componentDidLoad(){this.loadData(),(0,i.o)("portal",this.loadData)}getEventDetail(){var t;const{partnerOrgId:r}=this;if(!r)return{id:"partnerOrg",param:"orgid",value:"",label:""};const e=null===(t=this.partnerCollaborations)||void 0===t?void 0:t.find((t=>t.to.orgId===r));return{id:"partnerOrg",param:"orgid",value:e.to.orgId,label:this.i18n.label.replace("${name}",e.to.name)}}async emitEvent(){const t=await this.getEventDetail();this.arcgisMemberBrowserFilter.emit(t)}render(){var t,r,e;const{portal:a}=i.c;return a&&(null===(t=this.partnerCollaborations)||void 0===t?void 0:t.length)&&(0,s.c)(a)&&this.store.state.includeExternalUsers?(0,o.h)("div",null,(null===(r=this.store.state.collaborationCoordinators)||void 0===r?void 0:r.length)>0&&(0,o.h)("div",{class:"switch-label"},(0,o.h)("calcite-label",{for:"coordinators-only-switch"},this.i18n.coordinatorsOnly),(0,o.h)("arcgis-information",{label:this.i18n.coordinatorsInfoLabel,paddedContent:!0,class:"switch-information"},(0,o.h)("p",{class:"info-content"},this.i18n.coordinatorsDescription)),(0,o.h)("calcite-switch",{id:"coordinators-only-switch",checked:this.store.state.coordinatorsOnly,onCalciteSwitchChange:this.handleSwitchChange})),(0,o.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.partnerOrgId,onArcgisBrowserFilterRemove:()=>{this.partnerOrgId=null},filterID:"partnerOrg"},(0,o.h)("div",{class:"tree-wrapper"},(0,o.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:t=>{var r,e;const o=(null===(e=null===(r=t.target.selectedItems)||void 0===r?void 0:r[0])||void 0===e?void 0:e.dataset.partnerOrg)||"";this.partnerOrgId===o?this.partnerOrgId=null:this.partnerOrgId=o,this.emitEvent()}},null===(e=this.partnerCollaborations)||void 0===e?void 0:e.map((t=>(0,o.h)("calcite-tree-item",{key:t.to.orgId,"data-partner-org":t.to.orgId,selected:t.to.orgId===this.partnerOrgId},(0,o.h)("a",null,t.to.name)))))))):null}get el(){return(0,o.a)(this)}};c.style=".switch-label{display:flex;align-items:flex-start;gap:0.25rem;padding-top:1rem;padding-bottom:0.25rem;border-top:1px solid var(--calcite-ui-border-1)}.switch-information{margin-inline-end:0.5rem;--arcgis-information-min-width:calc(var(--arcgis-browser-pane-width) * 0.75)}.tree-wrapper{max-height:14rem;overflow:auto}.info-content{margin-top:0px;margin-bottom:0px;max-width:calc(var(--member-browser-pane-width) - 4rem)}"},52042:(t,r,e)=>{function o(t){var r;const e=null===(r=null==t?void 0:t.sourceJSON)||void 0===r?void 0:r.subscriptionInfo;return e&&["Organizational Plan","Community","In House","ConnectED","ELA","Education Site License","Education","HUP Online Entitlement","Demo and Marketing"].includes(e.type)}e.d(r,{c:()=>o})},74174:(t,r,e)=>{e.d(r,{a:()=>a,b:()=>s,g:()=>c,i:()=>i,o:()=>n});var o=e(15332);const i=t=>"item-browser"===t.state.type,a=(t,r,e)=>{r.onChange("filters",(r=>{r[t]&&r[t].value||e()}))},n=(t,r)=>{t.onChange("preview",(t=>{r()}))},s=(t,r)=>{t.onChange("groupId",(t=>{r()}))},l=new Map;function c(t,r){const e=l.get(t);if(e)return e;const i=(0,o.c)(t,r);return i?(l.set(t,i.store),i.store):null}}}]);