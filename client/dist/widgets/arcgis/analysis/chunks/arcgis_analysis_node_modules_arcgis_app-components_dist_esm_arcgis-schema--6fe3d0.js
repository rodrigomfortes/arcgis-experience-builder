/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-schema--6fe3d0.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-schema--6fe3d0"],{4429:(e,t,i)=>{i.d(t,{a:()=>o,b:()=>h,c:()=>c,d:()=>d,e:()=>n,f:()=>a,g:()=>g,i:()=>u,m:()=>r,t:()=>s,u:()=>l});const a=(e,t)=>{let i,a="idle";const n=(...n)=>new Promise((c=>{switch(a){case"flushed":a="idle",i?(clearTimeout(i),c(e(...n))):c(null);break;case"invoked":clearTimeout(i),a="idle",c(e(...n));break;case"cancelled":clearTimeout(i),a="idle",c(null);break;default:i&&clearTimeout(i),a="pending",i=setTimeout((()=>(a="idle",c(e(...n)))),t)}}));return n.flush=function(...e){return a="flushed",n(...e)},n.invoke=function(...e){return a="invoked",n(...e)},n.cancel=function(...e){return a="cancelled",n(...e)},n.getStatus=function(){return a},n};function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(e){return null!=e}async function r(e,t){return await Promise.all([e,s(t)]),e}function s(e){return new Promise((t=>setTimeout(t,e)))}const o=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:a}=t(e);return[i,a]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function l(e,t){const i=[],a={};return e.forEach((e=>{const n=t(e);null==a[n]&&(a[n]=e,i.push(e))})),i}function h(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let a=typeof e;return a in t?!t[a].hasOwnProperty(e)&&(t[a][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const g=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,a)=>e.slice(t*a,t+t*a))),u=(e,t)=>e.includes(t)},45675:(e,t,i)=>{i.r(t),i.d(t,{arcgis_schema_editor_category_row:()=>s});var a=i(87849),n=i(4429),c=i(46227),r=i(56274);const s=class{constructor(e){(0,a.r)(this,e),this.arcgisSchemaEditorRowInternalDragHandleInteract=(0,a.c)(this,"arcgisSchemaEditorRowInternalDragHandleInteract",7),this.arcgisSchemaEditorInternalDeleteClick=(0,a.c)(this,"arcgisSchemaEditorInternalDeleteClick",7),this.arcgisSchemaEditorInternalExpandClick=(0,a.c)(this,"arcgisSchemaEditorInternalExpandClick",7),this.arcgisSchemaEditorInternalCancelClick=(0,a.c)(this,"arcgisSchemaEditorInternalCancelClick",7),this.arcgisSchemaEditorRowUserDefaultsWarningClick=(0,a.c)(this,"arcgisSchemaEditorRowUserDefaultsWarningClick",7),this.onCancelEdit=()=>{const{arcgisSchemaEditorInternalCancelClick:e,isNewCategory:t}=this;t||(this.isEditing=!1),this.editedCategoryTitle=this.category.title,e.emit()},this.onSaveEdit=async()=>{const{category:e,editInputRef:t,editedCategoryTitle:i,saveNewTitle:a,setInvalid:n,isNewCategory:c}=this;if(!i)return n(),!1;if(i===e.title&&!c)return this.isEditing=!1,!0;t.status="idle";try{return await a({newTitle:i.trim(),path:e.path,categoryCount:e.count})?(c||(this.isEditing=!1),!0):(n(),!1)}catch(e){return c||(this.isEditing=!1),console.error(e),!1}},this.setInvalid=()=>{const{editInputRef:e}=this;e.status="invalid",e.setFocus()},this.category=void 0,this.i18n=void 0,this.isNewCategory=!1,this.canEditCategory=void 0,this.canDeleteCategory=void 0,this.isCollapsible=void 0,this.isCollapsed=void 0,this.saveNewTitle=void 0,this.getDisabledWarning=void 0,this.isEditing=this.isNewCategory,this.editedCategoryTitle=this.category.title,this.isInteracting=!1}async reset(){const{isNewCategory:e,category:t,canEditReason:i}=this;e&&!0===i&&(this.editedCategoryTitle=t.title,this.editInputRef.status="idle",this.isEditing=!1,await(0,n.t)(50),this.isEditing=!0,this.editInputRef.setFocus())}async setFocus(){this.editInputRef.setFocus()}componentWillLoad(){var e,t;this.canEditReason=null===(t=null===(e=this.canEditCategory)||void 0===e?void 0:e.call(this,this.category))||void 0===t||t;const i=(0,c.g)();this.expandCollapseButtonId=`expand-collapse-button-${i}`,this.deleteButtonId=`delete-button-${i}`,this.cantEditIconId=`cant-edit-icon-${i}`}render(){const{category:e,isCollapsed:t,isEditing:i,isCollapsible:n,canDeleteCategory:c,canEditReason:s,i18n:o,editedCategoryTitle:d,onCancelEdit:l,onSaveEdit:h,arcgisSchemaEditorInternalExpandClick:g,isNewCategory:u,getDisabledWarning:p}=this,m=e.count,y=i?d:`${d} ${m?`(${m})`:""}`,f=!0===s,b=f&&!i&&!u&&c,E=null==p?void 0:p(e.path),C=Boolean(E);return(0,a.h)(a.H,{key:"2b5269aeeef9e3c315f0c35717c34686837cf411"},(0,a.h)("div",{key:"e9be3c2b558e2d444b58053d09a9cc155071d856",class:"arcgis-schema-editor-category-row"},!u&&!i&&(0,a.h)("calcite-button",{key:"afee17589972a1cf2123e8707559929f35ea7909",appearance:"transparent",kind:"neutral",iconStart:"drag",disabled:C,class:C?"":r.A,onFocus:()=>this.isInteracting=!0,onBlur:()=>this.isInteracting=!1,onKeyDown:t=>{this.isInteracting&&this.arcgisSchemaEditorRowInternalDragHandleInteract.emit({category:e,event:t})}}),n&&(0,a.h)(a.F,{key:"1fe56de0ec9aba6715d85aae383c9f38b6e5cd7e"},(0,a.h)("calcite-button",{key:"dd30851d5589f5b33b9820cc20a6a9bd9978dc0e",appearance:"transparent",kind:"neutral",onClick:()=>g.emit({isCollapsed:!t}),iconStart:t||i?"chevron-up":"chevron-down",class:"cta",id:this.expandCollapseButtonId}),(0,a.h)("calcite-tooltip",{key:"d13ad85929c56ede79ec842e89ddaa381509e73e",referenceElement:this.expandCollapseButtonId},(0,a.h)("div",{key:"e4c0199e0e291356b34e29e9b3e10d9e8cf2fcd0",class:"btn-popover"},t?o.categoryItem.expand:o.categoryItem.collapse))),f?(0,a.h)("calcite-inline-editable",{class:"arcgis-schema-editor-category-row__inline-input",controls:!0,editingEnabled:i,disabled:C,afterConfirm:async()=>{if(!1===await h())throw new Error},onCalciteInlineEditableEditCancel:e=>{e.stopPropagation(),l()},onCalciteInternalInlineEditableEnableEditingChange:()=>this.isEditing=!0},(0,a.h)("calcite-input",{value:y,onCalciteInputInput:e=>this.editedCategoryTitle=e.currentTarget.value,required:!0,ref:e=>this.editInputRef=e,label:o.categoryItem.editCategory,onKeyDown:e=>{switch(e.key){case"Escape":l();break;case"Enter":h()}}})):(0,a.h)(a.F,null,(0,a.h)("div",{class:"arcgis-schema-editor-category-row__inline-input"},y),(0,a.h)("calcite-action",{class:"arcgis-schema-editor-category-row__cant-edit-reason",icon:"exclamation-mark-triangle-f",appearance:"transparent",label:s,id:this.cantEditIconId,text:"",textEnabled:!1}),(0,a.h)("calcite-tooltip",{referenceElement:this.cantEditIconId},(0,a.h)("div",{class:"btn-popover"},s))),b&&(0,a.h)(a.F,{key:"ea769e868aa4b01abc92b0c49277cc95ee1c864b"},(0,a.h)("calcite-button",{key:"f722e39d32d8f0b68bbd6d889a9cbbb22e3fbd09",appearance:"transparent",kind:"danger",disabled:C,onClick:()=>this.arcgisSchemaEditorInternalDeleteClick.emit({path:e.path,categoryCount:m}),iconStart:"trash",class:"cta",id:this.deleteButtonId}),(0,a.h)("calcite-tooltip",{key:"d18658e10e46c5566a4213044286ac53a540efe9",referenceElement:this.deleteButtonId},(0,a.h)("div",{key:"59a3b7c2948f5d4acc5819ab785ea05e0d9471f3",class:"btn-popover"},o.categoryItem.deleteCategory))),C&&(0,a.h)(a.F,{key:"7c858854ca4c51ecf1afd5755091ca4177e1def8"},(0,a.h)("calcite-action",{key:"e4ef42384bada73134103b8e98b8e895dbdda9f3",class:"arcgis-schema-editor-category-row__cant-edit-reason",icon:"exclamation-mark-triangle-f",appearance:"transparent",id:this.cantEditIconId,text:E,onClick:()=>{this.arcgisSchemaEditorRowUserDefaultsWarningClick.emit()}}),(0,a.h)("calcite-tooltip",{key:"b8ae817934433dd45d1c164e6c9f0bdecbceab80",referenceElement:this.cantEditIconId},(0,a.h)("div",{key:"6e57c8aa58d0c86395a4c7c203394c0e2e0144fd",class:"btn-popover"},E)))))}get el(){return(0,a.a)(this)}};s.style=".arcgis-schema-editor-category-row{display:flex;align-items:center;background-color:var(--calcite-color-foreground-1);height:2.5rem}.arcgis-schema-editor-category-row--editing{padding-left:0.5rem;padding-right:0.5rem}.arcgis-schema-editor-category-row__inline-input{font-size:0.875rem;width:100%}.arcgis-schema-editor-category-row__cta{display:flex;align-items:center;justify-content:center;height:100%;width:2.5rem}.arcgis-schema-editor-category-row__drag-handle{height:100%}.arcgis-schema-editor-category-row__btn-popover{white-space:nowrap;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem}.arcgis-schema-editor-category-row__cant-edit-reason{--calcite-ui-icon-color:var(--calcite-color-status-warning)}.arcgis-schema-editor-category-row--dragging{opacity:0.25}"},46227:(e,t,i)=>{i.d(t,{g:()=>a});const a=()=>[2,1,1,1,3].map((e=>{let t="";for(let i=0;i<e;i++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},56274:(e,t,i)=>{i.d(t,{A:()=>a,C:()=>n});const a="arcgis-schema-editor-category-row__drag-handle",n="arcgisSchemaEditorReinitializeSortable"}}]);