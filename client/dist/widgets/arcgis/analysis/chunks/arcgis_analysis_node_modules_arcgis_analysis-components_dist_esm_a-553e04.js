"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-553e04"],{17202:(e,a,t)=>{t.r(a),t.d(a,{analysis_label:()=>i.A});var i=t(63505);t(28445),t(34074),t(44345),t(55448),t(18423),t(91813),t(21255),t(588),t(54312),t(34031),t(9316),t(13661),t(43786),t(61320),t(64016),t(56451),t(6550),t(2924),t(5258),t(52373),t(33752),t(53976),t(49403),t(77462),t(23054),t(73645),t(12762),t(82567),t(28927),t(35970),t(5933),t(57295),t(72349),t(89962),t(97703),t(71802),t(32513),t(43284),t(35385),t(69402)},35385:(e,a,t)=>{t.d(a,{L:()=>r,S:()=>s,a:()=>n,b:()=>g,c:()=>A,d:()=>w,e:()=>S,f:()=>h,g:()=>f,h:()=>I,i:()=>M,j:()=>v,k:()=>_,l:()=>T,m:()=>b,r:()=>m,v:()=>F});var i=t(34074);const r={Feature_All:"feature",Feature_Extract:"extract",Feature_Point:"feature_point",Feature_MultiPoint:"feature_multiPoint",Feature_Line:"feature_line",Feature_Polygon:"feature_polygon",Feature_Table:"table",Imagery_All:"imagery",Imagery_SingleBand:"imagery_singleBand",Imagery_MultiBand:"imagery_multiBand",Imagery_Integer:"imagery_integer",Imagery_Float:"imagery_float",Imagery_Multidimension:"imagery_multidimension",Imagery_Trend:"imagery_trend",Imagery_Change:"imagery_change"},s={Any:"any",Count:"count",First:"first",Last:"last",Maximum:"max",Mean:"mean",Minimum:"min",StdDev:"stddev",Sum:"sum"},n={Select:"select",Filter:"filter",Reset:"reset",Remove:"remove"},l="invalidIntegerMessage",o="invalidDoubleMessage",c="requiredInputMessage",u="belowMinimumMessage",d="aboveMaximumMessage",y="strictlyMinimumMessage",p="strictlyMaximumMessage";function m(e){void 0!==e&&(e.open=!1,e.remove())}function g(e,a){!1===e.body.contains(a)&&(e.body.appendChild(a),a.open=!0)}function h(e){const{layers:a,layerFilterTypes:t}=e,s=[],n=[];if(void 0!==t){if((Array.isArray(t)?t:[t]).includes(r.Feature_Table))return{validLayers:a,filteredLayers:n};a.forEach((e=>{(0,i.i)(e)?n.push(e):s.push(e)}))}else s.push(...a);return{validLayers:s,filteredLayers:n}}const _=(e,a)=>{const{required:t,isFloatType:r,excludeMinValue:s,excludeMaxValue:n,min:m,max:g}=a;let h;return(0,i.I)(e)?!1!==r||Number.isInteger(e)?null!=m&&(e<m||!0===s&&e<=m)?h=!0===s?y:u:null!=g&&(e>g||!0===n&&e>=g)&&(h=!0===n?p:d):h=l:(0,i.m)(e)?h=!0===r?o:l:!0===t&&(h=c),h};function b(e,a){const t=e.map((e=>`type:"${e}"`)).join(" OR ");return void 0!==a?`${a} (${t})`:`(${t})`}function f(e){const a=Array.isArray(e)?e:[e],t=new Set;return a.forEach((e=>{switch(e){case r.Feature_Extract:case r.Feature_All:case r.Feature_Point:case r.Feature_MultiPoint:case r.Feature_Line:case r.Feature_Polygon:case r.Feature_Table:t.add("Feature Service"),t.add("Map Service");break;case r.Imagery_All:case r.Imagery_SingleBand:case r.Imagery_MultiBand:case r.Imagery_Integer:case r.Imagery_Float:case r.Imagery_Multidimension:case r.Imagery_Trend:case r.Imagery_Change:t.add("Image Service");break;default:t.add("Feature Service"),t.add("Image Service"),t.add("Map Service")}})),b(Array.from(t))}function v(e){const a=Array.isArray(e)?e:[e],t=new Set;let i=!1;return a.forEach((e=>{switch(e){case r.Feature_All:t.add("point"),t.add("multipoint"),t.add("polyline"),t.add("polygon");break;case r.Feature_Point:t.add("point");break;case r.Feature_MultiPoint:t.add("multipoint");break;case r.Feature_Line:t.add("polyline");break;case r.Feature_Polygon:t.add("polygon");break;case r.Feature_Table:t.add("nonspatial");break;case r.Feature_Extract:t.add("point"),t.add("multipoint"),t.add("polyline"),t.add("polygon"),t.add("nonspatial");break;case r.Imagery_All:case r.Imagery_SingleBand:case r.Imagery_MultiBand:case r.Imagery_Integer:case r.Imagery_Float:case r.Imagery_Multidimension:case r.Imagery_Trend:case r.Imagery_Change:i=!0}})),0===t.size||i?void 0:Array.from(t)}function F(e){return"3d"===e?.type}function I(e,a,t){const i=Array.isArray(a)?a:[a],s=void 0===t?'(-typekeywords: "Hosted Service" AND type: "Image Service") OR (servicetags: "allowAnalysis"':`(-typekeywords: "Hosted Service" AND type: "Image Service") OR ((servicetags: "allowAnalysis" OR orgid: ${t}) AND type: "Image Service"`;let n="";const l=[];if(i.forEach((e=>{switch(e){case r.Imagery_SingleBand:l.push("(bandcount: 1)");break;case r.Imagery_MultiBand:l.push("(bandcount: [2 TO 65536])");break;case r.Imagery_Integer:l.push('(NOT (servicetags: "PixelTypeF32" OR servicetags: "PixelTypeF64"))');break;case r.Imagery_Float:l.push('(servicetags: "PixelTypeF32" OR servicetags: "PixelTypeF64")');break;case r.Imagery_Multidimension:l.push('(servicetags: "hasMultidimensions")');break;case r.Imagery_All:case r.Imagery_Trend:case r.Imagery_Change:l.push("i");break;case r.Feature_All:case r.Feature_Point:case r.Feature_MultiPoint:case r.Feature_Line:case r.Feature_Polygon:case r.Feature_Table:case r.Feature_Extract:l.push("f")}})),l.length>0&&!l.every((e=>"f"===e))){const e=l.filter((e=>e.length>1));if(e.length>0){n=`${s} AND (${e.join(" OR ")}))`}else n=`${s})`;n=l.indexOf("f")>-1?`(${n} OR (type: "Feature Service"))`:`(${n})`}return F(e)?`${n} -typekeywords: "Table"`:n}function T(e){return`${e.url}/${e.layerId}`}const x={esriGeometryPoint:r.Feature_Point,esriGeometryPolyline:r.Feature_Line,esriGeometryPolygon:r.Feature_Polygon,esriGeometryMultipoint:r.Feature_MultiPoint};function k(e){switch(e){case"esriFieldTypeSingle":return"single";case"esriFieldTypeDouble":return"double";case"esriFieldTypeGeometry":return"geometry";case"esriFieldTypeInteger":return["long","integer","big-integer"];case"esriFieldTypeSmallInteger":return"small-integer";case"esriFieldTypeString":return"string";case"esriFieldTypeDate":return"date";default:return}}function A(e){const a={};switch(e?.type){case"range":a.min=e.minimum,a.max=e.maximum;break;case"featureClass":void 0!==e.list&&(a.layerFilterType=e.list.map((e=>x[e])).filter((e=>void 0!==e)));break;case"field":void 0!==e.list&&(a.fieldTypes=e.list.flatMap(k).filter((e=>void 0!==e)));break;case"file":a.accept=e.list?.filter((e=>void 0!==e))}return a}function M(e){return new RegExp(/^(http|https|ftp):\/\//i).test(e)}function w(e,a){if(void 0===a||0===a.length)return!0;const t=e.split(".").pop();return void 0!==t&&a.includes(t)}function S(e){return null==e?e:(Array.isArray(e)||(e=[e]),e.includes(r.Feature_Table)?e.filter((e=>e!==r.Feature_Table)):e.includes(r.Feature_All)?(e.push(r.Feature_Polygon,r.Feature_Line,r.Feature_MultiPoint,r.Feature_Point),e.filter((e=>e!==r.Feature_All))):e)}},63505:(e,a,t)=>{t.d(a,{A:()=>l});var i=t(28445),r=t(34074),s=t(35385),n=t(69402);const l=class{constructor(e){(0,i.r)(this,e),this.showVariableActionClick=(0,i.c)(this,"showVariableActionClick",7),this.analysisLabelHelpActionClick=(0,i.c)(this,"analysisLabelHelpActionClick",7),this.required=!1,this.hideHelp=!1,this.readOnly=!1,this.supportsVariables=!1,this.mouseOver=e=>{const a=e.target;void 0===this.requiredTooltip&&(this.requiredTooltip=document.createElement("calcite-tooltip"),this.requiredTooltip.placement="bottom",this.requiredTooltip.innerText="bullet-point"===a.icon?this.strings.requiredLabel:this.strings.addVariable),this.requiredTooltip.referenceElement=a,(0,s.b)(document,this.requiredTooltip)},this.removeTooltip=()=>{(0,s.r)(this.requiredTooltip),this.requiredTooltip=void 0},this.mouseOut=()=>{this.removeTooltip()}}async componentWillLoad(){({strings:this.strings,dir:this.dir}=await(0,r.G)(this.hostElement,(0,i.g)(".")))}disconnectedCallback(){this.removeTooltip()}render(){return(0,i.h)(i.H,{key:"092d92b0679f9bc3b1a3b0cb95f62e35e244ac58"},(0,i.h)("div",{key:"5092852aca74fcc8763fe4c3423ec3716f09912e",class:n.H.labelContainer,dir:this.dir},(0,i.h)("div",{key:"b575062c8a1ff8a22410954b1608922d0858782f",class:n.H.textWrapper},this.label,!0===this.required?(0,i.h)("calcite-icon",{icon:"bullet-point",scale:r.c.Scale,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}):null),(0,i.h)("div",{key:"9657fea0a9e3fdbd312c91ae15afa069e141260d",class:n.H.actionGroup},!0===this.supportsVariables?(0,i.h)("calcite-action",{onMouseOver:e=>!0!==this.readOnly&&this.mouseOver(e),onMouseOut:this.mouseOut,class:n.H.action,text:n.S.showVariableNodes,icon:"variable-plus",scale:r.c.Scale,disabled:this.readOnly,onClick:e=>{this.showVariableActionClick.emit(),e.stopPropagation()}}):null,!0!==this.hideHelp?(0,i.h)("calcite-action",{class:n.H.action,text:n.S.helpActionText,icon:"information",scale:r.c.Scale,onClick:e=>{this.analysisLabelHelpActionClick.emit(),e.stopPropagation()}}):null)))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,i.a)(this)}};l.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}:host{display:flex;width:100%}.label-container{display:flex;width:100%;margin-bottom:var(--analysis-quarter-spacing);gap:var(--analysis-quarter-spacing);justify-content:space-between}.text-wrapper{display:flex;align-items:center;--calcite-ui-icon-color:var(--calcite-color-status-danger);font-size:var(--calcite-font-size--2);word-break:break-word;overflow:hidden}.text-wrapper calcite-action{margin-inline:8px}.action-group{display:flex}.action{margin-top:0.25rem}"},69402:(e,a,t)=>{t.d(a,{H:()=>i,S:()=>r});const i={labelContainer:"label-container",action:"action",actionGroup:"action-group",textWrapper:"text-wrapper"},r={helpActionText:"help",showVariableNodes:"variable nodes"}}}]);