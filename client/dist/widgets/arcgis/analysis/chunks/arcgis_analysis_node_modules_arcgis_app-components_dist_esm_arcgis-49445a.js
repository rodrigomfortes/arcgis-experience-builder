/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-49445a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-49445a"],{931:(e,t,n)=>{n.d(t,{l:()=>i});var r=n(93814);const i=async(e,t)=>(await r.e.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},29369:(e,t,n)=>{function r(){const{hash:e,pathname:t}=window.location;if(t.includes("group.html"))return"group page";if(t.includes("search.html"))return"search result page";switch(e){case"#favorites":return"favorites";case"#groups":return"my groups content";case"#organization":return"my org content";case"#livingAtlas":return"living atlas";default:return"my content"}}n.d(t,{g:()=>r})},36891:(e,t,n)=>{function r({geometry:e,type:t}){switch(t){case"Utility Network Layer":return{icon:"utility-network-layer",type:"utility network",isGeometry:!1};case"Catalog Layer":return{icon:"catalog-dataset",type:"catalog",isGeometry:!1};case"Parcel Layer":return{icon:"parcel-layer",type:"parcel",isGeometry:!1};case"Oriented Imagery Layer":return{icon:"oriented-imagery-layer",type:"oriented imagery",isGeometry:!1};case"Table":return{icon:"table",type:"table",isGeometry:!0}}switch(e){case"point":case"esriGeometryPoint":return{type:"point",icon:"point",isGeometry:!0};case"esriGeometryMultipoint":case"multipoint":return{type:"multipoint",icon:"layer-points",isGeometry:!0};case"line":case"polyline":case"esriGeometryPolyline":return{type:"line",icon:"line",isGeometry:!0};case"polygon":case"esriGeometryPolygon":return{type:"polygon",icon:"polygon",isGeometry:!0};case"multipatch":case"esriGeometryMultiPatch":return{type:"multipatch",icon:"cube",isGeometry:!0};default:return{type:"table",icon:"table",isGeometry:!0}}}n.d(t,{g:()=>r})},37762:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(87849);const i=e=>!("isConnected"in e)||e.isConnected,a=((e,t)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,e(...r)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(i))}),2e3),o=e=>"function"==typeof e?e():e,l=(e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)},s=(e,t)=>{const n=((e,t=(e,t)=>e!==t)=>{const n=o(e);let r=new Map(Object.entries(null!=n?n:{}));const i={dispose:[],get:[],set:[],reset:[]},a=()=>{var t;r=new Map(Object.entries(null!==(t=o(e))&&void 0!==t?t:{})),i.reset.forEach((e=>e()))},s=e=>(i.get.forEach((t=>t(e))),r.get(e)),c=(e,n)=>{const a=r.get(e);t(n,a,e)&&(r.set(e,n),i.set.forEach((t=>t(e,n,a))))},d="undefined"==typeof Proxy?{}:new Proxy(n,{get:(e,t)=>s(t),ownKeys:e=>Array.from(r.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>r.has(t),set:(e,t,n)=>(c(t,n),!0)}),p=(e,t)=>(i[e].push(t),()=>{l(i[e],t)});return{state:d,get:s,set:c,on:p,onChange:(t,n)=>{const r=p("set",((e,r)=>{e===t&&n(r)})),i=p("reset",(()=>n(o(e)[t])));return()=>{r(),i()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(p("set",t.set)),t.get&&e.push(p("get",t.get)),t.reset&&e.push(p("reset",t.reset)),t.dispose&&e.push(p("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{i.dispose.forEach((e=>e())),a()},reset:a,forceUpdate:e=>{const t=r.get(e);i.set.forEach((n=>n(e,t,t)))}}})(e,t);return n.use((()=>{if("function"!=typeof r.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const n=(0,r.g)();n&&((e,t,n)=>{const r=e.get(t);r?r.includes(n)||r.push(n):e.set(t,[n])})(e,t,n)},set:t=>{const n=e.get(t);n&&e.set(t,n.filter(r.f)),a(e)},reset:()=>{e.forEach((e=>e.forEach(r.f))),a(e)}}})()),n}},59317:(e,t,n)=>{n.d(t,{c:()=>i,o:()=>a});const r=(0,n(37762).c)({portal:null,user:null,api:4,scale:"m"}),i=r.state,a=r.onChange},64099:(e,t,n)=>{n.d(t,{a:()=>o,g:()=>c});var r=n(15332),i=n(81034),a=n(87849);function o(e){var t,n,a;const o=null!==(t=(0,r.c)(e,"[lang]"))&&void 0!==t?t:null===(a=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===a?void 0:a.documentElement,l=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return i.l.has(l)?i.l.get(l):i.l.has(l.slice(0,2))?i.l.get(l.slice(0,2)):"en"}const l={};function s(e,t){const n=`${e}${t}`;return l[n]||(l[n]=function(e,t){return new Promise(((n,r)=>{fetch((0,a.d)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then((e=>{e.ok?n(e.json()):r()}),(()=>r()))}))}(e,t)),l[n]}async function c(e,t){const n=t||e.tagName.toLowerCase(),a=o(e),l=function(e){var t,n,a;const o=null!==(t=(0,r.c)(e,"[lang]"))&&void 0!==t?t:null===(a=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===a?void 0:a.documentElement,l=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return i.l.has(l)?i.l.get(l):i.l.has(l.slice(0,2))?l:"en"}(e);let c;try{c=await s(n,a)}catch(e){console.warn(`no locale for ${n} (${a}) loading default locale en.`),c=await s(n,"en")}return[c,a,l]}},79238:(e,t,n)=>{n.d(t,{a:()=>r,e:()=>i,f:()=>a});const r={point:"point",line:"line",polygon:"polygon",multipatch:"cube",table:"table",multipoint:"layer-points"},i={esriGeometryPoint:"point",esriGeometryPolyline:"line",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"cube",esriGeometryMultipoint:"point",none:"table"},a={esriFieldTypeOID:"key",esriFieldTypeBoolean:"boolean",esriFieldTypeString:"string",esriFieldTypeSingle:"number",esriFieldTypeDouble:"number",esriFieldTypeInteger:"integer",esriFieldTypeSmallInteger:"integer",esriFieldTypeGlobalID:"key",esriFieldTypeDate:"date-time",esriFieldTypeBigInteger:"integer",esriFieldTypeDateOnly:"calendar",esriFieldTypeTimeOnly:"clock",esriFieldTypeTimestampOffset:"time-zone",esriFieldTypeGUID:"key"}},81034:(e,t,n)=>{n.d(t,{C:()=>l,a:()=>s,b:()=>d,f:()=>p,g:()=>o,l:()=>a,s:()=>h});var r=n(931),i=n(15332);const a=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function o(e){return function(e,t,n){const r=(0,i.c)(e,`[${t}]`);return r?r.getAttribute(t):n}(e,"dir","ltr")}const l={rtl:"arcgis--rtl"};async function s(e,t){const{api:n,type:i,places:a}=t||{};if(4===n){const[t]=await(0,r.l)(["esri/intl"]),n=t.convertNumberFormatToIntlOptions({places:a,style:i,digitSeparator:!0});return t.formatNumber(e,Object.assign(Object.assign({},n),{style:i}))}const[o]=await(0,r.l)(["dojo/number"]);return o.format(e,{type:i,places:a,pattern:null==t?void 0:t.pattern})}const c={};function d(e,t){let n=document.documentElement.lang;const r="bs"===n;if(r&&(n="hr"),t){const t=`${n}-full`,r={dateStyle:"full",timeStyle:"long"};return c[t]||(c[t]=new Intl.DateTimeFormat(n,r)),c[t].format(e)}const i={year:"numeric",month:r?"numeric":"short",day:"numeric"};return c[n]||(c[n]=new Intl.DateTimeFormat(n,i)),c[n].format(e)}function p(e,t,n,r){const i=null!=e?e:"en";let a=t.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(i))&&(a=t.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(i)&&(a=t.multiple),h(a,Object.assign(Object.assign({},r),{number:n}))}const u=/\$\{([^}]+)\}/g;function h(e,t,n=u){let r=e;try{r=e.replace(n,((e,n)=>function(e,t){const n=e.split(".").reduce(((e,t)=>e[t]),t);return"string"==typeof n||"number"==typeof n?n:e}(n,t).toString()))}catch(e){console.error(e)}return r}},93814:(e,t,n)=>{n.d(t,{c:()=>r,e:()=>i});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i={exports:{}};(function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",r="next";function i(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function a(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function o(e){void 0===e&&(e=n);var t=a(e),o=i(e);if(o!==r&&3===o.major){var l=o.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function l(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function s(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||i(e)?o(e):e}function p(e,t){var n=d(e),r=c(n);return r||s(r=l(n),t),r}var u={};function h(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function g(e,t,n){var r;n&&(r=m(e,n));var i=function(){t(e),e.removeEventListener("load",i,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",i,!1)}function m(e,t){var n=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function y(e){void 0===e&&(e={}),u=e}function f(){return document.querySelector("script[data-esri-loader]")}function v(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var n={};[u,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}));var r=n.version,i=n.url||a(r);return new t.Promise((function(e,t){var a=f();if(a){var o=a.getAttribute("src");o!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):v()?e(a):g(a,e,t)}else if(v())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=n.css;l&&p(!0===l?r:l,n.insertCssBefore),g(a=h(i),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),t),document.body.appendChild(a)}}))}function w(e){return new t.Promise((function(t,n){var r=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.remove(),t(e)}))}))}function x(e,t){if(void 0===t&&(t={}),v())return w(e);var n=f(),r=n&&n.getAttribute("src");return!t.url&&r&&(t.url=r),b(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=x,e.getScript=f,e.isLoaded=v,e.loadScript=b,e.setDefaultOptions=y,e.loadCss=p,Object.defineProperty(e,"__esModule",{value:!0})})(i.exports)},97207:(e,t,n)=>{n.r(t),n.d(t,{arcgis_layers_and_tables_summary:()=>c});var r=n(87849),i=n(59317),a=n(64099),o=n(29369),l=n(79238),s=n(36891);n(37762),n(15332),n(81034),n(931),n(93814);const c=class{constructor(e){(0,r.r)(this,e),this.layersAndTablesFocusEnd=(0,r.c)(this,"layersAndTablesFocusEnd",7),this.expanded={},this.handleTabChage=({detail:e})=>{var t;this.activeTab=e.tab,null===(t=this.telemetry)||void 0===t||t.logEvent({category:"preview popup",action:"switch tab",label:e.tab?"matched":"all",pageName:(0,o.g)(),pageUrl:window.location.href})},this.renderLayer=(e,t)=>{const{i18n:n,telemetry:i}=this,{icon:a,type:l}=(0,s.g)({geometry:e.geometryType,type:e.type});return(0,r.h)("calcite-accordion-item",{heading:e.title,description:n.layerTypes[l],iconStart:a,class:"layer",onClick:n=>{n.currentTarget.expanded&&!this.expanded[e.id]&&(null==i||i.logEvent({category:"preview popup",action:"expand layer",label:t?"matched":"all",pageName:(0,o.g)(),pageUrl:window.location.href}),this.expanded[e.id]=!0)}},this.renderAliases(e,t))},this.user=void 0,this.item=void 0,this.portal=void 0,this.layers=[],this.showMatched=void 0,this.error=void 0,this.loading=void 0,this.telemetry=void 0,this.currentStart=1,this.activeTab=1}async componentWillLoad(){const e=await(0,a.g)(this.el);this.i18n=e[0]}closeAccordion(){this.el.shadowRoot.querySelectorAll(".layer").forEach((e=>{e.expanded=!1}))}checkAlias(e){return![/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i].find((t=>t.test(e)))}renderAliases(e,t){var n;const{config:a,user:s}=i.c,c=a.newMapViewerUrl,d=`${a.baseUrl}webmap/viewer.html`,p=`${a.baseUrl}webscene/viewer.html`,u="classic"===(null==s?void 0:s.defaultMapViewer),{i18n:h,loading:g,checkAlias:m,telemetry:y}=this,{id:f}=this.item,v=null===(n=e.fields)||void 0===n?void 0:n.filter((e=>m(e.alias||e.name)));return g?(0,r.h)("calcite-loader",{scale:"s",label:h.loading}):(0,r.h)("div",{class:"field-aliases"},(0,r.h)("div",{class:"field-aliases-header"},(0,r.h)("h5",{class:"field-aliases-title"},h.fields),"Feature Service"===this.item.type&&(0,r.h)("calcite-dropdown",{placement:"bottom-end",widthScale:"m",type:"click",class:"field-aliases-dropdown",onCalciteDropdownOpen:()=>{null==y||y.logEvent({category:"preview popup",action:"open actions",label:t?"matched":"all",pageName:(0,o.g)(),pageUrl:window.location.href})}},(0,r.h)("calcite-action",{slot:"trigger",scale:"s",label:"layer actions",appearance:"transparent",icon:"ellipsis",text:""}),(0,r.h)("calcite-dropdown-group",{selectionMode:"single"},(0,r.h)("calcite-dropdown-item",{href:`${a.baseUrl}item.html?id=${f}&sublayer=${e.id}`,target:"_blank"},h.viewDetails),(0,r.h)("calcite-dropdown-item",{href:`${c}?layers=${f}&layerId=${e.id}`,target:"_blank"},h.openInMapViewer),u&&(0,r.h)(r.F,null,(0,r.h)("calcite-dropdown-item",{href:`${d}?useExisting=1&layers=${f}&layerId=${e.id}`,target:"_blank"},h.openInMapViewerClassic),(0,r.h)("calcite-dropdown-item",{href:`${d}?layers=${f}&layerId=${e.id}`,target:"_blank"},h.addToNewMap)),(0,r.h)("calcite-dropdown-item",{href:`${p}?layers=${f}&layerId=${e.id}`,target:"_blank"},h.addToSceneViewer)))),(null==v?void 0:v.length)>0?(0,r.h)("ul",{class:"field-aliases-list"},v.map((e=>(0,r.h)("li",{class:"field-alias"},(0,r.h)("calcite-icon",{icon:l.f[e.type]||"string",scale:"s",class:"icon"}),e.alias||e.name)))):(0,r.h)("p",{class:"field-alias"},h.noAliasFound))}renderPageNumberText(){const e=this.currentStart,t=this.layers.length,n=Math.min(e+5,t);return(0,r.h)("span",{class:"page-number"},this.i18n.paginationRange.replace("${start}",`${e}`).replace("${end}",`${n}`).replace("${total}",`${t}`))}render(){var e;const{i18n:t,renderLayer:n,error:i,handleTabChage:a,item:l,activeTab:s}=this,c=this.layers||[],d=(this.layers||[]).filter((e=>e.matched)),p=c.slice(this.currentStart-1,this.currentStart+5),u=this.showMatched&&(null==d?void 0:d.length)>0,h=(null===(e=s&&u?d:c)||void 0===e?void 0:e.length)>6;return i?(0,r.h)(r.H,null,(0,r.h)("div",{class:"layers"},(0,r.h)("calcite-notice",{icon:!0,open:!0,scale:"s",width:"full",kind:"warning",class:"notice"},(0,r.h)("div",{slot:"title"},i.title),(0,r.h)("div",{slot:"message"},i.message)))):(0,r.h)(r.H,null,(0,r.h)("div",{class:"bg"},!c||0===c.length&&(0,r.h)("p",{class:"no-layers"},this.i18n.noLayers),u?(0,r.h)("calcite-tabs",{layout:"center"},(0,r.h)("calcite-tab-nav",{slot:"title-group",onCalciteTabChange:a},(0,r.h)("calcite-tab-title",{selected:0===s},t.all.replace("${number}",`${c.length}`)),(0,r.h)("calcite-tab-title",{selected:1===s},t.matched.replace("${number}",`${d.length}`))),(0,r.h)("calcite-tab",{class:"layers",selected:0===s},(0,r.h)("calcite-accordion",{selectionMode:"single",scale:"m",iconPosition:"end",iconType:"chevron"},p.map((e=>n(e))))),(0,r.h)("calcite-tab",{class:"layers",selected:1===s},(0,r.h)("calcite-accordion",{selectionMode:"single",scale:"m",iconPosition:"end",iconType:"chevron"},d.map((e=>n(e,!0)))))):(0,r.h)("div",{class:"layers"},(0,r.h)("calcite-accordion",{selectionMode:"single",scale:"m",iconPosition:"end",iconType:"chevron"},p.map((e=>n(e))))),(0,r.h)("div",{class:"post"},h&&this.renderPageNumberText(),(0,r.h)("calcite-link",{href:`item.html?id=${l.id}`,class:"details-link",target:"_blank",rel:"noopener noreferrer",onClick:()=>{var e;null===(e=this.telemetry)||void 0===e||e.logEvent({category:"preview popup",action:"view item details",pageName:(0,o.g)(),pageUrl:window.location.href})}},t.viewItemDetails)),h&&(0,r.h)("div",{class:"pagination"},(0,r.h)("calcite-pagination",{scale:"m",totalItems:c.length,pageSize:6,startItem:this.currentStart,onCalcitePaginationChange:e=>{this.currentStart=e.target.startItem,this.closeAccordion()}}))))}get el(){return(0,r.a)(this)}};c.style=":host{max-width:100%;width:380px}.bg{background-color:var(--calcite-color-background)}.layers{white-space:normal;background-color:var(--calcite-color-background);padding-top:0.75rem;padding-bottom:0.75rem;padding-left:0.5rem;padding-right:0.5rem}.field-aliases{padding-top:0.5rem;padding-bottom:0.5rem;padding-inline-start:1.75rem}.field-aliases-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:-8px}.field-aliases-title{margin:0px;flex:1 1 0%;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem;font-size:0.75rem;font-weight:400;color:var(--calcite-color-text-2);text-decoration-line:underline}.field-aliases-list{margin:0px;list-style-type:none;overflow:auto;padding:0px;max-height:200px}.field-alias{margin:0px;display:flex;padding-left:0px;padding-right:0px;padding-top:0.5rem;font-size:0.75rem;font-weight:400;color:var(--calcite-color-text-2)}.icon{padding-inline-end:0.5rem}.post{display:flex;justify-content:flex-end;padding-left:0.5rem;padding-right:0.5rem;padding-bottom:0.75rem;font-size:0.875rem}.page-number{display:inline-block;flex:1 1 0%;color:var(--calcite-color-text-2)}.pagination{display:flex;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);padding-top:0.75rem;padding-bottom:1rem;border-top:1px solid var(--calcite-color-border-1)}.notice{padding-top:1rem;padding-bottom:1rem}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.no-layers{padding:0.75rem 1rem 0 1rem;color:var(--calcite-color-text-2)}"}}]);