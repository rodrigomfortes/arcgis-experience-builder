"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_index_js"],{55367:(e,t,r)=>{r.r(t),r.d(t,{ClientJobIdPrefix:()=>bi,UnCancellableTools:()=>si,ZeroCreditTools:()=>ii,cancelJob:()=>wi,checkServiceName:()=>yi,cloneJobMessages:()=>ji,consumesCredits:()=>ui,creditThresholdCheck:()=>di,execute:()=>mi,getAllToolInfoJsons:()=>Ya,getAnalysisServer:()=>Wa,getCreditsEstimate:()=>li,getOutputServiceNames:()=>hi,getServiceInfoByUrl:()=>Xa,getToolInfoJson:()=>Ka,getToolInfoJsonByUrl:()=>Za,getToolInfoJsonsByEngine:()=>qa,getToolInfoJsonsByUrl:()=>ei,getTravelModes:()=>Qa,getUserToken:()=>Ja,getWebToolInfo:()=>ti,hasEnoughCredits:()=>pi,isOverwriteInOutputName:()=>_i,parseCreditEstimate:()=>fi,signIn:()=>Ba});var n=r(32513),o=r(588),a=r(44345),i=(r(55448),r(18423),r(91813),r(21255),r(54312),r(34031),r(9316),r(13661),r(43786),r(61320),r(64016),r(56451),r(6550)),s=(r(2924),r(5258),r(52373),r(33752)),c=(r(53976),r(49403),r(77462),r(23054),r(73645),r(12762)),u=(r(82567),r(28927)),l=r(35970),f=r(5933),d=r(57295),p=(r(72349),r(89962)),h=(r(97703),r(71802)),_=(r(43284),r(22741));function y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v,b={exports:{}};const g=y(function(){if(v)return b.exports;function e(e,t,r,n){var o=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(n)?n:r(n),a=t.get(o);return typeof a>"u"&&(a=e.call(this,n),t.set(o,a)),a}function t(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),a=t.get(o);return typeof a>"u"&&(a=e.apply(this,n),t.set(o,a)),a}function r(e,t,r,n,o){return r.bind(t,e,n,o)}function n(n,o){return r(n,this,1===n.length?e:t,o.cache.create(),o.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}v=1,a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var i={create:function(){return new a}};return b.exports=function(e,t){var r=t&&t.cache?t.cache:i,a=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:n)(e,{cache:r,serializer:a})},b.exports.strategies={variadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)},monadic:function(t,n){return r(t,this,e,n.cache.create(),n.serializer)}},b.exports}());var m="object"==typeof global&&global&&global.Object===Object&&global,w="object"==typeof self&&self&&self.Object===Object&&self,j=m||w||Function("return this")(),S=j.Symbol,O=Object.prototype,k=O.hasOwnProperty,E=O.toString,T=S?S.toStringTag:void 0;var C=Object.prototype.toString;var x="[object Null]",A="[object Undefined]",I=S?S.toStringTag:void 0;function P(e){return null==e?void 0===e?A:x:I&&I in Object(e)?function(e){var t=k.call(e,T),r=e[T];try{e[T]=void 0;var n=!0}catch{}var o=E.call(e);return n&&(t?e[T]=r:delete e[T]),o}(e):function(e){return C.call(e)}(e)}function N(e){return null!=e&&"object"==typeof e}var z="[object Symbol]";function M(e){return"symbol"==typeof e||N(e)&&P(e)==z}function $(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var U=Array.isArray,D=S?S.prototype:void 0,F=D?D.toString:void 0;function L(e){if("string"==typeof e)return e;if(U(e))return $(e,L)+"";if(M(e))return F?F.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function R(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function B(e){return e}var J="[object AsyncFunction]",G="[object Function]",V="[object GeneratorFunction]",W="[object Proxy]";function H(e){if(!R(e))return!1;var t=P(e);return t==G||t==V||t==J||t==W}var K,q=j["__core-js_shared__"],Y=(K=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"";var Q=Function.prototype.toString;function X(e){if(null!=e){try{return Q.call(e)}catch{}try{return e+""}catch{}}return""}var Z=/^\[object .+?Constructor\]$/,ee=Function.prototype,te=Object.prototype,re=ee.toString,ne=te.hasOwnProperty,oe=RegExp("^"+re.call(ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ae(e){return!(!R(e)||function(e){return!!Y&&Y in e}(e))&&(H(e)?oe:Z).test(X(e))}function ie(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ae(r)?r:void 0}var se=ie(j,"WeakMap");function ce(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ue=Date.now;function le(e){return function(){return e}}var fe=function(){try{var e=ie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),de=fe?function(e,t){return fe(e,"toString",{configurable:!0,enumerable:!1,value:le(t),writable:!0})}:B,pe=function(e){var t=0,r=0;return function(){var n=ue(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(de);function he(e){return e!=e}function _e(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r){for(var n=e.length,o=r+-1;++o<n;)if(t(e[o],o,e))return o;return-1}(e,he,r)}(e,t,0)>-1}var ye=9007199254740991,ve=/^(?:0|[1-9]\d*)$/;function be(e,t){var r=typeof e;return!!(t=t??ye)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function ge(e,t,r){"__proto__"==t&&fe?fe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function me(e,t){return e===t||e!=e&&t!=t}var we=Object.prototype.hasOwnProperty;function je(e,t,r){var n=e[t];(!we.call(e,t)||!me(n,r)||void 0===r&&!(t in e))&&ge(e,t,r)}function Se(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?ge(r,s,c):je(r,s,c)}return r}var Oe=Math.max;function ke(e,t,r){return t=Oe(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=Oe(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),ce(e,this,s)}}function Ee(e,t){return pe(ke(e,t,B),e+"")}var Te=9007199254740991;function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Te}function xe(e){return null!=e&&Ce(e.length)&&!H(e)}function Ae(e){return Ee((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&function(e,t,r){if(!R(r))return!1;var n=typeof t;return!!("number"==n?xe(r)&&be(t,r.length):"string"==n&&t in r)&&me(r[t],e)}(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t}))}var Ie=Object.prototype;function Pe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Ne(e){return N(e)&&"[object Arguments]"==P(e)}var ze=Object.prototype,Me=ze.hasOwnProperty,$e=ze.propertyIsEnumerable,Ue=Ne(function(){return arguments}())?Ne:function(e){return N(e)&&Me.call(e,"callee")&&!$e.call(e,"callee")};var De="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fe=De&&"object"==typeof module&&module&&!module.nodeType&&module,Le=Fe&&Fe.exports===De?j.Buffer:void 0,Re=(Le?Le.isBuffer:void 0)||function(){return!1},Be={};function Je(e){return function(t){return e(t)}}Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Arguments]"]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object DataView]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be["[object Map]"]=Be["[object Number]"]=Be["[object Object]"]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object WeakMap]"]=!1;var Ge="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ve=Ge&&"object"==typeof module&&module&&!module.nodeType&&module,We=Ve&&Ve.exports===Ge&&m.process,He=function(){try{return Ve&&Ve.require&&Ve.require("util").types||We&&We.binding&&We.binding("util")}catch{}}(),Ke=He&&He.isTypedArray,qe=Ke?Je(Ke):function(e){return N(e)&&Ce(e.length)&&!!Be[P(e)]},Ye=Object.prototype.hasOwnProperty;function Qe(e,t){var r=U(e),n=!r&&Ue(e),o=!r&&!n&&Re(e),a=!r&&!n&&!o&&qe(e),i=r||n||o||a,s=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)(t||Ye.call(e,u))&&(!i||!("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,c)))&&s.push(u);return s}function Xe(e,t){return function(r){return e(t(r))}}var Ze=Xe(Object.keys,Object),et=Object.prototype.hasOwnProperty;function tt(e){if(!Pe(e))return Ze(e);var t=[];for(var r in Object(e))et.call(e,r)&&"constructor"!=r&&t.push(r);return t}function rt(e){return xe(e)?Qe(e):tt(e)}var nt=Object.prototype.hasOwnProperty;Ae((function(e,t){if(Pe(t)||xe(t))Se(t,rt(t),e);else for(var r in t)nt.call(t,r)&&je(e,r,t[r])}));var ot=Object.prototype.hasOwnProperty;function at(e){if(!R(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Pe(e),r=[];for(var n in e)"constructor"==n&&(t||!ot.call(e,n))||r.push(n);return r}function it(e){return xe(e)?Qe(e,!0):at(e)}var st=Ae((function(e,t,r,n){Se(t,it(t),e,n)})),ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/;function lt(e,t){if(U(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!M(e))||(ut.test(e)||!ct.test(e)||null!=t&&e in Object(t))}var ft=ie(Object,"create");var dt=Object.prototype.hasOwnProperty;var pt=Object.prototype.hasOwnProperty;function ht(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _t(e,t){for(var r=e.length;r--;)if(me(e[r][0],t))return r;return-1}ht.prototype.clear=function(){this.__data__=ft?ft(null):{},this.size=0},ht.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ht.prototype.get=function(e){var t=this.__data__;if(ft){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return dt.call(t,e)?t[e]:void 0},ht.prototype.has=function(e){var t=this.__data__;return ft?void 0!==t[e]:pt.call(t,e)},ht.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ft&&void 0===t?"__lodash_hash_undefined__":t,this};var yt=Array.prototype.splice;function vt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(e){var t=this.__data__,r=_t(t,e);return!(r<0)&&(r==t.length-1?t.pop():yt.call(t,r,1),--this.size,!0)},vt.prototype.get=function(e){var t=this.__data__,r=_t(t,e);return r<0?void 0:t[r][1]},vt.prototype.has=function(e){return _t(this.__data__,e)>-1},vt.prototype.set=function(e,t){var r=this.__data__,n=_t(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var bt=ie(j,"Map");function gt(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function mt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mt.prototype.clear=function(){this.size=0,this.__data__={hash:new ht,map:new(bt||vt),string:new ht}},mt.prototype.delete=function(e){var t=gt(this,e).delete(e);return this.size-=t?1:0,t},mt.prototype.get=function(e){return gt(this,e).get(e)},mt.prototype.has=function(e){return gt(this,e).has(e)},mt.prototype.set=function(e,t){var r=gt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function wt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(wt.Cache||mt),r}wt.Cache=mt;var jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/\\(\\)?/g,Ot=function(e){var t=wt(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jt,(function(e,r,n,o){t.push(n?o.replace(St,"$1"):r||e)})),t}));function kt(e){return null==e?"":L(e)}function Et(e,t){return U(e)?e:lt(e,t)?[e]:Ot(kt(e))}function Tt(e){if("string"==typeof e||M(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ct(e,t){for(var r=0,n=(t=Et(t,e)).length;null!=e&&r<n;)e=e[Tt(t[r++])];return r&&r==n?e:void 0}function xt(e,t,r){var n=null==e?void 0:Ct(e,t);return void 0===n?r:n}function At(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var It=S?S.isConcatSpreadable:void 0;function Pt(e){return U(e)||Ue(e)||!!(It&&e&&e[It])}function Nt(e,t,r,n,o){var a=-1,i=e.length;for(r||(r=Pt),o||(o=[]);++a<i;){var s=e[a];r(s)?At(o,s):n||(o[o.length]=s)}return o}function zt(e){return(null==e?0:e.length)?Nt(e):[]}function Mt(e){return pe(ke(e,void 0,zt),e+"")}var $t=Xe(Object.getPrototypeOf,Object),Ut="[object Object]",Dt=Function.prototype,Ft=Object.prototype,Lt=Dt.toString,Rt=Ft.hasOwnProperty,Bt=Lt.call(Object);function Jt(e){if(!N(e)||P(e)!=Ut)return!1;var t=$t(e);if(null===t)return!0;var r=Rt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Lt.call(r)==Bt}var Gt="[object DOMException]",Vt="[object Error]";function Wt(e){if(!N(e))return!1;var t=P(e);return t==Vt||t==Gt||"string"==typeof e.message&&"string"==typeof e.name&&!Jt(e)}var Ht=Ee((function(e,t){try{return ce(e,void 0,t)}catch(e){return Wt(e)?e:new Error(e)}}));function Kt(e){var t=this.__data__=new vt(e);this.size=t.size}Kt.prototype.clear=function(){this.__data__=new vt,this.size=0},Kt.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Kt.prototype.get=function(e){return this.__data__.get(e)},Kt.prototype.has=function(e){return this.__data__.has(e)},Kt.prototype.set=function(e,t){var r=this.__data__;if(r instanceof vt){var n=r.__data__;if(!bt||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new mt(n)}return r.set(e,t),this.size=r.size,this};var qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Yt=qt&&"object"==typeof module&&module&&!module.nodeType&&module,Qt=Yt&&Yt.exports===qt?j.Buffer:void 0;function Xt(){return[]}Qt&&Qt.allocUnsafe;var Zt=Object.prototype.propertyIsEnumerable,er=Object.getOwnPropertySymbols,tr=er?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}(er(e),(function(t){return Zt.call(e,t)})))}:Xt,rr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)At(t,tr(e)),e=$t(e);return t}:Xt;function nr(e,t,r){var n=t(e);return U(e)?n:At(n,r(e))}function or(e){return nr(e,rt,tr)}function ar(e){return nr(e,it,rr)}var ir=ie(j,"DataView"),sr=ie(j,"Promise"),cr=ie(j,"Set"),ur="[object Map]",lr="[object Promise]",fr="[object Set]",dr="[object WeakMap]",pr="[object DataView]",hr=X(ir),_r=X(bt),yr=X(sr),vr=X(cr),br=X(se),gr=P;(ir&&gr(new ir(new ArrayBuffer(1)))!=pr||bt&&gr(new bt)!=ur||sr&&gr(sr.resolve())!=lr||cr&&gr(new cr)!=fr||se&&gr(new se)!=dr)&&(gr=function(e){var t=P(e),r="[object Object]"==t?e.constructor:void 0,n=r?X(r):"";if(n)switch(n){case hr:return pr;case _r:return ur;case yr:return lr;case vr:return fr;case br:return dr}return t});var mr=Object.prototype.hasOwnProperty;var wr=j.Uint8Array;function jr(e){var t=new e.constructor(e.byteLength);return new wr(t).set(new wr(e)),t}var Sr=/\w*$/;var Or=S?S.prototype:void 0,kr=Or?Or.valueOf:void 0;function Er(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return jr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e){var t=jr(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}(e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e){var t=jr(e.buffer);return new e.constructor(t,e.byteOffset,e.length)}(e);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,Sr.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return kr?Object(kr.call(e)):{}}(e)}}var Tr=He&&He.isMap,Cr=Tr?Je(Tr):function(e){return N(e)&&"[object Map]"==gr(e)};var xr=He&&He.isSet,Ar=xr?Je(xr):function(e){return N(e)&&"[object Set]"==gr(e)},Ir="[object Arguments]",Pr="[object Function]",Nr="[object Object]",zr={};function Mr(e,t,r,n,o,a){var i;if(r&&(i=o?r(e,n,o,a):r(e)),void 0!==i)return i;if(!R(e))return e;var s=U(e);if(s)i=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&mr.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e);else{var c=gr(e),u=c==Pr||"[object GeneratorFunction]"==c;if(Re(e))return function(e){return e.slice()}(e);if(c==Nr||c==Ir||u&&!o)i={};else{if(!zr[c])return o?e:{};i=Er(e,c)}}a||(a=new Kt);var l=a.get(e);if(l)return l;a.set(e,i),Ar(e)?e.forEach((function(n){i.add(Mr(n,t,r,n,e,a))})):Cr(e)&&e.forEach((function(n,o){i.set(o,Mr(n,t,r,o,e,a))}));var f=s?void 0:ar(e);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););}(f||e,(function(n,o){f&&(n=e[o=n]),je(i,o,Mr(n,t,r,o,e,a))})),i}zr[Ir]=zr["[object Array]"]=zr["[object ArrayBuffer]"]=zr["[object DataView]"]=zr["[object Boolean]"]=zr["[object Date]"]=zr["[object Float32Array]"]=zr["[object Float64Array]"]=zr["[object Int8Array]"]=zr["[object Int16Array]"]=zr["[object Int32Array]"]=zr["[object Map]"]=zr["[object Number]"]=zr[Nr]=zr["[object RegExp]"]=zr["[object Set]"]=zr["[object String]"]=zr["[object Symbol]"]=zr["[object Uint8Array]"]=zr["[object Uint8ClampedArray]"]=zr["[object Uint16Array]"]=zr["[object Uint32Array]"]=!0,zr["[object Error]"]=zr[Pr]=zr["[object WeakMap]"]=!1;function $r(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new mt;++t<r;)this.add(e[t])}function Ur(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Dr(e,t){return e.has(t)}$r.prototype.add=$r.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},$r.prototype.has=function(e){return this.__data__.has(e)};function Fr(e,t,r,n,o,a){var i=1&r,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var u=a.get(e),l=a.get(t);if(u&&l)return u==t&&l==e;var f=-1,d=!0,p=2&r?new $r:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var h=e[f],_=t[f];if(n)var y=i?n(_,h,f,t,e,a):n(h,_,f,e,t,a);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!Ur(t,(function(e,t){if(!Dr(p,t)&&(h===e||o(h,e,r,n,a)))return p.push(t)}))){d=!1;break}}else if(h!==_&&!o(h,_,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Rr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var Br=S?S.prototype:void 0,Jr=Br?Br.valueOf:void 0;var Gr=Object.prototype.hasOwnProperty;var Vr="[object Arguments]",Wr="[object Array]",Hr="[object Object]",Kr=Object.prototype.hasOwnProperty;function qr(e,t,r,n,o,a){var i=U(e),s=U(t),c=i?Wr:gr(e),u=s?Wr:gr(t),l=(c=c==Vr?Hr:c)==Hr,f=(u=u==Vr?Hr:u)==Hr,d=c==u;if(d&&Re(e)){if(!Re(t))return!1;i=!0,l=!1}if(d&&!l)return a||(a=new Kt),i||qe(e)?Fr(e,t,r,n,o,a):function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new wr(e),new wr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Lr;case"[object Set]":var c=1&n;if(s||(s=Rr),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=2,i.set(e,t);var l=Fr(s(e),s(t),n,o,a,i);return i.delete(e),l;case"[object Symbol]":if(Jr)return Jr.call(e)==Jr.call(t)}return!1}(e,t,c,r,n,o,a);if(!(1&r)){var p=l&&Kr.call(e,"__wrapped__"),h=f&&Kr.call(t,"__wrapped__");if(p||h){var _=p?e.value():e,y=h?t.value():t;return a||(a=new Kt),o(_,y,r,n,a)}}return!!d&&(a||(a=new Kt),function(e,t,r,n,o,a){var i=1&r,s=or(e),c=s.length;if(c!=or(t).length&&!i)return!1;for(var u=c;u--;){var l=s[u];if(!(i?l in t:Gr.call(t,l)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=i;++u<c;){var _=e[l=s[u]],y=t[l];if(n)var v=i?n(y,_,l,t,e,a):n(_,y,l,e,t,a);if(!(void 0===v?_===y||o(_,y,r,n,a):v)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var b=e.constructor,g=t.constructor;b!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,n,o,a))}function Yr(e,t,r,n,o){return e===t||(null==e||null==t||!N(e)&&!N(t)?e!=e&&t!=t:qr(e,t,r,n,Yr,o))}function Qr(e){return e==e&&!R(e)}function Xr(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function Zr(e){var t=function(e){for(var t=rt(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Qr(o)]}return t}(e);return 1==t.length&&t[0][2]?Xr(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var o=r.length,a=o;if(null==e)return!a;for(e=Object(e);o--;){var i=r[o];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<a;){var s=(i=r[o])[0],c=e[s],u=i[1];if(i[2]){if(void 0===c&&!(s in e))return!1}else if(!Yr(u,c,3,n,new Kt))return!1}return!0}(r,0,t)}}function en(e,t){return null!=e&&t in Object(e)}function tn(e,t){return null!=e&&function(e,t,r){for(var n=-1,o=(t=Et(t,e)).length,a=!1;++n<o;){var i=Tt(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&Ce(o)&&be(i,o)&&(U(e)||Ue(e))}(e,t,en)}function rn(e){return lt(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Tt(e)):function(e){return function(t){return Ct(t,e)}}(e)}function nn(e){return"function"==typeof e?e:null==e?B:"object"==typeof e?U(e)?function(e,t){return lt(e)&&Qr(t)?Xr(Tt(e),t):function(r){var n=xt(r,e);return void 0===n&&n===t?tn(r,e):Yr(t,n,3)}}(e[0],e[1]):Zr(e):rn(e)}function on(e){return N(e)&&xe(e)}function an(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var sn=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),cn=/[&<>"']/g,un=RegExp(cn.source);var ln=Math.min;function fn(e){return on(e)?e:[]}function dn(e,t){return t.length<2?e:Ct(e,function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}(t,0,-1))}Ee((function(e){var t=an(e),r=$(e,fn);return t===an(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?function(e,t){for(var r=_e,n=e[0].length,o=e.length,a=o,i=Array(o),s=1/0,c=[];a--;){var u=e[a];a&&t&&(u=$(u,Je(t))),s=ln(u.length,s),i[a]=t||n>=120&&u.length>=120?new $r(a&&u):void 0}u=e[0];var l=-1,f=i[0];e:for(;++l<n&&c.length<s;){var d=u[l],p=t?t(d):d;if(d=0!==d?d:0,!(f?Dr(f,p):r(c,p))){for(a=o;--a;){var h=i[a];if(!(h?Dr(h,p):r(e[a],p)))continue e}f&&f.push(p),c.push(d)}}return c}(r,nn(t)):[]}));var pn="[object Map]",hn="[object Set]",_n=Object.prototype.hasOwnProperty;function yn(e,t){return null==(e=dn(e,t=Et(t,e)))||delete e[Tt(an(t))]}function vn(e){return Jt(e)?void 0:e}var bn=Mt((function(e,t){var r={};if(null==e)return r;var n=!1;t=$(t,(function(t){return t=Et(t,e),n||(n=t.length>1),t})),Se(e,ar(e),r),n&&(r=Mr(r,7,vn));for(var o=t.length;o--;)yn(r,t[o]);return r}));function gn(e,t,r,n){if(!R(e))return e;for(var o=-1,a=(t=Et(t,e)).length,i=a-1,s=e;null!=s&&++o<a;){var c=Tt(t[o]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=i){var l=s[c];void 0===(u=void 0)&&(u=R(l)?l:be(t[o+1])?[]:{})}je(s,c,u),s=s[c]}return e}function mn(e,t){return function(e,t,r){for(var n=-1,o=t.length,a={};++n<o;){var i=t[n],s=Ct(e,i);r(s,i)&&gn(a,Et(i,e),s)}return a}(e,t,(function(t,r){return tn(e,r)}))}Mt((function(e,t){return null==e?{}:mn(e,t)}));var wn=Math.floor,jn=Math.min;function Sn(e,t,r){return function(e,t,r){var n=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,i=null===t,s=M(t),c=void 0===t;n<o;){var u=wn((n+o)/2),l=r(e[u]),f=void 0!==l,d=null===l,p=l==l,h=M(l);if(a)var _=p;else _=c?p&&f:i?p&&f&&!d:s?p&&f&&!d&&!h:!d&&!h&&l<t;_?n=u+1:o=u}return jn(o,4294967294)}(e,t,nn(r))}var On=Object.prototype,kn=On.hasOwnProperty;function En(e,t,r,n){return void 0===e||me(e,On[r])&&!kn.call(n,r)?t:e}var Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Cn(e){return"\\"+Tn[e]}var xn=/<%=([\s\S]+?)%>/g,An={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:xn,variable:"",imports:{_:{escape:function(e){return(e=kt(e))&&un.test(e)?e.replace(cn,sn):e}}}},In="Invalid `variable` option passed into `_.template`",Pn=/\b__p \+= '';/g,Nn=/\b(__p \+=) '' \+/g,zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mn=/[()=,{}\[\]\/\s]/,$n=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Un=/($^)/,Dn=/['\n\r\u2028\u2029\\]/g,Fn=Object.prototype.hasOwnProperty;function Ln(e,t,r){var n=An.imports._.templateSettings||An;e=kt(e),t=st({},t,n,En);var o,a,i=st({},t.imports,n.imports,En),s=rt(i),c=function(e,t){return $(t,(function(t){return e[t]}))}(i,s),u=0,l=t.interpolate||Un,f="__p += '",d=RegExp((t.escape||Un).source+"|"+l.source+"|"+(l===xn?$n:Un).source+"|"+(t.evaluate||Un).source+"|$","g"),p=Fn.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,r,n,i,s,c){return n||(n=i),f+=e.slice(u,c).replace(Dn,Cn),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),f+="';\n";var h=Fn.call(t,"variable")&&t.variable;if(h){if(Mn.test(h))throw new Error(In)}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(Pn,""):f).replace(Nn,"$1").replace(zn,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=Ht((function(){return Function(s,p+"return "+f).apply(void 0,c)}));if(_.source=f,Wt(_))throw _;return _}var Rn=cr&&1/Rr(new cr([,-0]))[1]==1/0?function(e){return new cr(e)}:function(){};function Bn(e){return null==e||"string"==typeof e&&""===e||Jt(e)&&function(e){if(null==e)return!0;if(xe(e)&&(U(e)||"string"==typeof e||"function"==typeof e.splice||Re(e)||qe(e)||Ue(e)))return!e.length;var t=gr(e);if(t==pn||t==hn)return!e.size;if(Pe(e))return!tt(e).length;for(var r in e)if(_n.call(e,r))return!1;return!0}(e)||Array.isArray(e)&&e.length<1||"object"==typeof e&&!1===U(e)&&function(e){let t=!0;if("object"==typeof e&&!1===U(e))for(const r in e){const n=null==e?void 0:e[r];if(!0===e.hasOwnProperty(r)&&null!=n&&""!==n){t=!1;break}}return t}(e)}async function Jn(e,t){return(0,a.default)(e,t)}Ee((function(e){var t=an(e);return on(t)&&(t=void 0),function(e,t,r){var n=-1,o=_e,a=e.length,i=!0,s=[],c=s;if(a>=200){var u=t?null:Rn(e);if(u)return Rr(u);i=!1,o=Dr,c=new $r}else c=t?[]:s;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=0!==l?l:0,i&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),s.push(l)}else o(c,f,r)||(c!==s&&c.push(f),s.push(l))}return s}(Nt(e,0,on,!0),nn(t))}));const Gn={Arabic:"ar",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",Norwegian:"no",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},Vn=[...Object.values(Gn),"ar-u-nu-latn","en-AU","en-GB","es-ES","es-MX","de-AT","de-CH","de-DE","it-CH","it-IT"],Wn=[Gn.Arabic,Gn.Hebrew];function Hn(e,t){return Ln(e)(t)}function Kn(e){let t=Gn.English;if(void 0!==e){const r=Object.values(Gn),n=r.filter((e=>-1!==e.indexOf("-")));if(-1!==e.indexOf("-")){const[t,r]=e.split("-");e=`${t}-${r.toUpperCase()}`}if(!0===n.includes(e))t=e;else{const n=function(e){const t=null==e?void 0:e.match(/^([a-z]{2})-([A-Z]{1,2})$/);let r=Gn.English;return null!=t&&(null==t?void 0:t.length)>1?r=t[1]:2===(null==e?void 0:e.length)&&e.toLowerCase()===e&&(r=e),r}(e);!0===r.includes(n)?t=n:["nb","nn"].includes(n)&&(t="no")}}return t}function qn(e=document.documentElement){const t=function(e,t){return function t(r){let n;return n=void 0===r||r===document||r===window?null:r.closest(e)||t(r.getRootNode().host),n}(t)}("[lang]",e),r=(null==t?void 0:t.lang)??window.navigator.language,n=Kn(r),o=function(e){let t=Vn.find((t=>t===e));if(void 0===t&&(t=e),void 0!==t&&-1!==t.indexOf("-")){const[e,r]=t.split("-");t=`${e}-${r.toUpperCase()}`}return"ar"===t?t="ar-u-nu-latn":("nn"===t||"nn-NO"===t)&&(t="no-NN"),t}(r);return{locale:n,rtl:Wn.includes(n),formatLocale:o}}class Yn extends Error{constructor(e,t,r,n){super(t),this.name=e,this.details=r,this.cause=n}}const Qn={Default:"defaultError",CreditThresholdExceededError:"creditThresholdExceededError",InsufficientCreditsError:"InsufficientCreditsError",NetworkError:"networkError",PortalLoadError:"portalLoadError",ServiceNameExistsError:"serviceNameExistsError",SpecialCharactersInServiceNameError:"specialCharactersInServiceNameError",WebToolFailedFetch:"webToolFailedFetch",NoPermissionToAccessTool:"noPermissionToAccessTool",AccessBlocked:"accessBlocked"};function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zn,eo,to,ro,no,oo,ao,io;function so(){return oo||(oo=1,no=(eo||(eo=1,Zn=function(){return!("object"!=typeof globalThis||!globalThis)&&globalThis.Array===Array}),Zn)()?globalThis:function(){if(ro)return to;ro=1;var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};return to=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()}()),no}var co,uo,lo,fo,po,ho,_o,yo,vo,bo,go,mo,wo,jo,So,Oo,ko,Eo,To,Co,xo,Ao,Io,Po,No,zo,Mo,$o,Uo,Do,Fo,Lo,Ro,Bo,Jo,Go,Vo,Wo,Ho,Ko,qo,Yo,Qo,Xo,Zo,ea,ta,ra,na,oa,aa,ia,sa,ca,ua,la={exports:{}};function fa(){if(uo)return co;uo=1;return co=function(e){return null!=e}}function da(){if(ho)return po;ho=1;var e=function(){if(fo)return lo;fo=1;var e=fa(),t={object:!0,function:!0,undefined:!0};return lo=function(r){return!!e(r)&&hasOwnProperty.call(t,typeof r)}}();return po=function(t){if(!e(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch{return!1}}}function pa(){if(bo)return vo;bo=1;var e=function(){if(yo)return _o;yo=1;var e=da();return _o=function(t){if("function"!=typeof t||!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length||"function"!=typeof t.call||"function"!=typeof t.apply)return!1}catch{return!1}return!e(t)}}(),t=/^\s*class[\s{/}]/,r=Function.prototype.toString;return vo=function(n){return!(!e(n)||t.test(r.call(n)))}}function ha(){if(Eo)return ko;Eo=1;var e=(Oo||(Oo=1,So=function(){}),So)();return ko=function(t){return t!==e&&null!==t}}function _a(){return Ao||(Ao=1,xo=(jo||(jo=1,wo=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),wo)()?Object.keys:function(){if(Co)return To;Co=1;var e=ha(),t=Object.keys;return To=function(r){return t(e(r)?Object(r):r)}}()),xo}function ya(){if(zo)return No;zo=1;var e=_a(),t=function(){if(Po)return Io;Po=1;var e=ha();return Io=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t}}(),r=Math.max;return No=function(n,o){var a,i,s,c=r(arguments.length,2);for(n=Object(t(n)),s=function(e){try{n[e]=o[e]}catch(e){a||(a=e)}},i=1;i<c;++i)e(o=arguments[i]).forEach(s);if(void 0!==a)throw a;return n},No}function va(){return $o||($o=1,Mo=(mo||(mo=1,go=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),go)()?Object.assign:ya()),Mo}function ba(){return Go||(Go=1,Jo=function(){if(Lo)return Fo;Lo=1;var e="razdwatrzy";return Fo=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}}()()?String.prototype.contains:function(){if(Bo)return Ro;Bo=1;var e=String.prototype.indexOf;return Ro=function(t){return e.call(this,t,arguments[1])>-1},Ro}()),Jo}function ga(){if(Vo)return la.exports;Vo=1;var e=fa(),t=pa(),r=va(),n=function(){if(Do)return Uo;Do=1;var e=ha(),t=Array.prototype.forEach,r=Object.create;return Uo=function(n){var o=r(null);return t.call(arguments,(function(t){e(t)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(t),o)})),o},Uo}(),o=ba(),a=la.exports=function(t,a){var i,s,c,u,l;return arguments.length<2||"string"!=typeof t?(u=a,a=t,t=null):u=arguments[2],e(t)?(i=o.call(t,"c"),s=o.call(t,"e"),c=o.call(t,"w")):(i=c=!0,s=!1),l={value:a,configurable:i,enumerable:s,writable:c},u?r(n(u),l):l};return a.gs=function(a,i,s){var c,u,l,f;return"string"!=typeof a?(l=s,s=i,i=a,a=null):l=arguments[3],e(i)?t(i)?e(s)?t(s)||(l=s,s=void 0):s=void 0:(l=i,i=s=void 0):i=void 0,e(a)?(c=o.call(a,"c"),u=o.call(a,"e")):(c=!0,u=!1),f={get:i,set:s,configurable:c,enumerable:u},l?r(n(l),f):f},la.exports}function ma(){if(qo)return Ko;qo=1;var e=(Ho||(Ho=1,Wo=function(e){return!(!e||"symbol"!=typeof e&&(!e.constructor||"Symbol"!==e.constructor.name||"Symbol"!==e[e.constructor.toStringTag]))}),Wo);return Ko=function(t){if(!e(t))throw new TypeError(t+" is not a symbol");return t}}function wa(){if(na)return ra;na=1;var e,t,r,n=ga(),o=ma(),a=so().Symbol,i=function(){if(Qo)return Yo;Qo=1;var e=ga(),t=Object.create,r=Object.defineProperty,n=Object.prototype,o=t(null);return Yo=function(t){for(var a,i,s=0;o[t+(s||"")];)++s;return o[t+=s||""]=!0,r(n,a="@@"+t,e.gs(null,(function(t){i||(i=!0,r(this,a,e(t)),i=!1)}))),a}}(),s=function(){if(Zo)return Xo;Zo=1;var e=ga(),t=so().Symbol;return Xo=function(r){return Object.defineProperties(r,{hasInstance:e("",t&&t.hasInstance||r("hasInstance")),isConcatSpreadable:e("",t&&t.isConcatSpreadable||r("isConcatSpreadable")),iterator:e("",t&&t.iterator||r("iterator")),match:e("",t&&t.match||r("match")),replace:e("",t&&t.replace||r("replace")),search:e("",t&&t.search||r("search")),species:e("",t&&t.species||r("species")),split:e("",t&&t.split||r("split")),toPrimitive:e("",t&&t.toPrimitive||r("toPrimitive")),toStringTag:e("",t&&t.toStringTag||r("toStringTag")),unscopables:e("",t&&t.unscopables||r("unscopables"))})}}(),c=function(){if(ta)return ea;ta=1;var e=ga(),t=ma(),r=Object.create(null);return ea=function(n){return Object.defineProperties(n,{for:e((function(e){return r[e]?r[e]:r[e]=n(String(e))})),keyFor:e((function(e){var n;for(n in t(e),r)if(r[n]===e)return n}))})}}(),u=Object.create,l=Object.defineProperties,f=Object.defineProperty;if("function"==typeof a)try{String(a()),r=!0}catch{}else a=null;return t=function(r){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return e(r)},ra=e=function e(o){var s;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return r?a(o):(s=u(t.prototype),o=void 0===o?"":String(o),l(s,{__description__:n("",o),__name__:n("",i(o))}))},s(e),c(e),l(t.prototype,{constructor:n(e),toString:n("",(function(){return this.__name__}))}),l(e.prototype,{toString:n((function(){return"Symbol ("+o(this).__description__+")"})),valueOf:n((function(){return o(this)}))}),f(e.prototype,e.toPrimitive,n("",(function(){var e=o(this);return"symbol"==typeof e?e:e.toString()}))),f(e.prototype,e.toStringTag,n("c","Symbol")),f(t.prototype,e.toStringTag,n("c",e.prototype[e.toStringTag])),f(t.prototype,e.toPrimitive,n("c",e.prototype[e.toPrimitive])),ra}function ja(){return aa||(aa=1,oa=function(){if(io)return ao;io=1;var e=so(),t={object:!0,symbol:!0};return ao=function(){var r,n=e.Symbol;if("function"!=typeof n)return!1;r=n("test symbol");try{String(r)}catch{return!1}return!(!t[typeof n.iterator]||!t[typeof n.toPrimitive]||!t[typeof n.toStringTag])}}()()?so().Symbol:wa()),oa}!function(){if(ua)return ca;ua=1;const e=ja(),t=function(){if(sa)return ia;sa=1;const e="modeNone",t="modeDefault",r="modeMatch",n=(e,t)=>e.length>t.length?-1:e.length<t.length?1:0,o=(e,t)=>-1!==e.indexOf(t,e.length-t.length);class a{constructor(t,r,n){this.factory=t,this.str=r,this.forEachToken=n,this.previousChr="",this.toMatch="",this.currentToken="",this.modeStack=[e],this.currentIndex=0}getCurrentMode(){return this.modeStack[this.modeStack.length-1]}setCurrentMode(e){return this.modeStack.push(e)}completeCurrentMode(){const e=this.getCurrentMode();return e===t&&this.pushDefaultModeTokenizables(),(e===r&&""===this.currentToken||""!==this.currentToken)&&this.push(this.currentToken),this.currentToken="",this.modeStack.pop()}push(e){let t="";if(this.factory.convertLiterals&&this.getCurrentMode()!==r)switch(e.toLowerCase()){case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:isFinite(e)&&(e=Number(e))}else t=this.toMatch;this.forEachToken&&this.forEachToken(e,t,this.currentIndex)}tokenize(){let t=0;for(;t<this.str.length;)this.currentIndex=t,this.consume(this.str.charAt(t++));for(;this.getCurrentMode()!==e;)this.completeCurrentMode()}consume(e){this[this.getCurrentMode()](e),this.previousChr=e}[e](e){if(!this.factory.matchMap[e])return this.setCurrentMode(t),this.consume(e);this.setCurrentMode(r),this.toMatch=e}[t](e){if(this.factory.delimiterMap[e])return this.completeCurrentMode();if(this.factory.matchMap[e]){let t=0;for(;t<this.factory.tokenizeList.length;)if(o(this.currentToken,this.factory.tokenizeList[t++]))return this.completeCurrentMode(),this.consume(e)}return this.currentToken+=e,this.currentToken}pushDefaultModeTokenizables(){let e=0,t=1/0,r=null;for(;this.currentToken&&e<this.factory.tokenizeList.length;){const n=this.factory.tokenizeList[e++],o=this.currentToken.indexOf(n);-1!==o&&o<t&&(t=o,r=n)}if(r&&(t>0&&this.push(this.currentToken.substring(0,t)),-1!==t))return this.push(r),this.currentToken=this.currentToken.substring(t+r.length),this.pushDefaultModeTokenizables()}[r](e){if(e===this.toMatch){if(this.previousChr!==this.factory.escapeCharacter)return this.completeCurrentMode();this.currentToken=this.currentToken.substring(0,this.currentToken.length-1)}return this.currentToken+=e,this.currentToken}}return ia=class{constructor(e){e||(e={}),e=Object.assign({},this.constructor.defaultConfig,e),this.convertLiterals=e.convertLiterals,this.escapeCharacter=e.escapeCharacter,this.tokenizeList=[],this.tokenizeMap={},this.matchList=[],this.matchMap={},this.delimiterList=[],this.delimiterMap={},e.shouldTokenize.sort(n).forEach((e=>{this.tokenizeMap[e]||(this.tokenizeList.push(e),this.tokenizeMap[e]=e)})),e.shouldMatch.forEach((e=>{this.matchMap[e]||(this.matchList.push(e),this.matchMap[e]=e)})),e.shouldDelimitBy.forEach((e=>{this.delimiterMap[e]||(this.delimiterList.push(e),this.delimiterMap[e]=e)}))}tokenize(e,t){return new a(this,e,t).tokenize()}static get defaultConfig(){return{shouldTokenize:["(",")",",","*","/","%","+","-","=","!=","!","<",">","<=",">=","^"],shouldMatch:['"',"'","`"],shouldDelimitBy:[" ","\n","\r","\t"],convertLiterals:!0,escapeCharacter:"\\"}}}}(),r=e("-"),n={[r]:1};class o{constructor(e,t,r){this.value=e,this.type=t,this.precedence=r}toJSON(){return this.value}toString(){return`${this.value}`}}ca=class{constructor(e){e||(e={}),e=Object.assign({},this.constructor.defaultConfig,e),this.tokenizer=new t(e.tokenizer),this.operators={},e.operators.forEach(((e,t)=>{Object.keys(e).concat(Object.getOwnPropertySymbols(e)).forEach((r=>{this.operators[r]=new o(r,e[r],t)}))}))}parse(e,t){const n=[],o=[];let a,i=0,s=!1;for(t||(t=this.defaultEvaluator),this.tokenizer.tokenize(`(${e})`,((e,c)=>{if(i++,"string"!=typeof e||c)o.push(e),s=!1;else{let c=e.toUpperCase();if(this.operators[c]){if("BETWEEN"===a&&"AND"===c)return void(a="AND");for("-"===c&&(1===i||s)&&(c=r);n[n.length-1]&&"("!==n[n.length-1]&&this.operatorPrecedenceFromValues(c,n[n.length-1]);){const e=this.operators[n.pop()],r=[];let a=e.type;for(;a--;)r.unshift(o.pop());o.push(t(e.value,r))}n.push(c),a=c,s=!0}else if("("===e)n.push(e),s=!0;else if(")"===e){for(;n.length&&"("!==n[n.length-1];){const e=this.operators[n.pop()],r=[];let a=e.type;for(;a--;)r.unshift(o.pop());o.push(t(e.value,r))}if(!n.length)throw new SyntaxError("Unmatched parenthesis.");n.pop(),s=!1}else o.push(e),s=!1}}));n.length;){const e=n.pop();if("("===e)throw new SyntaxError("Unmatched parenthesis.");const r=this.operators[e],a=[];let i=r.type;for(;i--;)a.unshift(o.pop());o.push(t(r.value,a))}if(o.length>1)throw new SyntaxError("Could not reduce to a single expression.");return o[0]}toArray(e){let t,n=[],a=0;const i=[];for(this.tokenizer.tokenize(`(${e})`,((e,s)=>{switch(a++,e){case"(":i.push(n.length);break;case")":const c=i.pop();let u=n.splice(c,n.length);for(;u&&u.constructor===Array&&1===u.length;)u=u[0];n.push(u);break;case"":case",":break;default:let l=null;s||(l=this.getOperator(e),"-"===e&&(1===a||"("===t||t&&t.constructor===o)&&(l=this.getOperator(r))),n.push(l||e)}t=e}));n&&n.constructor===Array&&1===n.length;)n=n[0];return n}operatorPrecedenceFromValues(e,t){return this.operators[t].precedence<=this.operators[e].precedence}getOperator(e){return"string"==typeof e?this.operators[e.toUpperCase()]:"symbol"==typeof e?this.operators[e]:null}defaultEvaluator(e,t){return e===r&&(e="-"),","===e?[].concat(t[0],t[1]):{[e]:t}}static get defaultConfig(){return{operators:[{"!":1},n,{"^":2},{"*":2,"/":2,"%":2},{"+":2,"-":2},{"=":2,"<":2,">":2,"<=":2,">=":2,"!=":2},{",":2},{NOT:1},{BETWEEN:3,IN:2,IS:2,LIKE:2},{AND:2},{OR:2}],tokenizer:{shouldTokenize:["(",")",",","*","/","%","+","-","=","!=","!","<",">","<=",">=","^"],shouldMatch:['"',"'","`"],shouldDelimitBy:[" ","\n","\r","\t"]}}}static get Operator(){return o}static get OPERATOR_UNARY_MINUS(){return r}}}();const Sa="standard",Oa="raster",ka={ImageService:"Image Service",FeatureService:"Feature Service"};var Ea,Ta={exports:{}};const Ca=Xn(function(){if(Ea)return Ta.exports;function e(e,t,r,n){var o=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(n)?n:r(n),a=t.get(o);return typeof a>"u"&&(a=e.call(this,n),t.set(o,a)),a}function t(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),a=t.get(o);return typeof a>"u"&&(a=e.apply(this,n),t.set(o,a)),a}function r(e,t,r,n,o){return r.bind(t,e,n,o)}function n(n,o){return r(n,this,1===n.length?e:t,o.cache.create(),o.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}Ea=1,a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var i={create:function(){return new a}};return Ta.exports=function(e,t){var r=t&&t.cache?t.cache:i,a=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:n)(e,{cache:r,serializer:a})},Ta.exports.strategies={variadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)},monadic:function(t,n){return r(t,this,e,n.cache.create(),n.serializer)}},Ta.exports}()),xa=["SingleLine","Address","Address2","Address3","Neighborhood","City","Subregion","Region","Postal","PostalExt","CountryCode"];Ca((async({data:e,toolUIStrings:t})=>{const r=Fa(e,"geocodeServiceURL");let n;try{({data:{detailedCountries:n}}=await Jn(`${r}?f=json`,{responseType:"json"}))}catch{return[]}const{locale:o}=qn(),a=n.map((e=>{const t=e.localizedNames,r=o.length>2&&o;let n;if("boolean"!=typeof r&&(n=t[r]),void 0===n){const e=2===o.length?o:o.slice(0,2);if(n=t[e],void 0===n){const r=Object.keys(t).find((t=>t.startsWith(e)));void 0!==r&&(n=t[r])}}return(null==n||""===n)&&(n=t[Gn.English]??t[Gn.EnglishUSA]),{name:e.name,label:n}}));if(!0===(function(e){return null!==e.match(/(arcgis.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi)}(r)||function(e){return null!==e.match(/(\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi)}(r))){const e={name:"",label:(null==t?void 0:t.world)??"World"};a.splice(Sn(a,e,"label"),0,e)}return a}),{serializer:e=>{const{data:{geocodeServiceURL:t}}=e;return t??"EMPTY_KEY"}}),Ca((async(e,t)=>{const r=function(e,t){const{locale:r}=qn(),n=Fa(e,"geocodeServiceURL");let o={asyncGeocodeUrl:t.helperServices.asyncGeocode.url,geocodeServiceURL:n,locale:r};const a=Ra(xt(e,"inputFileItem.itemId"),t),i=Fa(e,"inputTable");if(Bn(null==a?void 0:a.id))Bn(null==i?void 0:i.url)||(o={...o,inputTable:{url:i.url,serviceToken:i.serviceToken}});else{const e="CSV"===a.type?"csv":"xlsx";o={...o,inputFileItem:{itemid:a.id},inputFileParameters:{fileType:e,headerRowExists:"true",columnDelimiter:"",textQualifier:""}}}return o}(e,t);let n,o,a;try{n=await La(r)}catch{return{geocodeParameters:void 0,addressFields:[],labels:{},values:[]}}try{o=JSON.parse(n.field_info),a=JSON.parse(n.field_mapping).reduce(((e,t)=>({...e,[t[1]]:t[0]})),{})}catch{return{addressFields:[],labels:{},values:[]}}const i=o.map((e=>e[0])),s=i.reduce(((e,t)=>({...e,[t]:t})),{});return{geocodeParameters:n,addressFields:i,labels:s,values:xa.map((e=>a[e]))}}),{serializer:e=>{const{geocodeServiceURL:t,inputFileItem:r,inputTable:n}=e[0],o=null==r?void 0:r.itemId,a=null==n?void 0:n.url;return Bn(t)||Bn(o)&&Bn(a)?"EMPTY_KEY":`${t}${o}${a}`}});const Aa="analysis_ui";async function Ia(e,t){const n=await async function(e=qn().locale){let t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_en-Brh-G-b7db93").then(r.bind(r,57308));switch(e){case Gn.Arabic:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_ar-Dy6U--2d88e1").then(r.bind(r,49253));break;case Gn.Bosnian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_bs-C5uA2-aea4aa").then(r.bind(r,32624));break;case Gn.Bulgarian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_bg-DAAZh-999e36").then(r.bind(r,63909));break;case Gn.Catalan:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_ca-DFf_z-be9357").then(r.bind(r,53355));break;case Gn.Czech:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_cs-CQeVf-dbb63b").then(r.bind(r,76055));break;case Gn.Danish:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_da-CNoVF-8b37d4").then(r.bind(r,80806));break;case Gn.German:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_de-Bv2Im-81595c").then(r.bind(r,90054));break;case Gn.Greek:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_el-BAdii-541a15").then(r.bind(r,62446));break;case Gn.EnglishUSA:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_en-US-LW-421f8a").then(r.bind(r,31728));break;case Gn.Spanish:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_es-CwCie-027be6").then(r.bind(r,83249));break;case Gn.Estonian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_et-D5ZFS-0767e8").then(r.bind(r,48570));break;case Gn.Finnish:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_fi-9XB9v-ad9aac").then(r.bind(r,23143));break;case Gn.French:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_fr-Ch1lv-5d0db6").then(r.bind(r,78329));break;case Gn.Hebrew:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_he-CaL_t-34b4d3").then(r.bind(r,65030));break;case Gn.Croatian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_hr-C5uA2-7117f4").then(r.bind(r,50197));break;case Gn.Hungarian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_hu-Ctkln-cc4cc8").then(r.bind(r,7441));break;case Gn.Indonesian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_id-D9DXj-ffd6de").then(r.bind(r,83910));break;case Gn.Italian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_it-ChwQD-75ec71").then(r.bind(r,9158));break;case Gn.Japanese:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_ja-Wa71o-95eb2e").then(r.bind(r,94123));break;case Gn.Korean:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_ko-Ddbn9-b09f24").then(r.bind(r,54659));break;case Gn.Lithuanian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_lt-MpOLI-4de4db").then(r.bind(r,8966));break;case Gn.Latvian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_lv-eOJTZ-155819").then(r.bind(r,93322));break;case Gn.Norwegian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_no-BWhmX-4cb724").then(r.bind(r,53637));break;case Gn.Dutch:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_nl-DhzWB-810227").then(r.bind(r,16403));break;case Gn.Polish:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_pl-gnEMI-a486b7").then(r.bind(r,57989));break;case Gn.PortugueseBrazil:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_pt-BR-iF-6a468a").then(r.bind(r,86316));break;case Gn.PortuguesePortugal:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_pt-PT-BG-639b3e").then(r.bind(r,70758));break;case Gn.Romanian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_ro-DgxTN-a93380").then(r.bind(r,33120));break;case Gn.Russian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_ru-DCe-F-b68083").then(r.bind(r,99273));break;case Gn.Serbian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_sr-DdVFj-e292dd").then(r.bind(r,13444));break;case Gn.Slovak:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_sk-Ce4LC-44e8e0").then(r.bind(r,19634));break;case Gn.Slovenian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_sl-BIcMV-6c9e76").then(r.bind(r,51425));break;case Gn.Swedish:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_sv-BrcDC-08c701").then(r.bind(r,33708));break;case Gn.Thai:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_th-BMl5Q-cb623b").then(r.bind(r,97432));break;case Gn.Turkish:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_tr-BGAwk-c62730").then(r.bind(r,69967));break;case Gn.Ukrainian:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_uk-BqX-C-b87a55").then(r.bind(r,7909));break;case Gn.Vietnamese:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_vi-CsGi1-904226").then(r.bind(r,62903));break;case Gn.ChineseChina:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_zh-CN-Cc-9f2401").then(r.bind(r,20200));break;case Gn.ChineseHongKong:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_zh-HK-Qg-8a82e9").then(r.bind(r,16940));break;case Gn.ChineseTaiwan:t=await r.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-core_dist_errors_t9n_zh-TW-Ck-e81372").then(r.bind(r,14052))}return t}(),o=n[e]??n.defaultError;throw new Yn(e,o,{type:Aa},t)}const Pa=/^[\p{L}\p{N}\p{M}_](?:[\p{L}\p{N}\p{M}_\s]*[\p{L}\p{N}\p{M}_])?$/u,Na={Standalone:"standalone"};function za(e){e??(e=Sa);let t="";if(e===Oa)t="_ra";else t="";return t}function Ma(e){const{value:t,paramName:r,dataType:n}=e;return new d.default({value:t,dataType:n,paramName:r})}function $a(e){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[e]||e}function Ua(e,t={}){let r="";return e.forEach((e=>{const n=JSON.parse(e),{message:o,messageCode:a,params:i,style:s}=n;if(Array.isArray(o)){const e={};let n=s;o.forEach(((r,o)=>{const s=`${a}_${o}`;n=n.replace("></",">${"+s+"}</");let c=void 0!==t[s]?t[s]:r;c=Hn(c,i),c=function(e){return e.replace(/[<>]/g,$a)}(c),e[s]=`${c}`})),r+=Hn(n,e)}else{let e=void 0!==t[a]?t[a]:o;e=Hn(e,i);const n=s.indexOf("</");r+=`${s.substring(0,n)}${e}${s.substring(n)}`}})),r}wt((async e=>{const{locale:t,name:r,assetPrefix:n,analysisEngine:o,uiMode:a=Na.Standalone,memoizedHelper:i}=e,s=`${r.toLowerCase()}${za(o)}`;let c,u,l,f,d,p="",h="";if("modelbuilder"===a){const e=`${n}/tool-ui-json/mb/mb-overrides-manifest.json`,t=await i(e),r=null==t?void 0:t.overrides;p=`${n}/tool-ui-json/${!0===(void 0!==t&&(null==r?void 0:r.includes(s)))?"mb/":""}${s}.tool.ui.json`,h=`${n}/tool-ui-json/mb/allToolOverrides.json`}else p=`${n}/tool-ui-json/${s}.tool.ui.json`;c=await i(p);const _=`${n}/tool-json/${s}.tool.json`,y=`${n}/t9n/${s}/${s}.t9n.${t}.json`,v=`${n}/t9n/common.t9n.${t}.json`;let b=t;(t===Gn.English||t===Gn.EnglishUSA)&&(b="");const g=`${n}/help/${""!==b?b+"/":""}${r}${za(o)}.html`;try{u=await i(y),l=await i(v),u={...l,...u},"modelbuilder"===a?d=await i(h):f=await i(_)}catch{c=void 0}return{toolJson:f,toolUIJson:c,toolT9n:u,toolHelpFilePath:g,allToolOverrides:d}})),wt((e=>{var t;const r={};let n;if(void 0!==e.featureSet){if(r.source=f.default.fromJSON(e.featureSet).features,n=e.layerDefinition,void 0!==n.fields&&(r.fields=n.fields.map((e=>u.default.fromJSON(e)))),void 0!==n.objectIdField&&(r.objectIdField=n.objectIdField),void 0!==n.geometryType){let e="point";switch(n.geometryType){case"esriGeometryMultipoint":e="multipoint";break;case"esriGeometryPoint":e="point";break;case"esriGeometryPolygon":e="polygon";break;case"esriGeometryPolyline":e="polyline"}r.geometryType=e}void 0!==n.spatialReference&&(r.spatialReference=n.spatialReference),void 0!==(null==(t=n.drawingInfo)?void 0:t.renderer)&&(r.renderer=l.default.fromJSON(n.drawingInfo.renderer))}return new i.default(r)})),wt((async(e,t)=>{let r=!1;if(!0===window.location.href.includes("://localhost:")||void 0===t)r=!0;else{const n=`${e}${e.indexOf("?")>-1?"&":"?"}f=json`;c.default.request.proxyUrl=`${t}/sharing/proxy`;try{r=!1===Bn((await Jn(n,{useProxy:!0})).data)}catch{r=!1}}return!0===r?e:void 0}));const Da={Canceled:"job-cancelled"};function Fa(e,t){return xt(e,t)}Ca((async e=>{const{url:t}=e,r=`${t}/sharing/rest/community/self`,n=o.default.findCredential(r);let a;void 0!==n&&(a=n.token);const i={query:{returnUserLicensedItems:!0,token:a,f:"json"}};try{const{data:{userLicensedItems:e}}=await Jn(r,i);return[...e.map((({entitlements:e})=>e))].flat()}catch{await Ia(Qn.NetworkError)}return[]}),{serializer:e=>{var t;return`${null==(t=null==e?void 0:e.user)?void 0:t.username}`}}),Ca((e=>function(e){const t=new Set(e.map((e=>e.id)));return Array.from(t).map((t=>e.find((e=>e.id===t))))}(e)),{serializer:e=>Array.isArray(e)?e.map((e=>null==e?void 0:e.id)).join("-"):""}),Ca((async e=>{var t;let r={isMultidimensional:!1};const n="imagery-tile"===e.type?null==(t=e.serviceRasterInfo)?void 0:t.multidimensionalInfo:e.multidimensionalInfo,o=e.multidimensionalSubset;if(null!=n){const t=null!=o?e.getMultidimensionalSubsetVariables():n.variables;if(void 0!==t&&t.length>0){const e=[],n=[],o={},a={},i={},s={},c={},u={},l={};t.forEach(((t,r)=>{let i="";const f=t.name;t.dimensions.forEach(((t,n)=>{var d,p;const h=t.name;-1===e.indexOf(h)&&e.push(h);const _=n>0?`,${h}=${null==(d=t.values)?void 0:d.length}`:`${h}=${null==(p=t.values)?void 0:p.length}`;if(i=i.concat(_),0===n&&(a[f]={}),void 0===o[h]&&(o[h]=[]),a[f][h]=t.values,0===r){const e=t.values;if(void 0!==e)if("StdTime"!==h||void 0!==t.unit&&"ISO8601"!==t.unit)Array.isArray(e)&&"number"==typeof e[0]?s[h]=c[h]=e.map(String):Array.isArray(null==e?void 0:e[0])&&Array.isArray(e[1])&&(s[h]=e[0].map(String),c[h]=e[1].map(String));else{const t=[],r=[],n={},o={};null==e||e.forEach((e=>{if("number"==typeof e){const a=new Date(e),i=a.toLocaleString(),s=a.toISOString();t.push(s),r.push(s),n[s]=i,o[s]=i}else if(Array.isArray(e)){const a=new Date(e[0]),i=new Date(e[1]),s=a.toISOString(),c=i.toISOString();t.push(s),r.push(c),n[s]=a.toLocaleString(),o[c]=i.toLocaleString()}})),s[h]=t,c[h]=r,u[h]=n,l[h]=o}}o[h].push(f)})),n.push({name:f,alias:`${f}[${i}](${t.description})`,type:"string"})}));for(const e in o){const t=n.filter((t=>o[e].indexOf(t.name)>-1));i[e]={id:"1",name:e,description:"DimensionVariables",getFields:()=>Promise.resolve(t)}}r={isMultidimensional:!0,dimensions:e,dimensionVariableDatasets:i,dimensionValues:a,variablesDataset:{id:"1",name:"Variables",description:"Variables",getFields:()=>Promise.resolve(n)},dimensionMinValues:s,dimensionMaxValues:c,dimensionMinValuesWithLabels:u,dimensionMaxValuesWithLabels:l}}}let a;try{a=await e.generateRasterInfo(e.rasterFunction)}catch{a=e.serviceRasterInfo}return r.rasterInfo=a,r}));const La=async e=>{const{asyncGeocodeUrl:t}=e,r=await h.submitJob(`${t}/AnalyzeGeocodeInput`,{...bn(e,"asyncGeocodeUrl"),f:"json"});return await r.waitForJobCompletion(),(await r.fetchResultData("geocodeParameters")).value},Ra=Ca(((e,t)=>new s.default({id:e,portal:t})),{serializer:e=>{var t;return`${e[0]}-${null==(t=e[1])?void 0:t.url}`}});Ca((async e=>{var t;const{restUrl:r}=e,n=`${r}/portals/helpmap`;let o;try{o=await(null==(t=(await(0,a.default)(n,{query:{f:"json"},responseType:"json",method:"auto"})).data)?void 0:t.helpMap)??void 0}catch{o=void 0}return o}),{serializer:e=>{var t;return`${e[0]}-${null==(t=e[1])?void 0:t.url}`}});const Ba=g((async e=>{const t=new n.default({url:e});t.authMode="immediate";try{await t.load()}catch{await Ia(Qn.PortalLoadError)}return t}));async function Ja(e){e.loaded||await e.load();const t=o.default.findCredential(e.url);let r;return void 0!==t&&(r=t.token),r}const Ga={Asynchronous:"esriExecutionTypeAsynchronous",Synchronous:"esriExecutionTypeSynchronous"},Va={Standard:"standard",GeoAnalytics:"geoanalytics",Raster:"raster"};function Wa(e,t,r=!1){let n=t.helperServices.analysis.url;switch(e){case Va.GeoAnalytics:n=t.helperServices.geoanalytics.url;break;case Va.Raster:n=t.helperServices.rasterAnalytics.url;break;case Va.Standard:n=r?t.helperServices.asyncGeocode.url:t.helperServices.analysis.url}return n}const Ha=e=>{const t=Array.from(e).map((e=>{let t;return t="object"==typeof e&&void 0!==e.id?e.id:e,t}));return JSON.stringify(t)},Ka=g((async(e,t,r)=>{var n;const o=`${Wa(t,r,"BatchGeocode"===e)}/${e}?f=json`,i=await(await(0,a.default)(o,{responseType:"json",authMode:"no-prompt"})).data;return null==(n=i.parameters)||n.forEach((e=>{null===e.defaultValue&&(e.defaultValue=void 0)})),i}),{serializer:Ha}),qa=g((async(e,t)=>{const r=Wa(e,t),n=await(0,a.default)(`${r}?f=json`,{responseType:"json"}),{data:{tasks:o}}=n,i=o.map((r=>Ka(r,e,t)));return await Promise.all(i)}),{serializer:Ha}),Ya=g((async(e,t)=>{let r=[];return r=void 0!==t?await qa(t,e):[...await qa(Va.Standard,e),...await qa(Va.Raster,e),...await qa(Va.GeoAnalytics,e)],new Map(r.map((e=>[e.name.toLowerCase(),e])))}),{serializer:Ha}),Qa=g((async e=>{const{helperServices:t}=e;let r;if(void 0!==t.routingUtilities){const e=await h.execute(`${t.routingUtilities.url}/GetTravelModes?f=json`),{results:[{value:{features:n}},{value:o}]}=e;r={travelModes:n.map((e=>JSON.parse(e.attributes.TravelMode))),defaultTravelModeId:o}}return r}),{serializer:Ha}),Xa=g((async e=>(await(0,a.default)(`${e}?f=json`,{responseType:"json"})).data)),Za=g((async(e,t)=>{var r;const n=`${e}/${t}?f=json`,o=await(0,a.default)(n,{responseType:"json",authMode:"no-prompt"}),i=await(null==o?void 0:o.data);return void 0!==(null==i?void 0:i.parameters)&&(null==(r=i.parameters)||r.forEach((e=>{null===e.defaultValue&&(e.defaultValue=void 0)}))),i})),ei=g((async e=>{const t=await(0,a.default)(`${e}?f=json`,{responseType:"json"}),{data:{tasks:r}}=t,n=r.map((t=>Za(e,t)));return await Promise.all(n)})),ti=g((async(e,t)=>{var r;let n,o;try{n=await Za(e,t),o=await Xa(e)}catch(e){throw function(e){if(!(e instanceof Yn))throw e}(e),"OAUTH_0070"===(null==(r=e.details)?void 0:r.messageCode)?new Yn(Qn.AccessBlocked,e.message,e.details):new Yn(Qn.WebToolFailedFetch,e.message,e.details)}return n.serviceInfo=o,{...n,serviceInfo:o}})),ri={ResultDataComplete:"analysisCoreResultDataComplete",JobStatus:"analysisCoreJobStatus",CreditEstimateComplete:"creditEstimateComplete"};function ni(e){return{detail:e,composed:!0,cancelable:!0,bubbles:!0}}function oi(e,t){e.dispatchEvent(new window.CustomEvent(ri.ResultDataComplete,ni(t)))}function ai(e,t){e.dispatchEvent(new window.CustomEvent(ri.JobStatus,ni(t)))}const ii=[{toolName:"CreateViewshed",analysisEngine:Va.Standard},{toolName:"CreateWatersheds",analysisEngine:Va.Standard},{toolName:"TraceDownstream",analysisEngine:Va.Standard}],si=[{toolName:"SummarizeNearby",analysisEngine:Va.Standard},{toolName:"EnrichLayer",analysisEngine:Va.Standard},{toolName:"CreateDriveTimeAreas",analysisEngine:Va.Standard},{toolName:"PlanRoutes",analysisEngine:Va.Standard},{toolName:"FindNearest",analysisEngine:Va.Standard},{toolName:"ConnectOriginsToDestinations",analysisEngine:Va.Standard},{toolName:"ChooseBestFacilities",analysisEngine:Va.Standard}],ci=si.filter((e=>"EnrichLayer"===e.toolName||"CreateDriveTimeAreas"===e.toolName));function ui(e){return void 0!==ci.find((t=>t.toolName===e))}async function li(e){var t;const{portal:r,jobParams:n,analysisEngine:o,toolName:i,toolElement:s}=e,c=Wa(o??Va.Standard,r,"BatchGeocode"===i);let u=[];if(void 0!==ii.find((e=>e.toolName===i&&e.analysisEngine===o)))u=[{dateType:"string",value:{cost:0,totalRecords:0}}];else{let e="";switch(o){case Va.Raster:e=c+"/EstimateRasterAnalysisCost";break;case Va.Standard:e=c.replace("tasks/GPServer","Estimate/GPServer/EstimateCredits")}const r={};for(const e in n)"object"==typeof n[e]&&void 0!==n[e]?r[e]=JSON.stringify(n[e]):r[e]=n[e];const l=o===Va.Raster?{inputAnalysisTask:{name:i,parameters:r}}:{taskName:i,taskParameters:r},f=(await(0,a.default)(`${e}?f=json`,{responseType:"json"})).data,d=null==(t=null==f?void 0:f.parameters)?void 0:t.filter((e=>"esriGPParameterDirectionOutput"===e.direction));let p;switch(f.executionType){case Ga.Synchronous:p=await(0,h.execute)(e,l),u=p.results;break;case Ga.Asynchronous:{const t=await h.submitJob(e,l),r={interval:1500,statusCallback:e=>{ai(s,{jobInfo:e})}};await t.waitForJobCompletion(r);const n=null==d?void 0:d.map((e=>t.fetchResultData(e.name)));u=await Promise.all(n);break}}}return void 0!==s&&function(e,t){e.dispatchEvent(new window.CustomEvent(ri.CreditEstimateComplete,ni(t)))}(s,u),u}function fi(e){var t;const r=function(e){const t="object"==typeof e&&null!==e,r=t&&"totalRecords"in e&&("maximumCost"in e||"cost"in e),n=t&&"credits"in e&&"functions"in e&&Array.isArray(e.functions)&&e.functions.every((e=>"object"==typeof e&&null!==e&&"name"in e&&"costFactor"in e&&"gigaPixels"in e));return t&&(r||n)}(null==(t=null==e?void 0:e[0])?void 0:t.value)?e[0].value:void 0,n=(null==r?void 0:r.maximumCost)??(null==r?void 0:r.cost)??(null==r?void 0:r.credits);return Number.isNaN(n)?void 0:n}function di(e,t){return void 0===t||void 0===e||e<=t}function pi(e,t){let r=!0;return void 0!==t.sourceJSON.availableCredits&&void 0!==e&&(r=t.sourceJSON.availableCredits>e),r}function hi(e,t){const r=[];return e.forEach((e=>{var n,o;if(e in t){const a=JSON.parse(t[e]),i=(null==(n=null==a?void 0:a.serviceProperties)?void 0:n.name)??(null==(o=null==a?void 0:a.itemProperties)?void 0:o.title)??void 0;void 0!==i&&r.push(i)}})),"esri_out_feature_service_name"in t&&"string"==typeof t.esri_out_feature_service_name&&r.push(t.esri_out_feature_service_name),r}function _i(e){let t=!1;if(void 0!==e.outputName)try{t=JSON.parse(e.outputName).itemProperties.overwrite??!1}catch{}return t}async function yi(e){const{portal:{url:t,id:r},itemType:n,includeItemId:o=!1}=e,{serviceName:i}=e,s=`${t}/sharing/rest/portals/${r}/isServiceNameAvailable?f=json`,c={query:{f:"json",name:i,type:n,includeitemid:o}};let u={available:!0};try{const e=await(0,a.default)(s,c);u=void 0!==e.data.itemId?{available:e.data.available,itemId:e.data.itemId,inRecycleBin:e.data.inRecycleBin}:{available:e.data.available,inRecycleBin:e.data.inRecycleBin}}catch{await Ia(Qn.NetworkError)}return u}async function vi(e,t){const r=[];e.forEach((e=>{if("object"==typeof e.value&&"itemId"in e.value&&!Bn(e.value.itemId)&&void 0!==t){const n=e.value.itemId;r.push(async function(e,t){const r=await new s.default({id:e}).load();let n=Object.assign(r,t);return n=await n.update(),n}(n,{description:t}))}})),await Promise.all(r)}const bi="CLIENT_";function gi(){return bi+`${Math.ceil(1e15*Math.random())}`}async function mi(e){var t,r,n,a;const{portal:i}=e,{helperServices:s}=i,{title:c,jobParams:u,jobParamsPayload:l,toolUiParameters:f,toolName:_,analysisEngine:y,analysisType:v,resultParams:b,containerElement:g,gpMessages:m,webToolServerUrl:w,executionType:j,creditCheckOptions:S,webToolJSON:O}=e;let k=function(e){let t=!0;return t=!0!==Bn(null==e?void 0:e.orgId)&&(function(e){var t;return(null==(t=e.role)?void 0:t.includes("admin"))??!1}(e)||function(e){var t;return(null==(t=e.role)?void 0:t.includes("publisher"))??!1}(e)),t}(i.user);const E=Object.keys(l).some((e=>{const t=l[e];return"string"==typeof t&&t.includes("serviceProperties")})),T=hi(Object.keys(l).filter((e=>{const t=l[e];return"string"==typeof t&&(t.includes("serviceProperties")||t.includes("itemProperties"))})),l);!1===function(e){return e.every((e=>Pa.test(e)))}(T)&&await Ia(Qn.SpecialCharactersInServiceNameError);const C=_i(l);if(E&&!1===C){const e=T.map((e=>{const t=i.isPortal?function(e){return e.replace(/\s/g,"_")}(e):e;return yi({portal:i,serviceName:t,itemType:y!==Va.Raster||void 0!==f.resultType&&"FEATURE_LAYER"===f.resultType?ka.FeatureService:ka.ImageService})}));k=!(await Promise.all(e)).some((e=>!1===e.available)),!1===k&&await Ia(Qn.ServiceNameExistsError)}const{skipCreditChecks:x=!1,creditThreshold:A}=S??{};if(!1===x&&void 0===w&&(e.analysisEngine===Va.Standard||e.analysisEngine===Va.Raster)){const t=fi(await li({toolName:e.toolName,portal:i,jobParams:e.jobParamsPayload,analysisEngine:e.analysisEngine,toolElement:e.containerElement}));k=pi(t,i.user),!1===k&&await Ia(Qn.InsufficientCreditsError),k=di(t,A),!1===k&&await Ia(Qn.CreditThresholdExceededError,{estimatedCredits:t,creditThreshold:A})}if(!0===k){const e=void 0===w?Wa(y,i,"BatchGeocode"===_):w,S=`${e}/${_}?f=json`;let k;void 0!==S&&void 0!==(null==(t=null==s?void 0:s.analysisModels)?void 0:t.url)&&S.includes(s.analysisModels.url)&&(k=await Ja(i),void 0!==k&&o.default.registerToken({server:S,token:k}));const E={returnFeatureCollection:void 0!==w};if(j===Ga.Synchronous)try{const e=await h.execute(S,l,E),t=e.results,r=p.default.fromJSON({jobId:gi(),jobStatus:"esriJobSucceeded",sourceUrl:w});r.messages=e.messages,ai(g,{jobInfo:r,submissionData:{title:c,toolName:_,analysisEngine:y,analysisType:v,jobParams:u,toolUiParameters:f,webToolServerUrl:w}}),oi(g,{results:t,jobInfo:r,webToolJSON:O})}catch(e){const t=p.default.fromJSON({jobId:gi(),jobStatus:"esriJobFailed",sourceUrl:w,messages:{type:"error",description:`${e.message} ${null==(r=null==e?void 0:e.details)?void 0:r.messages.toString()}`.trim()}});ai(g,{jobInfo:t,submissionData:{title:c,toolName:_,analysisEngine:y,analysisType:v,jobParams:u,toolUiParameters:f,webToolServerUrl:w}})}else{let t;try{t=await h.submitJob(S,l,E)}catch(e){const t=void 0!==O&&("webToolItemId"in O||"itemId"in O);return"identity-manager:not-authorized"===e.name&&t?Ia(Qn.NoPermissionToAccessTool,e.message):t&&"OAUTH_0070"===(null==(n=e.details)?void 0:n.messageCode)?Ia(Qn.AccessBlocked,e.message):Ia(Qn.Default,e.message)}ai(g,{jobInfo:t,submissionData:{title:c,toolName:_,analysisEngine:y,analysisType:v,jobParams:u,toolUiParameters:f,webToolServerUrl:w}});const r={interval:1500,statusCallback:e=>{ai(g,{jobInfo:e})}};try{let n;if(await t.waitForJobCompletion(r),!0===b.includes("processInfo"))try{const e=await t.fetchResultData("processInfo",E),r=b.indexOf("processInfo");b.splice(r,1),Array.isArray(e.value)&&(n=Ua(e.value,m))}catch{}const o=(null==(a=null==O?void 0:O.serviceInfo)?void 0:a.resultMapServerName)??void 0;if(!1===Bn(o)){const r=`${e.replace("GPServer","MapServer")}/jobs/${t.jobId}`,n=d.default.fromJSON({dataType:"GPFeatureRecordSetLayer",paramName:o,value:{url:r}});oi(g,{results:[n],jobInfo:t})}else{const e=b.map((e=>t.fetchResultData(e,E)));let r=(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value));vi(r,n),void 0!==n&&(r=[...r,Ma({paramName:"processInfo",value:n,dataType:"string"})]),oi(g,{results:r,jobInfo:t,webToolJSON:O})}}catch(e){ai(g,{jobInfo:t,error:e})}}}}async function wi(e,t){let r=e.jobStatus,n=e.messages;const o=e.jobId;try{r=(e=await e.cancelJob()).jobStatus,n=e.messages,ai(t,{jobInfo:e})}catch(a){const i=a.code??a.details.httpStatus,s=a.messages??a.details.messages??[];void 0!==a.jobStatus&&void 0!==a.jobId&&void 0!==a.messages&&a.jobId===o?(r=a.jobStatus,n=s):i>=400&&i<500&&(!0===[404,410].includes(i)&&(r=Da.Canceled,ai(t,{jobInfo:e={jobId:e.jobId,sourceUrl:e.sourceUrl,jobStatus:r,messages:e.messages}})),n=s??[])}return{...e,jobStatus:r,messages:n}}function ji(e){return e.map((e=>_.default.fromJSON(e.toJSON())))}}}]);