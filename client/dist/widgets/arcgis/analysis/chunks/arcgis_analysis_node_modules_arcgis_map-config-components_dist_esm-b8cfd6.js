/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-b8cfd6.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm-b8cfd6"],{84671:(e,t,r)=>{r.r(t),r.d(t,{arcgis_filter:()=>k});var s=r(11254),a=r(39020),i=r(40387),o=r(33443),n=r(69811),l=r(14528),p=r(84260);r(17840),r(56612),r(10465);const c="empty-msg",u="msg-icon",d="tip-msg",h="header-info",f="match-expression-msg",g="match-expression-dropdown",m="match-type",y="notice";function b(e){let t="";if(!e.expressions?.length)return;let r="",s=0;for(let a=0;a<e.expressions.length;a++){const o=v(e.expressions[a],e);o.length&&(0===s?t=o:1===s?(r=` ${e.logicalOperatorForExpressions===i.l.OR?"OR":"AND"} `,t=`(${t})${r}(${o})`):t+=`${r}(${o})`,s++)}return t.length?t:void 0}function v(e,t){let r="";if(1===e.conditions.length)r=E(e.conditions[0],t);else{let s="";for(let a=0;a<e.conditions.length;a++){const o=E(e.conditions[a],t);o.length&&(r+=s+o,s=` ${e.logicalOperatorForConditions===i.l.OR?"OR":"AND"} `)}}return r}function E(e,t){const{layer:r,strings:s}=t,a=e.fieldName,n=e.operator;let l=e.value,p=e.value2;const c=e.values||[],u=e.unit,d=(0,i.g)(a,t);if(!d)return"";if((0,i.i)(t,n)&&!(0,i.a)(p))return"";if((0,i.b)(t,n)&&!c.length)return"";if((0,i.c)(t,n)&&!(0,i.a)(l))return"";if(!((0,i.a)(l)||c.length||(0,i.d)(t,n)||(0,i.e)(t,n)||(0,i.f)(t,n)))return"";let h="";if(d.simpleFieldType===i.s.STRING||d.simpleFieldType===i.s.GUID){const n=(0,i.h)(d),p=(0,i.j)(d),u=(0,i.k)(d),f=(0,i.m)(d),g=(0,i.n)(d),m=n&&(0,i.a)(l)&&t.isHosted&&function(e){if("number"==typeof e)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}(l)?"N":"",y=l?.toString().replace(/'/gu,"''"),b=e=>{let s="";if(n)s=e?.toString().replace(/'/gu,"''"),s=`${m}'${s}'`;else if(p)s=e.toString();else if(u){s=`${t.supportsStandardizedQuery?"timestamp ":""}'${I(e,r.fieldsIndex.getTimeZone(a)||"UTC")}'`}else if(f){const r=t.supportsStandardizedQuery?"DATE ":"";let a;a="number"==typeof e?(0,o.u)(e):e,s=`${r}'${a}'`}else if(g){s=`${t.supportsStandardizedQuery?"TIME ":""}'${"number"==typeof e?(0,o.a)(e):e}'`}return s};switch(e.operator){case s.operators.stringOperatorIs:h=`${a} = ${b(l)}`;break;case s.operators.stringOperatorIsNot:h=`${a} <> ${b(l)}`;break;case s.operators.stringOperatorStartsWith:h=`${a} LIKE ${m}'${y}%'`;break;case s.operators.stringOperatorEndsWith:h=`${a} LIKE ${m}'%${y}'`;break;case s.operators.stringOperatorContains:h=`${a} LIKE ${m}'%${y}%'`;break;case s.operators.stringOperatorDoesNotContain:h=`${a} NOT LIKE ${m}'%${y}%'`;break;case s.operators.stringOperatorIncludes:h=`${a} IN (${c.map((e=>b(e)))})`;break;case s.operators.stringOperatorExcludes:h=`${a} NOT IN (${c.map((e=>b(e)))})`;break;case s.operators.stringOperatorIsBlank:h=`${a} IS NULL`;break;case s.operators.stringOperatorIsNotBlank:h=`${a} IS NOT NULL`;break;case s.operators.stringOperatorIsEmpty:h=`${a} = ''`;break;case s.operators.stringOperatorIsNotEmpty:h=`${a} <> ''`;break;case s.operators.stringOperatorIsCurrentUser:h=`${a} = CURRENT_USER`;break;case s.operators.stringOperatorIsNotCurrentUser:h=`${a} <> CURRENT_USER`}}else if(d.simpleFieldType===i.s.NUMBER||d.simpleFieldType===i.s.OID)switch(n){case s.operators.numberOperatorIs:h=`${a} = ${l}`;break;case s.operators.numberOperatorIsNot:h=`${a} <> ${l}`;break;case s.operators.numberOperatorIsAtLeast:h=`${a} >= ${l}`;break;case s.operators.numberOperatorIsLessThan:h=`${a} < ${l}`;break;case s.operators.numberOperatorIsAtMost:h=`${a} <= ${l}`;break;case s.operators.numberOperatorIsGreaterThan:h=`${a} > ${l}`;break;case s.operators.numberOperatorIsBetween:h=`${a} BETWEEN ${l} AND ${p}`;break;case s.operators.numberOperatorIsNotBetween:h=`${a} NOT BETWEEN ${l} AND ${p}`;break;case s.operators.numberOperatorIncludes:h=`${a} IN (${c.toString()})`;break;case s.operators.numberOperatorExcludes:h=`${a} NOT IN (${c.toString()})`;break;case s.operators.numberOperatorIsBlank:h=`${a} IS NULL`;break;case s.operators.numberOperatorIsNotBlank:h=`${a} IS NOT NULL`}else if(d.simpleFieldType===i.s.DATE_ONLY){const e=t.supportsStandardizedQuery?"DATE ":"";let r,f;switch(r="number"==typeof l?(0,o.u)(l):l,(0,i.a)(p)&&"number"==typeof p?f=(0,o.u)(p):(0,i.a)(p)&&(f=p),n){case s.operators.dateOperatorIsOn:h=`${a} = ${e}'${r}'`;break;case s.operators.dateOperatorIsNotOn:h=`${a} <> ${e}'${r}'`;break;case s.operators.dateOperatorIsBefore:h=`${a} < ${e}'${r}'`;break;case s.operators.dateOperatorIsAfter:h=`${a} > ${e}'${r}'`;break;case s.operators.dateOperatorInTheLast:h=`${a} BETWEEN ${$(t,d,l,u)}`;break;case s.operators.dateOperatorNotInTheLast:h=`${a} NOT BETWEEN ${$(t,d,l,u)}`;break;case s.operators.dateOperatorIsBetween:h=`${a} BETWEEN ${e}'${r}' AND ${e}'${f}'`;break;case s.operators.dateOperatorIsNotBetween:h=`${a} NOT BETWEEN ${e}'${r}' AND ${e}'${f}'`;break;case s.operators.dateOperatorIncludes:case s.operators.dateOperatorExcludes:{let t="",r="";c.forEach((s=>{const a="number"==typeof s?(0,o.u)(s):s;t+=`${r}${e}'${a}'`,r=","})),h=n===s.operators.numberOperatorIncludes?`${a} IN (${t})`:`${a} NOT IN (${t})`;break}case s.operators.dateOperatorIsBlank:h=`${a} IS NULL`;break;case s.operators.dateOperatorIsNotBlank:h=`${a} IS NOT NULL`}}else if(d.simpleFieldType===i.s.TIME_ONLY){const e=t.supportsStandardizedQuery?"TIME ":"";switch("number"==typeof l&&(l=(0,o.a)(l)),(0,i.a)(p)&&"number"==typeof p&&(p=(0,o.a)(p)),n){case s.operators.dateOperatorIsOn:h=`${a} = ${e}'${l}'`;break;case s.operators.dateOperatorIsNotOn:h=`${a} <> ${e}'${l}'`;break;case s.operators.dateOperatorIsBefore:h=`${a} < ${e}'${l}'`;break;case s.operators.dateOperatorIsAfter:h=`${a} > ${e}'${l}'`;break;case s.operators.dateOperatorIsBeforeOrEqual:h=`${a} <= ${e}'${l}'`;break;case s.operators.dateOperatorIsAfterOrEqual:h=`${a} >= ${e}'${l}'`;break;case s.operators.dateOperatorIsBetween:h=`${a} BETWEEN ${e}'${l}' AND ${e}'${p}'`;break;case s.operators.dateOperatorIsNotBetween:h=`${a} NOT BETWEEN ${e}'${l}' AND ${e}'${p}'`;break;case s.operators.dateOperatorIncludes:case s.operators.dateOperatorExcludes:{let t="",r="";c.forEach((s=>{t+=`${r}${e}'${"number"==typeof s?(0,o.a)(s):s}'`,r=","})),h=n===s.operators.numberOperatorIncludes?`${a} IN (${t})`:`${a} NOT IN (${t})`;break}case s.operators.dateOperatorIsBlank:h=`${a} IS NULL`;break;case s.operators.dateOperatorIsNotBlank:h=`${a} IS NOT NULL`}}else{const e=t.supportsStandardizedQuery?"timestamp ":"",i=r.fieldsIndex.getTimeZone(a)||"UTC",o=I(l,i),f=I(p,i);switch(n){case s.operators.dateOperatorIsOn:h=`${a} = ${e}'${o}'`;break;case s.operators.dateOperatorIsNotOn:h=`${a} <> ${e}'${o}'`;break;case s.operators.dateOperatorIsBefore:h=`${a} < ${e}'${o}'`;break;case s.operators.dateOperatorIsAfter:h=`${a} > ${e}'${o}'`;break;case s.operators.dateOperatorIsBeforeOrEqual:h=`${a} <= ${e}'${o}'`;break;case s.operators.dateOperatorIsAfterOrEqual:h=`${a} >= ${e}'${o}'`;break;case s.operators.dateOperatorInTheLast:h=`${a} BETWEEN ${$(t,d,l,u)}`;break;case s.operators.dateOperatorNotInTheLast:h=`${a} NOT BETWEEN ${$(t,d,l,u)}`;break;case s.operators.dateOperatorIsBetween:h=`${a} BETWEEN ${e}'${o}' AND ${e}'${f}'`;break;case s.operators.dateOperatorIsNotBetween:h=`${a} NOT BETWEEN ${e}'${o}' AND ${e}'${f}'`;break;case s.operators.dateOperatorIncludes:case s.operators.dateOperatorExcludes:{let t="",r="";c.forEach((s=>{t+=`${r}${e}'${I(s,i)}'`,r=","})),h=n===s.operators.dateOperatorIncludes?`${a} IN (${t})`:`${a} NOT IN (${t})`;break}case s.operators.dateOperatorIsBlank:h=`${a} IS NULL`;break;case s.operators.dateOperatorIsNotBlank:h=`${a} IS NOT NULL`}}return h}function I(e,t){const r=new Date(e),s=new Date(r.toLocaleString("en-US",{timeZone:t})),a=e=>String(e).padStart(2,"0"),i=a(s.getMonth()+1),o=a(s.getDate());return`${s.getFullYear()}-${i}-${o} ${a(s.getHours())}:${a(s.getMinutes())}:${a(s.getSeconds())}`}function $(e,t,r,s){const a=(0,i.m)(t)?"CURRENT_DATE":"CURRENT_TIMESTAMP";if(e.isHosted){let e=0;return e="year"===s?365*r:"month"===s?30*r:"week"===s?7*r:"day"===s?r:"hour"===s?r/24:r/1440,`${a} - ${e} AND ${a}`}{let e=0;return"year"===s?(e=365*r,`${a} - INTERVAL '${e}' DAY AND ${a}`):"month"===s?(e=30*r,`${a} - INTERVAL '${e}' DAY AND ${a}`):"week"===s?(e=7*r,`${a} - INTERVAL '${e}' DAY AND ${a}`):"day"===s?(e=r,`${a} - INTERVAL '${e}' DAY AND ${a}`):"hour"===s?`${a} - INTERVAL '${r}' HOUR AND ${a}`:`${a} - INTERVAL '${r}' MINUTE AND ${a}`}}async function N(e,t){const{layer:r,modules:s}=t;return!e?.length||(s.esriSql=s.esriSql||await(0,n.C)(),s.esriSql.parseWhereClause(e,r.fieldsIndex).then((e=>{const r=s.esriLang.clone(e);if(!r.isStandardized)return!1;t.expressions=[{conditions:[]}];const a=function(e,t){if(!t.expressions)return!1;return F(e)?O(e,t.expressions[0].conditions,t):(t.logicalOperatorForExpressions=x(e),O(e,t.expressions[0],t))}(r.parseTree,t);return t.expressions=(0,i.o)(t.expressions),a}),(e=>(console.error("SQLParser - error:",e),!1))))}function O(e,t,r){const{layer:s}=r;if(F(e)){if("column-reference"===e.left.type){const a=(0,i.g)(e.left.column,r),o=a?function(e,t,r,s){const{supportsCurrentUser:a,strings:o}=e;if(!r)return"";if(r.simpleFieldType===i.s.STRING)switch(t){case"=":return""===s.value?o.operators.stringOperatorIsEmpty:"current-user"===s.type?a?o.operators.stringOperatorIsCurrentUser:"":o.operators.stringOperatorIs;case"<>":return""===s.value?o.operators.stringOperatorIsNotEmpty:"current-user"===s.type?a?o.operators.stringOperatorIsNotCurrentUser:"":o.operators.stringOperatorIsNot;case"LIKE":return s.value.startsWith("%")&&s.value.endsWith("%")?(s.value=s.value.substring(1,s.value.length-1),o.operators.stringOperatorContains):s.value.endsWith("%")?(s.value=s.value.substring(0,s.value.length-1),o.operators.stringOperatorStartsWith):s.value.startsWith("%")?(s.value=s.value.substring(1),o.operators.stringOperatorEndsWith):o.operators.stringOperatorIs;case"NOT LIKE":return s.value.startsWith("%")&&s.value.endsWith("%")?s.value=s.value.substring(1,s.value.length-1):s.value.endsWith("%")?s.value=s.value.substring(0,s.value.length-1):s.value.startsWith("%")&&(s.value=s.value.substring(1)),o.operators.stringOperatorDoesNotContain;case"IS":return"null"===s.type?o.operators.stringOperatorIsBlank:o.operators.stringOperatorIs;case"ISNOT":case"IS NOT":return"null"===s.type?o.operators.stringOperatorIsNotBlank:o.operators.stringOperatorIs;case"IN":return o.operators.stringOperatorIncludes;case"NOT IN":case"NOTIN":return o.operators.stringOperatorExcludes}else if("number"===r.simpleFieldType||"oid"===r.simpleFieldType)switch(t){case"=":return o.operators.numberOperatorIs;case"<>":return o.operators.numberOperatorIsNot;case">=":return o.operators.numberOperatorIsAtLeast;case"<":return o.operators.numberOperatorIsLessThan;case"<=":return o.operators.numberOperatorIsAtMost;case">":return o.operators.numberOperatorIsGreaterThan;case"BETWEEN":return o.operators.numberOperatorIsBetween;case"NOT BETWEEN":case"NOTBETWEEN":return o.operators.numberOperatorIsNotBetween;case"IS":return"null"===s.type?o.operators.numberOperatorIsBlank:o.operators.numberOperatorIs;case"ISNOT":case"IS NOT":return"null"===s.type?o.operators.numberOperatorIsNotBlank:o.operators.numberOperatorIs;case"IN":return o.operators.numberOperatorIncludes;case"NOT IN":case"NOTIN":return o.operators.numberOperatorExcludes}else switch(t){case"=":return o.operators.dateOperatorIsOn;case"<>":return o.operators.dateOperatorIsNotOn;case"<":return o.operators.dateOperatorIsBefore;case">":return o.operators.dateOperatorIsAfter;case"<=":return o.operators.dateOperatorIsBeforeOrEqual;case">=":return o.operators.dateOperatorIsAfterOrEqual;case"BETWEEN":return"current-time"===s.value[0]?.left?.type?o.operators.dateOperatorInTheLast:o.operators.dateOperatorIsBetween;case"NOT BETWEEN":case"NOTBETWEEN":return"current-time"===s.value[0]?.left?.type?o.operators.dateOperatorNotInTheLast:o.operators.dateOperatorIsNotBetween;case"IS":if("null"===s.type)return o.operators.dateOperatorIsBlank;break;case"ISNOT":case"IS NOT":if("null"===s.type)return o.operators.dateOperatorIsNotBlank;break;case"IN":return o.operators.dateOperatorIncludes;case"NOT IN":case"NOTIN":return o.operators.dateOperatorExcludes}return""}(r,e.operator,a,e.right):void 0;if(!a||!o)return!1;{let n;if("null"===e.right.type)n={fieldName:a.layerField.name,operator:o};else{if("column-reference"===e.right.type)return!1;if("expression-list"===e.right.type&&(0,i.b)(r,o)){if("imagery"===s.type)return!1;if((0,i.k)(a)){const t=s.fieldsIndex.getTimeZone(a.layerField.name)||"UTC";n={fieldName:a.layerField.name,operator:o,values:e.right.value.map((e=>w(e.value,t)))}}else n=(0,i.m)(a)?{fieldName:a.layerField.name,operator:o,values:e.right.value.map((e=>C(e.value)))}:(0,i.n)(a)?{fieldName:a.layerField.name,operator:o,values:e.right.value.map((e=>T(e.value)))}:{fieldName:a.layerField.name,operator:o,values:e.right.value.map((e=>e.value))}}else if("expression-list"===e.right.type&&(0,i.c)(r,o)){const t=function(e){const t=e.right.value[0].right;let r=t.value;if("interval"!==t.type){if(Number.isNaN(r))return null;if(r%365==0)return{value:r/365,unit:"year"};if(r%30==0)return{value:r/30,unit:"month"};if(r%7==0)return{value:r/7,unit:"week"};if(r%1==0)return{value:r,unit:"day"};{const e=Math.round(24*r*60);return e%60==0?{value:Math.round(24*r),unit:"hour"}:{value:e,unit:"minute"}}}if(r="string"===t.value.type?Number.parseFloat(t.value.value):t.value.value,"day"===t.qualifier.period){if(r%365==0)return{value:r/365,unit:"year"};if(r%30==0)return{value:r/30,unit:"month"};if(r%7==0)return{value:r/7,unit:"week"};if(r%1==0)return{value:r,unit:"day"}}else{if("hour"===t.qualifier.period)return{value:r,unit:"hour"};if("minute"===t.qualifier.period)return{value:r,unit:"minute"}}}(e);if(!t)return!1;n={fieldName:a.layerField.name,operator:o,value:t.value,unit:t.unit}}else if("expression-list"===e.right.type&&(0,i.i)(r,o))if((0,i.k)(a)){const t=s.fieldsIndex.getTimeZone(a.layerField.name)||"UTC";n={fieldName:a.layerField.name,operator:o,value:w(e.right.value[0].value,t),value2:w(e.right.value[1].value,t)}}else n=(0,i.m)(a)?{fieldName:a.layerField.name,operator:o,value:C(e.right.value[0].value),value2:C(e.right.value[1].value)}:(0,i.n)(a)?{fieldName:a.layerField.name,operator:o,value:T(e.right.value[0].value),value2:T(e.right.value[1].value)}:{fieldName:a.layerField.name,operator:o,value:e.right.value[0].value,value2:e.right.value[1].value};else if("timestamp"===e.right.type)if(a.simpleFieldType===i.s.DATE_ONLY)n={fieldName:a.layerField.name,operator:o,value:e.right.value?.substring(0,10)};else{const t=s.fieldsIndex.getTimeZone(a.layerField.name)||"UTC";n={fieldName:a.layerField.name,operator:o,value:w(e.right.value,t)}}else if("date"===e.right.type)if("date-only"===a.layerField.type)n={fieldName:a.layerField.name,operator:o,value:C(e.right.value)};else{const t=s.fieldsIndex.getTimeZone(a.layerField.name)||"UTC";n={fieldName:a.layerField.name,operator:o,value:w(e.right.value,t)}}else n="time"===e.right.type?{fieldName:a.layerField.name,operator:o,value:T(e.right.value)}:{fieldName:a.layerField.name,operator:o,value:e.right.value}}t.push(n)}return!0}return!1}{let s;if(r.expressions=r.expressions||[],F(e.left)&&F(e.right))t.logicalOperatorForConditions=x(e),s=O(e.left,t.conditions,r),s=s&&O(e.right,t.conditions,r);else if(F(e.left))if(e.operator===e.right.operator&&F(e.right.left)&&F(e.right.right))t.logicalOperatorForConditions=x(e),s=O(e.left,t.conditions,r),s=s&&O(e.right,t,r);else{s=O(e.left,t.conditions,r);const a={conditions:[]};r.expressions.push(a),s=s&&O(e.right,a,r)}else if(F(e.right))if(e.operator===e.left.operator&&F(e.left.right)&&(F(e.left.left)||e.left.operator===e.left.left?.operator))t.logicalOperatorForConditions=x(e),s=O(e.left,t,r),s=s&&O(e.right,t.conditions,r);else{s=O(e.left,t,r);const a={conditions:[]};r.expressions.push(a),s=s&&O(e.right,a.conditions,r)}else if(e.operator===e.right.operator&&e.operator===e.left.operator&&(F(e.left.left)||!F(e.left.left)&&e.left.left.operator===e.operator))t.logicalOperatorForConditions=x(e),s=O(e.left,t,r),s=s&&O(e.right,t,r);else{s=O(e.left,t,r);const a={conditions:[]};r.expressions.push(a),s=s&&O(e.right,a,r)}return s}}function F(e){return"binary-expression"!==e.type||"OR"!==e.operator&&"AND"!==e.operator}function x(e){return"OR"===e.operator.toUpperCase()?i.l.OR:i.l.AND}function w(e,t){return o.D.fromFormat(e,"yyyy-MM-dd TT",{numberingSystem:"latn",zone:t}).toMillis()}function T(e){return(0,o.t)(e)}function C(e){return new Date(`${e} 00:00:00`).getTime()}const k=class{constructor(e){(0,s.r)(this,e),this.arcgisChange=(0,s.c)(this,"arcgisChange",7),this.arcgisFilterWhereChange=(0,s.c)(this,"arcgisFilterWhereChange",7),this.arcgisSave=(0,s.c)(this,"arcgisSave",7),this.arcgisFilterSave=(0,s.c)(this,"arcgisFilterSave",7),this.arcgisCancel=(0,s.c)(this,"arcgisCancel",7),this.arcgisFilterCancel=(0,s.c)(this,"arcgisFilterCancel",7),this.arcgisClose=(0,s.c)(this,"arcgisClose",7),this.arcgisFilterDismissedChange=(0,s.c)(this,"arcgisFilterDismissedChange",7),this.arcgisDone=(0,s.c)(this,"arcgisDone",7),this.arcgisFilterDone=(0,s.c)(this,"arcgisFilterDone",7),this.arcgisPanelBackClick=(0,s.c)(this,"arcgisPanelBackClick",7),this.arcgisFilterPanelBackClick=(0,s.c)(this,"arcgisFilterPanelBackClick",7),this._closePopovers=(0,s.c)(this,"_closePopovers",7),this.arcgisExpressionChanged=(0,s.c)(this,"arcgisExpressionChanged",7),this.arcgisFilterExpressionChanged=(0,s.c)(this,"arcgisFilterExpressionChanged",7),this.manager=(0,l.u)(this),this.layerHasFeatureEffect=!1,this.properClose=!1,this.strings=(0,p.u)({blocking:!0}),this.applyFilter=()=>{const{props:e}=this,{layerView:t,layer:r,labelClass:s,originalLayer:a,mode:o}=e;if(this._closePopovers.emit(),"basic"===o){const t=b(e);this.properClose=!0,this.arcgisFilterSave.emit(t),this.arcgisSave.emit(t)}else if((0,i.a)(s))this.properClose=!0,this.arcgisFilterSave.emit(),this.arcgisSave.emit();else if("layer-view"===o){const t=b(e);this.properClose=!0,this.arcgisFilterSave.emit(t),this.arcgisSave.emit(t)}else if("effects"===o);else if(r){const s=b(e);(a||r).definitionExpression=s,"featureEffect"in r&&this.isAllowedFeatureEffect()?r.featureEffect=null:t&&"filter"in t&&(t.filter=null),(0,i.p)(e),this.properClose=!0,this.arcgisFilterSave.emit(),this.arcgisSave.emit(),this.componentStateInvalid=!0}},this.cancelFilter=()=>{this.revertFilter(),this._closePopovers.emit(),this.properClose=!0,this.arcgisFilterCancel.emit(),this.arcgisCancel.emit()},this.closeFilter=()=>{this.applyFilter(),this._closePopovers.emit(),this.properClose=!0,this.arcgisFilterDismissedChange.emit(),this.arcgisClose.emit()},this.onAddExpression=()=>{const{props:e}=this,{expressions:t}=e,r=(0,i.q)(e);if(!r)return;const s=(0,i.y)(e,r),a=(0,i.r)(e,r,s),o={conditions:[{fieldName:r.layerField.name,operator:s,...a,hasFocus:!0}]};e.expressions=t?(0,i.o)([...t.map((e=>({...e,conditions:e.conditions.map((e=>({...e,hasFocus:!1})))}))),o]):(0,i.o)([o]),(0,i.a)(a.value)&&(this.arcgisFilterExpressionChanged.emit({type:"replace",expression:o}),this.arcgisExpressionChanged.emit({type:"replace",expression:o})),this.reRender=!this.reRender},this.onMatchSelect=e=>{const{props:t}=this,r=e.target;t.logicalOperatorForExpressions=r.selectedOption.value,this.reRender=!this.reRender,this.applyFilterToLayer()},this.onRemoveFilter=()=>{const{props:e}=this;e.invalidFilter=!1,e.expressions=void 0,this.reRender=!this.reRender,this.applyFilterToLayer()},this.focusByClass=()=>{const e=this.el.querySelector("arcgis-filter .autofocus");e&&(e.nodeName.startsWith("CALCITE-")?e.setFocus():e?.focus())},this.view=void 0,this.layer=void 0,this.labelClass=void 0,this.mode=void 0,this.whereClause=void 0,this.viewFilter=void 0,this.featureReduction=void 0,this.hideLayerTitle=!1,this.panelHeading=void 0,this.tipHeading=void 0,this.noFilterMsg=void 0,this.tipMsg=void 0,this.invalidHeading=void 0,this.invalidMsg=void 0,this.newButtonLabel=void 0,this.clearText=void 0,this.leadingText=void 0,this.defaultFieldName=void 0,this.defaultOperator=void 0,this.defaultExpression=!1,this.hideButtons=!1,this.panelMaxHeight=void 0,this.closable=!1,this.dismissible=!1,this.withinModal=!1,this.menuOpen=!1,this.showBackButton=!1,this.selected=!1,this.beforeBack=void 0,this.props=void 0,this.reRender=!1,this.componentStateInvalid=!1}arcgisExpressionChangedHandler(e){const{props:t}=this,{expressions:r,modules:s}=t,{detail:a}=e;if("copy"===a.type){const o=e.detail.expression;let n;t.expressions=t.expressions.map((e=>e.uid===o.uid?o:e)),t.expressions=r.map((e=>({...e,conditions:e.conditions.map((e=>({...e,hasFocus:!1})))}))),t.expressions.forEach((e=>{e.uid===a.uid&&(n=s.esriLang.clone({...e}),n.conditions[0].hasFocus=!0)})),t.expressions=(0,i.o)([...t.expressions,n]),this.reRender=!this.reRender}else if("delete"===a.type){let e=0;r.forEach(((t,r)=>{t.uid===a.uid?e=r:t.conditions.forEach((e=>e.hasFocus=!1))})),t.expressions=r.filter((e=>e.uid!==a.uid)),t.expressions?.length?(t.expressions[Math.max(0,e-1)].conditions[0].hasFocus=!0,t.expressions=(0,i.o)([...t.expressions]),setTimeout((()=>this.focusByClass()),500)):setTimeout((()=>this.fabNode?.setFocus()),500),this.reRender=!this.reRender}else{const r=e.detail.expression;t.expressions=t.expressions.map((e=>e.uid===r.uid?{...r}:e))}this.applyFilterToLayer()}disablePanelHandler(e){"disabled"in this.panelNode&&(this.panelNode.disabled=e.detail)}async setFocus(){this.panelNode&&"setFocus"in this.panelNode?this.panelNode.setFocus():this.panelNode?.focus()}async done(){this.componentStateInvalid||(this.applyFilter(),this._closePopovers.emit(),this.properClose=!0,this.arcgisFilterDone.emit(),this.arcgisDone.emit())}async closePopovers(){this._closePopovers.emit()}async openPanel(){"closed"in this.panelNode&&(this.panelNode.closed=!1)}async componentWillLoad(){console.warn("%cmap-config-components","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",'[arcgis-filter] component in @arcgis/map-config-components is deprecated and will be removed for 2025.R3. Use "arcgis-common-sql-expression-config" from @arcgis/common-components instead.'),this.tipMsg&&!this.noFilterMsg&&(this.noFilterMsg=this.tipMsg),this.featureReduction&&(this.mode="feature-reduction"),this.dismissible&&!this.closable&&(this.closable=!0);let e=this.withinModal;if(!e){(0,a.f)(this.el,"calcite-dialog")&&(e=!0)}"subtype-sublayer"===this.layer.type&&"basic"!==this.mode&&(console.error('SubtypeSublayer is only supported with mode "basic"'),this.componentStateInvalid=!0),this.props={expressions:void 0,logicalOperatorForExpressions:"and",fields:[],operators:void 0,invalidFilter:!1,featureCount:-1,stringFieldsCount:0,dateFieldsCount:0,numberFieldsCount:0,isHosted:!1,supportsStandardizedQuery:!1,supportedSqlParserVersion:!1,supportsCurrentUser:!1,layer:this.layer,view:this.view,labelClass:this.labelClass,strings:this.strings,inputDefinitionExpression:void 0,backgroundTheme:"light",lastWhere:void 0,defaultFieldName:this.defaultFieldName,defaultOperator:this.defaultOperator,insideDialog:e,mode:this.mode,modules:{reactiveUtils:await(0,n.l)(),colorUtils:await(0,n.y)(),ImageryLayer:await(0,n.D)(),FeatureLayer:await(0,n.E)(),FeatureEffect:await(0,n.A)(),Query:await(0,n.F)(),esriConfig:await(0,n.j)(),esriLang:await(0,n.o)(),esriRequest:await(0,n.p)(),intl:await(0,n.z)(),arcade:await(0,n.G)()}};const{view:t,layer:r}=this,{props:s}=this,{modules:o}=s,l=r;if("esri.layers.support.Sublayer"===l.declaredClass){const e=l;t&&await o.reactiveUtils.whenOnce((()=>!t.updating));const r=await e.createFeatureLayer();await r.load(),this.props={...s,layer:r,mapImageSublayer:e}}else if("imagery"===l.type||"subtype-group"===l.type||"subtype-sublayer"===l.type||"catalog"===l.type||"catalog-footprint"===l.type)this.props={...s,layer:l};else if(!t||"feature"===l.type&&l.isTable){let e;e=new o.FeatureLayer({url:l.url,layerId:l.layerId,popupTemplate:l.popupTemplate}),await e.load(),this.props={...s,layer:e,originalLayer:l}}else this.props={...s,layer:l};const{labelClass:p,mode:c}=this.props,u="feature-reduction"===c?r.featureReduction.labelingInfo:r.labelingInfo;!(0,i.a)(p)||u?.length?await this.processLayer():console.log("can't find labelClass")}componentDidLoad(){const{props:e,defaultExpression:t}=this;!e.expressions?.length&&t&&this.onAddExpression(),requestAnimationFrame((()=>this.setFocus())),this.watchForEdits()}disconnectedCallback(){this.properClose?this._closePopovers.emit():(this.applyFilter(),"layer-view"===this.props.mode&&(0,i.p)(this.props)),this.editsHandle?.remove()}render(){const{props:e,hideLayerTitle:t,panelHeading:r,componentStateInvalid:a,closable:i,el:o,panelMaxHeight:n}=this,{layer:l,mapImageSublayer:p,invalidFilter:c,mode:u,strings:d}=e,h=p?p.title:l.title;return a?(0,s.h)("div",null):l?c?this.renderInvalidFilter():"basic"===u?(0,s.h)("div",{class:"content-div",ref:t=>{this.panelNode=t,e.panelNode=t}},this.renderContent()):"CALCITE-FLOW"===o.parentElement?.tagName||"CALCITE-FLOW"===o.parentElement?.parentElement?.tagName?(0,s.h)(s.H,{class:"flow-item-host"},(0,s.h)("calcite-flow-item",{loading:!1,heading:r||d.title,description:t?void 0:h??void 0,style:n?{maxHeight:n}:void 0,closable:i,selected:this.selected,showBackButton:!i,ref:t=>{this.panelNode=t,e.panelNode=t},onCalciteFlowItemBack:()=>{if("layer-view"===u){const t=b(e);this.arcgisFilterPanelBackClick.emit(t),this.arcgisPanelBackClick.emit(t)}else this.arcgisFilterPanelBackClick.emit(),this.arcgisPanelBackClick.emit()},onCalciteFlowItemClose:()=>this.closeFilter()},this.renderContent())):(this.selected=!0,(0,s.h)(s.H,null,(0,s.h)("calcite-panel",{loading:!1,heading:r||d.title,description:t?void 0:h??void 0,style:n?{maxHeight:n}:void 0,closable:i,ref:t=>{this.panelNode=t,e.panelNode=t},onCalcitePanelClose:()=>this.closeFilter()},this.renderContent()))):this.renderLoading()}renderContent(){return(0,s.h)(s.F,null,this.renderFooterButtons(),this.renderHeaderInfo(),this.renderMatchExpressionMsg(),this.renderExpressions(),this.renderTip(),this.renderAddExpression())}renderFooterButtons(){const{props:e,hideButtons:t}=this,{labelClass:r,mode:a}=e,o=(0,i.a)(r);return t||o||a&&["layer-view","basic"].includes(a)?(0,s.h)(s.F,null):(0,s.h)("div",{slot:"footer",class:"footer-buttons"},this.renderSaveButton(),this.renderCancelButton())}renderSaveButton(){const{props:e}=this,{strings:t}=e;return(0,s.h)("calcite-button",{onClick:this.applyFilter,appearance:"solid",width:"half",label:t.save},t.save)}renderCancelButton(){const{props:e}=this,{strings:t}=e;return(0,s.h)("calcite-button",{onClick:this.cancelFilter,appearance:"outline-fill",width:"half",label:t.cancel},t.cancel)}renderHeaderInfo(){const{props:e,leadingText:t,clearText:r}=this,{strings:a,expressions:i}=e;return i?.length?(0,s.h)("div",{class:h},(0,s.h)("calcite-label",{class:"heading",layout:"inline-space-between"},t||a.showFeaturesWhere,(0,s.h)("calcite-button",{class:"clear",appearance:"transparent",onClick:this.onRemoveFilter},r||a.clearAll))):(0,s.h)(s.F,null)}renderLoading(){const{props:e,hideLayerTitle:t,panelHeading:r}=this,{layer:a,mapImageSublayer:i,mode:o,strings:n}=e,l=i?i.title:a.title;return"basic"===o?(0,s.h)("div",null):(0,s.h)(s.H,null,(0,s.h)("calcite-panel",{heading:r||n.title,description:t?void 0:l??void 0,loading:!0}))}renderInvalidFilter(){const{props:e,hideLayerTitle:t,closable:r,panelHeading:a,el:i}=this,{layer:o,mapImageSublayer:n,mode:l,strings:p}=e,c=n?n.title:o.title;return"basic"===l?(0,s.h)("div",{ref:this.focusByClass},this.renderInvalidContent()):"CALCITE-FLOW"===i.parentElement?.tagName||"CALCITE-FLOW"===i.parentElement?.parentElement?.tagName?(0,s.h)(s.H,null,(0,s.h)("calcite-flow-item",{heading:a||p.title,description:t?void 0:c??void 0,loading:!1,closable:r,ref:this.focusByClass,onCalciteFlowItemBack:()=>{this.arcgisFilterPanelBackClick.emit(),this.arcgisPanelBackClick.emit()},onCalciteFlowItemClose:()=>this.closeFilter()},this.renderInvalidContent())):(0,s.h)(s.H,null,(0,s.h)("calcite-panel",{heading:a||p.title,description:t?void 0:c??void 0,loading:!1,closable:r,ref:this.focusByClass,onCalcitePanelClose:()=>this.closeFilter()},this.renderInvalidContent()))}renderInvalidContent(){return(0,s.h)(s.F,null,this.renderFooterButtons(),this.renderInvalidFilterMsg())}renderInvalidFilterMsg(){const{invalidHeading:e,invalidMsg:t,newButtonLabel:r,props:a}=this,{strings:i}=a;return(0,s.h)("div",{class:y},(0,s.h)("calcite-notice",{scale:"s",width:"full",kind:"danger",icon:"exclamation-mark-triangle",open:!0},(0,s.h)("div",{slot:"title"},e||i.errors.problemDisplayingFilter),(0,s.h)("div",{slot:"message"},t||i.errors.problemDisplayingFilterMsg),(0,s.h)("calcite-link",{slot:"link",onClick:this.onRemoveFilter},r||i.createNewFilter)))}renderMatchExpressionMsg(){const{props:e}=this,{expressions:t,logicalOperatorForExpressions:r,strings:a}=e;if(!t?.length)return(0,s.h)(s.F,null);const o=r===i.l.AND;return t.length>1?(0,s.h)("div",{class:f},(0,s.h)("calcite-label",{class:"no-space",scale:"m"},(0,s.h)("calcite-select",{width:"full",scale:"m",label:a.accessibility.matchType,class:g,onCalciteSelectChange:this.onMatchSelect},(0,s.h)("calcite-option",{value:i.l.AND,label:a.matchAll,selected:o}),(0,s.h)("calcite-option",{value:i.l.OR,label:a.matchAtLeastOne,selected:!o})))):null}renderExpressions(){const{props:e}=this,{expressions:t}=e;return t?.length?(0,s.h)("div",null,t.map(((e,t)=>this.renderExpression(e,t)))):(0,s.h)(s.F,null)}renderExpression(e,t){const{props:r}=this;return(0,s.h)("div",null,this.renderLogicalOperatorExpression(t),(0,s.h)("arcgis-filter-expression",{props:r,ref:this.focusByClass,...e}))}renderLogicalOperatorExpression(e){const{props:t}=this,{logicalOperatorForExpressions:r,strings:a}=t;return 0===e?(0,s.h)(s.F,null):(0,s.h)("div",{class:m},(0,s.h)("span",null,r===i.l.OR?a.or:a.and))}renderAddExpression(){const{props:e}=this,{mode:t}=e;return"basic"===t?(0,s.h)("div",{class:"fab-without-panel"},this.renderAddExpressionFab()):this.renderAddExpressionFab()}renderAddExpressionFab(){const{props:e,hideButtons:t}=this,{expressions:r,strings:a}=e;return(0,s.h)("calcite-fab",{class:{autofocus:!r?.length,"fab-padding":t},slot:"fab",appearance:"outline-fill",kind:"neutral",icon:"plus",textEnabled:!0,text:a.addNew,onClick:this.onAddExpression,ref:e=>this.fabNode=e})}renderTip(){const{props:e,noFilterMsg:t}=this,{mapImageSublayer:r,expressions:a,labelClass:o,mode:n,strings:l}=e;if(a?.length)return(0,s.h)(s.F,null);const p=(0,i.a)(o);return(0,s.h)("div",{class:c},!t&&(0,s.h)("calcite-icon",{class:u,icon:"layer-filter"}),(0,s.h)("div",{class:d},t||(p?l.tips.emptyMsgLabels:r||"layer-view"===n?l.tips.emptyMsgMS:l.tips.emptyMsg)))}async processLayer(){const{props:e,viewFilter:t,hideButtons:r}=this,{layer:s,mapImageSublayer:a,originalLayer:o,view:n,labelClass:l,mode:p,modules:c}=e;if(!n||a||"imagery"===s.type||"subtype-group"===s.type||"subtype-sublayer"===s.type||"sublayer"===s.type||"catalog"===s.type||"catalog-footprint"===s.type||"feature"===s.type&&s.isTable||(e.layerView=await n.whenLayerView(s)),(0,i.t)(e),await(0,i.u)(e),await async function(e){const{layer:t,modules:r}=e;if(["feature","sublayer","wfs","csv","geojson","subtype-group","oriented-imagery","catalog","catalog-footprint","knowledge-graph"].includes(t.type)){const s=t,a=new r.Query({where:"1=1"});e.featureCount=await s.queryFeatureCount(a)}}(e),(0,i.v)(e),e.backgroundTheme=n&&await c.colorUtils.getBackgroundColorTheme(n),this.layerHasFeatureEffect=s.featureEffect,"basic"===p||"subtype-sublayer"===s.type){e.inputDefinitionExpression=this.whereClause,e.lastWhere=e.inputDefinitionExpression;const t=await N(e.inputDefinitionExpression,e);e.invalidFilter=!t,this.reRender=!this.reRender}else if((0,i.a)(l)&&l.where){e.inputDefinitionExpression=l.where,e.lastWhere=e.inputDefinitionExpression;const t=await N(e.inputDefinitionExpression,e);e.invalidFilter=!t,this.reRender=!this.reRender}else if("layer-view"===p){if(t){const r=await N(t,e);e.invalidFilter=!r,r&&this.applyFilterToLayer(!0),this.reRender=!this.reRender}}else if("effects"===p){if(e.invalidFilter=!1,s.featureEffect){e.inputDefinitionExpression=s.featureEffect.filter?.where,e.lastWhere=e.inputDefinitionExpression;const t=await N(e.inputDefinitionExpression,e);e.invalidFilter=!t,this.reRender=!this.reRender}}else if((0,i.a)(l)||!(0,i.a)(s.definitionExpression)&&!(0,i.a)(o?.definitionExpression))if(r){e.inputDefinitionExpression=s.definitionExpression??void 0,e.lastWhere=e.inputDefinitionExpression;const t=await N(e.inputDefinitionExpression,e);e.invalidFilter=!t,this.reRender=!this.reRender}else e.invalidFilter=!1;else{e.inputDefinitionExpression=(o||s).definitionExpression??void 0;const t=await N(e.inputDefinitionExpression,e);e.invalidFilter=!t,t&&this.applyFilterToLayer(!0),this.reRender=!this.reRender,!n||"imagery"===s.type||"subtype-group"===s.type||"catalog"===s.type||"catalog-footprint"===s.type||"feature"===s.type&&s.isTable||(s.definitionExpression=null)}}revertFilter(){const{props:e,viewFilter:t}=this,{layer:r,layerView:s,labelClass:a,inputDefinitionExpression:o,mapImageSublayer:n,originalLayer:l,backgroundTheme:p,mode:c,modules:u}=e,d=this.getLabelClassIndex();if("basic"===c);else if("imagery"!==r.type&&"subtype-group"!==r.type&&"subtype-sublayer"!==r.type&&"catalog"!==r.type&&"catalog-footprint"!==r.type&&"sublayer"!==r.type&&(0,i.a)(a))a.where=o,"feature-reduction"===c?(r.featureReduction=u.esriLang.clone(r.featureReduction),e.labelClass=r.featureReduction.labelingInfo[d]):r.labelingInfo=u.esriLang.clone(r.labelingInfo),n&&(n.labelingInfo=r.labelingInfo);else if("layer-view"===c){if("feature"===r.type)if(t)if((0,i.w)(r.featureEffect)){const e="light"===p?100:65;r.featureEffect=new u.FeatureEffect({filter:{where:t},excludedEffect:`grayscale(100%) opacity(30%) brightness(${e}%)`})}else r.featureEffect.filter.where=t,r.featureEffect=r.featureEffect.clone();else r.featureEffect?.filter?.where?(r.featureEffect.filter.where=null,(0,i.w)(r.featureEffect)?r.featureEffect=null:r.featureEffect=r.featureEffect.clone()):r.featureEffect=null}else if("effects"===c);else if(r){if(n?n.definitionExpression=o:(l||r).definitionExpression=o,this.isAllowedFeatureEffect()){const e=r;e.featureEffect?.filter?.where&&(e.featureEffect.filter.where=null,(0,i.w)(e.featureEffect)?e.featureEffect=null:e.featureEffect=e.featureEffect.clone())}else s&&"filter"in s&&(s.filter=null);this.componentStateInvalid=!0}}applyFilterToLayer(e){const{props:t,layerViewWaitHandler:r,hideButtons:s,mode:a}=this,{backgroundTheme:o,labelClass:n,layer:l,view:p,layerView:c,mapImageSublayer:u,originalLayer:d,lastWhere:h,modules:f}=t,g=b(t)||void 0;if(e||g===h||(this.arcgisFilterWhereChange.emit(g),this.arcgisChange.emit(g)),t.lastWhere=g,"basic"!==a&&!(0,i.a)(n))if("imagery"!==l.type&&"subtype-group"!==l.type&&"catalog"!==l.type&&"catalog-footprint"!==l.type){if(!s)if(u)u.definitionExpression=g;else if(!p||"feature"===l.type&&l.isTable)d.definitionExpression=b(t);else if(r&&(clearTimeout(r),this.layerViewWaitHandler=void 0),c)if(g?.length)if("featureEffect"in l&&this.isAllowedFeatureEffect())if((0,i.w)(l.featureEffect)){const e="light"===o?100:65;l.featureEffect=new f.FeatureEffect({filter:{where:g},excludedEffect:`grayscale(100%) opacity(30%) brightness(${e}%)`})}else l.featureEffect.filter=l.featureEffect.filter||{},l.featureEffect.filter.where=g,l.featureEffect=l.featureEffect.clone();else"filter"in c&&(c.filter={where:g});else"featureEffect"in l&&this.isAllowedFeatureEffect()?l.featureEffect?.filter?.where&&(l.featureEffect.filter.where=null,(0,i.w)(l.featureEffect)?l.featureEffect=null:l.featureEffect=l.featureEffect.clone()):"filter"in c&&(c.filter=null);else this.layerViewWaitHandler=setTimeout((()=>{this.applyFilterToLayer()}),500)}else l.definitionExpression=g}isAllowedFeatureEffect(){const{props:e,layerHasFeatureEffect:t}=this,{layer:r,featureCount:s,mode:a}=e;return!(s>5e5)&&(["feature","geojson","ogc-feature","wfs","csv","stream","knowledge-graph-sublayer"].includes(r.type)&&!r.featureReduction&&"effects"!==a&&"basic"!==a&&(!t||"layer-view"===a))}getLabelClassIndex(){const{props:e}=this,{layer:t,labelClass:r,mode:s}=e;let a=-1;const i="feature"===t.type&&("feature-reduction"===s?t.featureReduction.labelingInfo:t.labelingInfo);return r&&i.forEach(((e,t)=>{JSON.stringify(e.toJSON())===JSON.stringify(r.toJSON())&&(a=t)})),a}watchForEdits(){const{props:e}=this,{layer:t}=e;if("feature"===t.type||"subtype-group"===t.type||"subtype-sublayer"===t.type){let r;r="subtype-sublayer"===t.type?t.parent:t,r?.editingEnabled&&(this.editsHandle?.remove(),this.editsHandle=r?.on("edits",(t=>{(t.updatedFeatures?.length||t.addedFeatures?.length||t.deletedFeatures?.length)&&(e.fields.forEach((e=>{e.statisticsStatus=i.x.MISSING,e.histogramStatus=i.x.MISSING,e.uniqueValuesStatus=i.x.MISSING})),this.el.shadowRoot?.querySelectorAll("arcgis-filter-expression").forEach((e=>e.onEdits())))})))}}static get assetsDirs(){return["assets"]}get el(){return(0,s.a)(this)}};k.style=":host {\n  display: flex;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n:host([selected]) {\n  display: flex !important;\n}\n:host.flow-item-host {\n  display: none;\n}\n.content-div {\n  width: 100%;\n}\n.fab-padding {\n  padding-bottom: 1rem;\n}\n.fab-without-panel {\n  padding: 1rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n.notice {\n  margin: 8px;\n}\n.empty-msg {\n  margin: 40px 10px 0 10px;\n}\n.msg-icon,\n.tip-msg {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 30px;\n}\n.tip-msg {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.header-info {\n  padding: 8px 0 8px 15px;\n}\n.match-expression-dropdown {\n  width: 100%;\n}\n.match-expression-msg {\n  padding: 12px;\n}\n.match-type {\n  display: flex;\n  align-items: flex-start;\n  margin: 10px 22px 8px 22px;\n}\n\n:dir(rtl) {\n  .match-type {\n    align-items: flex-end;\n  }\n\n  .header-info {\n    padding-left: 0;\n    padding-right: 15px;\n  }\n}\n\n.heading {\n  --calcite-label-margin-bottom: 0;\n  font-weight: bold;\n}\n.clear {\n  margin: 0 4px;\n}\n.footer-buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n}\n"}}]);