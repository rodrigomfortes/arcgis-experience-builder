/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--caa4f7.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--caa4f7"],{10465:(e,t,i)=>{i.d(t,{D:()=>n,a:()=>h,b:()=>o,c:()=>r,g:()=>m,s:()=>v});class n{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const a=(e,t,i)=>(0,l(t).subscribe)((t=>{const n=t.some((t=>((e,t)=>{let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e,t.target)));n&&i()})),s={},l=e=>{const t=e.join(","),i=s[t];if(void 0!==i)return i;const n=new Set,a=new MutationObserver((e=>n.forEach((t=>t(e)))));globalThis.document&&a.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const l={subscribe:e=>(n.add(e),()=>{n.delete(e),0===n.size&&(a.disconnect(),s[t]=void 0)})};return s[t]=l,l},r=(e,t)=>{let i=e;for(;i;){const e=i.closest?.(t);if(e)return e;const n=i.getRootNode?.();if(n===globalThis.document)return null;i=n.host}return null},o=e=>c(e,"dir","ltr"),c=(e,t,i)=>{const n=r(e,`[${t}]`);return n?.getAttribute(t)??i},d=e=>{let t="";for(let i=0;i<e;i++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},h=()=>[d(2),d(1),d(1),d(1),d(3)].join("-"),p="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),g=new Set(p),u="en",b={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},f={},y=async(e,t)=>{const i=`${t}${e}.json`;try{const e=await fetch(i);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===u?{}:await y(u,t)},m=e=>{const t=c(e,"lang",globalThis.navigator?.language||u);return{lang:t,t9nLocale:w(t)}},w=e=>{const[t,i]=e.split("-"),n=t.toLowerCase();let a=n;return i&&(a=`${n}-${i.toUpperCase()}`),a=b[a]??a,g.has(a)?a:i?w(n):u},v=(e,t,i,n)=>{let s;const l=()=>F(e,t(),n).then((e=>{s?.lang===e.lang&&s.t9nLocale===e.t9nLocale&&s.t9nStrings===e.t9nStrings||i(e),s=e})).catch(console.error);return queueMicrotask(l),a(e,["lang"],l)},F=async(e,t,i=e.localName.split("-").slice(1).join("-"))=>{const{lang:n,t9nLocale:a}=m(e),s=`${t}/${i}/t9n`,l=null===i?{}:await(async(e,t,i="")=>{const n=`${t}/${i}`,a=`${n}${e}.json`;return f[a]??(f[a]=y(e,n)),await f[a]})(a,s,"messages.");return{lang:n,t9nLocale:a,t9nStrings:l}}},84260:(e,t,i)=>{i.d(t,{u:()=>l});var n=i(11254),a=i(10465),s=i(14528);function l({propertyName:e="strings",name:t}){let i=(0,s.r)();const l=(0,a.g)(i.el),o=new a.D,c={_lang:l.lang,_t9nLocale:l.t9nLocale};i.manager.onLoad((()=>o.promise));const d=new WeakRef(i);function h(){const e=d.deref();return e||g?.(),e}i=void 0;const p=r((()=>h()?.el)),g=(0,a.s)(p,(()=>(0,n.g)("./assets")),(({t9nLocale:t,t9nStrings:i,lang:n})=>{const a=h();if(!a)return;a[e]={...i,_lang:n,_t9nLocale:t},o.resolve()}),t);return c}const r=e=>new Proxy({},{get(t,i){const n=e();if(!n)return;const a=Reflect.get(n,i,n);return"function"==typeof a?a.bind(n):a}})},96128:(e,t,i)=>{i.r(t),i.d(t,{arcgis_map_config_display_filter:()=>c});var n=i(11254),a=i(14528),s=i(10465),l=i(84260),r=i(17840),o=i(69811);i(56612);const c=class{constructor(e){(0,n.r)(this,e),this.arcgisChange=(0,n.c)(this,"arcgisChange",7),this.manager=(0,a.u)(this),this.strings=(0,l.u)({blocking:!0}),this.mapView=void 0,this.layer=void 0}async componentWillLoad(){const e=await(0,o.l)();e.watch((()=>this.mapView.map?.allLayers?.length),(()=>(0,n.f)(this.el))),e.watch((()=>this.mapView.displayFilterEnabled),(e=>{e||(0,n.f)(this.el)}))}render(){const{strings:e,mapView:t,layer:i}=this,{map:a}=t,s=a?.allLayers,l=i?.displayFilterInfo?[i]:s?.filter((e=>(0,r.i)(e.displayFilterInfo))).toArray(),o=l.map((e=>this.renderDisplayFilterLayerInfo(e)));return(0,n.h)(n.H,{key:"a1470d269b3f79bb670b5169965c23759d17eeb4"},o?.length?(0,n.h)(n.F,null,this.renderDisplayFilterMapViewInfo(),(0,n.h)("div",{class:t.displayFilterEnabled?"":"disabled"},o)):(0,n.h)("div",null,e.noDisplayFilters))}renderDisplayFilterMapViewInfo(){const{mapView:e,layer:t,strings:i}=this;return t?(0,n.h)(n.F,null):(0,n.h)("calcite-label",{class:"mapview-level-label",layout:"inline-space-between"},i.enableDisplayFilters,(0,n.h)("calcite-switch",{scale:"s",checked:e.displayFilterEnabled,onCalciteSwitchChange:()=>{e.displayFilterEnabled=!e.displayFilterEnabled,(0,n.f)(this.el),this.arcgisChange.emit()}}))}renderDisplayFilterLayerInfo(e){const{strings:t}=this,i=!(0,r.i)(this.layer),{displayFilterInfo:a}=e,{mode:s}=a;if("manual"===s){if(!a.filters.some((e=>e.id===a.activeFilterId))){e.displayFilterEnabled=!1;const t=a.clone();t.activeFilterId=t.filters.getItemAt(0).id,e.displayFilterInfo=t,this.arcgisChange.emit()}}return(0,n.h)("div",{class:"wrapper-node"},(0,n.h)("calcite-label",{layout:"inline-space-between"},i?e.title:t.enableDisplayFilter,(0,n.h)("calcite-switch",{scale:"s",checked:e.displayFilterEnabled,disabled:!this.mapView.displayFilterEnabled,onCalciteSwitchChange:()=>{e.displayFilterEnabled=!e.displayFilterEnabled,(0,n.f)(this.el),this.arcgisChange.emit()}})),this.renderLayerControls(e))}renderLayerControls(e){const{strings:t}=this,{displayFilterEnabled:i,displayFilterInfo:a}=e,{mode:l}=a;if(!i)return(0,n.h)(n.F,null);if("manual"===l){const t=a.filters.map((e=>(0,n.h)("calcite-label",{layout:"inline"},(0,n.h)("calcite-radio-button",{disabled:!this.mapView.displayFilterEnabled,value:e.id,checked:a.activeFilterId===e.id}),e.title)));return(0,n.h)("div",{class:"filter-description-padding"},(0,n.h)("calcite-radio-button-group",{disabled:!this.mapView.displayFilterEnabled,layout:"vertical",name:`manual-filters-${(0,s.a)()}`,onCalciteRadioButtonGroupChange:t=>{const i=t.target.selectedItem.value,s=a.clone();s.activeFilterId=i,e.displayFilterInfo=s,(0,n.f)(this.el),this.arcgisChange.emit()}},...t.toArray()))}return(0,n.h)("div",{class:"filter-description-padding"},t.scaleDisplayFilterDescription)}static get assetsDirs(){return["assets"]}get el(){return(0,n.a)(this)}};c.style=".disabled {\n  opacity: var(--calcite-opacity-disabled);\n}\n\n.wrapper-node {\n  margin: var(--calcite-spacing-sm) var(--calcite-spacing-xs) 0;\n}\n\n.mapview-level-label {\n  border-bottom: 1px solid var(--calcite-color-border-3);\n}\n\n.filter-description-padding {\n  margin-left: var(--calcite-spacing-md);\n}\n\n:dir(rtl) {\n  .filter-description-padding {\n    margin-right: var(--calcite-spacing-md);\n  }\n}\n"}}]);