/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--282af0.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_esm_arcgis--282af0"],{3175:(e,t,s)=>{s.d(t,{a:()=>r,g:()=>o});var i=s(20173);function r(e){const{customBaseUrl:t,portalHostname:s,urlKey:i}=e,{protocol:r}=window.location;return`${r}//${i?`${i}.${t}`:s}`}function o(e){return(0,i.a)(e.restUrl)}},14528:(e,t,s)=>{function i(e){const t=[];r=e,queueMicrotask((()=>{r===e&&(r=void 0)}));const s=e.componentWillLoad;return e.componentWillLoad=async()=>{await Promise.all(t.map((e=>e()))).then((()=>{})),await(s?.call(e))},{onLoad:e=>t.push(e)}}let r;function o(){return r}s.d(t,{r:()=>o,u:()=>i})},20173:(e,t,s)=>{s.d(t,{a:()=>i});const i=e=>e&&!e.endsWith("/")?`${e}/`:e},99382:(e,t,s)=>{s.r(t),s.d(t,{arcgis_map_config_ips_service_browser:()=>a});var i=s(11254),r=s(14528),o=s(3175);const a=class{constructor(e){(0,i.r)(this,e),this.arcgisClose=(0,i.c)(this,"arcgisClose",7),this.arcgisUpdate=(0,i.c)(this,"arcgisUpdate",7),this.manager=(0,r.u)(this),this.itemBrowserPagination={},this.portal=void 0,this.strings=void 0,this.items=[],this.selectedCount=0}render(){return(0,i.h)("calcite-dialog",{key:"9c65cc5632f43fd4c6a9f49f94ac6b384d86292b",class:"ips-service-browser-dialog",modal:!0,outsideCloseDisabled:!0,escapeDisabled:!0,width:"l",open:!0,heading:this.strings.browseServiceHeading,headingLevel:2,onCalciteDialogClose:()=>this.arcgisClose.emit()},this.renderItemBrowser(),this.renderBrowseServicesFooter())}renderItemBrowser(){const e=(0,o.a)(this.portal);return(0,i.h)("arcgis-item-browser",{class:"item-browser",view:"table",selection:"single",api:4,portal:this.portal,user:this.portal.user,config:{baseUrl:`${e}/home/`},filter:'(type: "Feature Service" AND typekeywords: "IndoorPositioningDataService") -typekeywords: "Table"',showFieldStatistics:!0,onArcgisItemBrowserUpdate:e=>{const{results:t,num:s,start:i,total:r}=e.detail;this.items=t,this.itemBrowserPagination={start:i,num:s,total:r}},onArcgisItemBrowserSelect:()=>this.selectedCount=this.itemBrowserElement?.selectedItems?.length,ref:e=>{this.itemBrowserElement=e}},(0,i.h)("arcgis-item-browser-top-bar",{slot:"top-bar","filter-toggle":!0},(0,i.h)("arcgis-item-browser-bucket-select",{slot:"bucket",options:this.portal.isPortal?["my","favorites","group","org","living atlas"]:void 0}),(0,i.h)("arcgis-item-browser-search",{slot:"search",term:""})),(0,i.h)("arcgis-item-browser-sort",{options:["modified","title","relevance"],slot:"sort"}),(0,i.h)("arcgis-item-browser-filters",{slot:"filters"},this.portal.user&&(0,i.h)("arcgis-item-browser-filter-folder",null),(0,i.h)("arcgis-item-browser-filter-categories",null),(0,i.h)("arcgis-item-browser-filter-location",null),(0,i.h)("arcgis-item-browser-filter-date",{property:"modified"}),(0,i.h)("arcgis-item-browser-filter-date",{property:"created"}),(0,i.h)("arcgis-item-browser-filter-tags",null),(0,i.h)("arcgis-item-browser-filter-sharing",null)),(0,i.h)("arcgis-item-browser-content",{slot:"content"},(this.items||[]).map((t=>(0,i.h)("arcgis-item-browser-card",{key:`card-${t.id}`,item:t,portal:this.portal,baseUrl:`${e}/home/`,preview:"action",showAccess:!1,showBadges:!1,showFavorite:!1,showSummary:!1,showDateUpdated:!0,showItemType:!0,showOwner:!0,showThumbnail:!1,showItemTypeHosted:!0})))),(0,i.h)("arcgis-item-browser-pagination",{slot:"pagination",total:this.itemBrowserPagination.total,start:this.itemBrowserPagination.start,num:this.itemBrowserPagination.num}))}renderBrowseServicesFooter(){return(0,i.h)(i.F,null,(0,i.h)("calcite-button",{slot:"footer-end",appearance:"outline-fill",alignment:"center",onClick:()=>this.arcgisClose.emit()},this.strings.cancel),(0,i.h)("calcite-button",{slot:"footer-end",alignment:"center",appearance:"solid",disabled:!this.selectedCount,onClick:()=>{this.arcgisUpdate.emit(this.itemBrowserElement.selectedItems),this.arcgisClose.emit()}},this.strings.add))}static get assetsDirs(){return["assets"]}get el(){return(0,i.a)(this)}};a.style=".ips-service-browser-dialog{--calcite-dialog-size-y:min(900px, calc(80vh + 100px));--calcite-dialog-size-x:1080px;--calcite-dialog-content-space:0px}"}}]);