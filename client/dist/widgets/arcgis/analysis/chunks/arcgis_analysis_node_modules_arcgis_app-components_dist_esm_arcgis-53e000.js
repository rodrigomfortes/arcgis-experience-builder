/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-53e000.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-53e000"],{931:(e,n,i)=>{i.d(n,{l:()=>o});var r=i(93814);const o=async(e,n)=>(await r.e.exports.loadModules(e,n)).map((e=>e.__esModule&&e.default?e.default:e))},19731:(e,n,i)=>{i.r(n),i.d(n,{arcgis_member_browser_role_column:()=>u});var r=i(87849),o=i(23966),t=i(56175),l=i(81034);i(37762),i(74174),i(15332),i(50822),i(93814),i(87744),i(59317),i(931);function s(e,n){const i=e.name.toLowerCase(),r=n.name.toLowerCase();return i>r?1:i<r?-1:0}const u=class{constructor(e){(0,r.r)(this,e),this.arcgisRoleColumnRoleChange=(0,r.c)(this,"arcgisRoleColumnRoleChange",7),this.arcgisRoleColumnContactsLinkClick=(0,r.c)(this,"arcgisRoleColumnContactsLinkClick",7),this.portal=void 0,this.user=void 0,this.member=void 0,this.showRoleSelect=!1,this.disableRoleSelect=!1}async componentWillLoad(){var e,n,i;this.store=(0,o.g)(this.el),this.i18n=null===(i=null===(n=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===n?void 0:n.i18n)||void 0===i?void 0:i.tableRow}render(){var e,n,i,o,u,a,d,c,v,m,p;if(!this.i18n)return;const h=null===(i=null===(n=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===n?void 0:n.userTypes)||void 0===i?void 0:i.find((e=>e.id===this.member.userLicenseTypeId)),f=null===(a=null===(u=null===(o=this.store)||void 0===o?void 0:o.state)||void 0===u?void 0:u.roles)||void 0===a?void 0:a.find((e=>e.id===this.member.role));if(!this.showRoleSelect)return(0,r.h)("div",null,null==f?void 0:f.name);const g=null===(c=null===(d=this.store)||void 0===d?void 0:d.state)||void 0===c?void 0:c.collaborationCoordinators,b=Boolean(null==g?void 0:g.some((e=>e.username===this.member.username))),C=Boolean(null===(v=this.portal.sourceJSON.contacts)||void 0===v?void 0:v.includes(this.member.username));let w=function(e,n){var i;if(!n)return[...e];const r=[...(null===(i=e.find((e=>"iAAAAAAAAAAAAAAA"===e.id)))||void 0===i?void 0:i.privileges)||[],"portal:user:joinNonOrgGroup","portal:user:viewTracks"];"11"===n.level&&r.push("features:user:edit");const o=[],t="2"===n.level;return e.forEach((e=>{const n=!t&&e.privileges&&(i=r,!e.privileges.some((e=>!i.includes(e))));var i;(t||n)&&o.push(e)})),o}((null===(p=null===(m=this.store)||void 0===m?void 0:m.state)||void 0===p?void 0:p.roles)||[],h);var y,_,k;(null==g?void 0:g.length)&&(y=w,_=this.member,w=(null==(k=g)?void 0:k.some((e=>e.username===_.username)))?y.filter((e=>"org_admin"===e.id||"iCCCCCCCCCCCCCCC"===e.id)):[...y]),w=function(e,n,i){return(0,t.e)(i)||"org_admin"===n?e:e.filter((e=>"org_admin"!==e.id))}(w,f.id,this.user),w=w.sort(s);const I=function(e,n,i){if(e.username===n.username)return!0;const r=(0,t.e)(e),o=(0,t.g)(e),l=o&&(0,t.s)(e);return!r&&!l||(!("org_admin"!==n.role||!o)||(!(!(null==i?void 0:i.sourceJSON.subscriptionInfo)||"active"===(null==i?void 0:i.sourceJSON.subscriptionInfo.state))||!!(null==i?void 0:i.sourceJSON.contacts.includes(n.username))))}(this.user,this.member,this.portal);let S=C?this.i18n.memberIsContact:b?this.i18n.memberIsCoordinator:"",A=C?(0,l.s)(this.i18n.removeFromContact,{linkStart:'<calcite-link href="javascript:;">',linkEnd:"</calcite-link>"}):b?this.i18n.rolesForCoordinator:"";return(0,r.h)("div",{class:"role-select-container"},(0,r.h)("arcgis-information",{class:{"role-info":!0,"role-info--visible":C||b},overlayPositioning:"fixed",label:S},(0,r.h)("div",{class:"role-info-container"},(0,r.h)("div",{class:"role-info-heading"},S),(0,r.h)("p",{class:"role-info-content",innerHTML:A,onClick:e=>{"CALCITE-LINK"===e.target.nodeName&&C&&this.arcgisRoleColumnContactsLinkClick.emit()}}))),(0,r.h)("calcite-select",{label:this.i18n.role,value:f.id,disabled:I||this.disableRoleSelect,onCalciteSelectChange:e=>{this.arcgisRoleColumnRoleChange.emit(e.target.value)}},w.map((e=>(0,r.h)("calcite-option",{key:e.id,value:e.id},e.name)))))}get el(){return(0,r.a)(this)}};u.style=".role-select-container{display:flex}.role-info{visibility:hidden;margin-inline-end:1rem}.role-info--visible{visibility:visible}.role-info-container{width:20rem;padding:1rem}.role-info-heading{font-size:1rem;font-weight:500}.role-info-content{margin-bottom:0px}"},23966:(e,n,i)=>{i.d(n,{a:()=>l,g:()=>t,o:()=>s});var r=i(37762),o=i(74174);function t(e){return(0,o.g)(e,"arcgis-member-browser")}const l=(e,n)=>{e.onChange("view",(e=>{n(e)}))};(0,r.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,n)=>{e.onChange("sort",(e=>{n(e)}))}},50822:(e,n,i)=>{i.d(n,{a:()=>l,b:()=>t,c:()=>a,d:()=>d,e:()=>c,f:()=>v,g:()=>m,i:()=>s,u:()=>u});i(93814);var r=i(87744);function o(e){var n;return!!(null===(n=e.owner)||void 0===n?void 0:n.toLowerCase().includes("esri"))}function t(e){var n;return o(e)&&!!(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Requires Credits"))}function l(e){var n;return o(e)&&!!(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Requires Subscription"))}function s(e,n){return e.owner===n.username}function u(e,n){return s(e,n)||function(e,n){var i;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,o="admin"===e.itemControl,t=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(i=e.portal)||void 0===i?void 0:i.isPortal)&&!s(e,n)&&o&&r.includes("esri_")&&!t.includes(r))return!1;return o}(e,n)}const a=(e,n)=>!!n.orgId&&e.every((e=>e.isOrgItem)),d=(e,n)=>`${(0,r.a)(n)}item.html?id=${e}`,c=(e,n)=>`${(0,r.g)(n)}/content/users/${e}`,v=e=>e.reduce(((e,n)=>(e[n.owner]=e[n.owner]?[...e[n.owner],n.id]:[n.id],e)),{}),m=(e,n)=>`${(0,r.a)(n)}content/items/${e}`},56175:(e,n,i)=>{i.d(n,{A:()=>O,B:()=>N,C:()=>m,D:()=>L,a:()=>s,b:()=>t,c:()=>l,d:()=>h,e:()=>C,f:()=>b,g:()=>w,h:()=>_,i:()=>v,j:()=>y,k:()=>P,l:()=>u,m:()=>k,n:()=>d,o:()=>c,p:()=>p,q:()=>E,r:()=>x,s:()=>a,t:()=>S,u:()=>A,v:()=>D,w:()=>R,x:()=>f,y:()=>g,z:()=>T});var r=i(50822);const o=e=>{var n,i,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(i=null!==(n=null==e?void 0:e.roleId)&&void 0!==n?n:null==e?void 0:e.id)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function t(e){return e&&!e.orgId}function l(e,n){return(0,r.u)(e,n)||"update"===e.itemControl||(0,r.c)([e],n)&&b(n)}function s(e,n){const i=(0,r.c)([e],n),o=(0,r.u)(e,n)||b(n)&&i,t=w(n)&&I(n);return!!(o||i&&t)}const u=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:manageLicenses"))},a=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:changeUserRoles"))},d=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:viewGroups"))},c=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:viewUsers"))};function v(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function m(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function p(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const h=e=>{var n;return null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.includes("Developer")},f=e=>{var n;return null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.includes("PublicSharingDisabled")},g=e=>{var n;return null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.includes("HostedServicesPublicSharingDisabled")};function b(e){return"org_admin"===o(e)||"account_admin"===o(e)}function C(e){return["org_admin","account_admin"].includes(o(e))&&!(null==e?void 0:e.roleId)}function w(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function y(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateItemCategorySchema"))}function _(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateGroups"))}function k(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:assignToGroups"))}const I=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:deleteItems"))};function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function R(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function O(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function P(e,n,i,r){const o=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),t=((null==n?void 0:n.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!n||!b(n)&&!t||!(null==i?void 0:i.isPortal)&&!o)}function L(e){return!!e&&(!w(e)||w(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const N=({items:e,user:n,portal:i})=>{const o=e[0],t=o.owner;if(i.isPortal&&t!==n.username&&t.includes("esri_")&&!["esri_livingatlas"].includes(t))return!1;const s=(0,r.u)(o,n),u=w(n),a=j(n),d=l(o,n)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(n)&&!u&&(function(e,n){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(n)||S(e)||A(e)||!!n.canSharePublic&&T(e)}(n,i)||j(n));return s||d||(0,r.c)(e,n)&&a};function j(e){return D(e)||R(e)||O(e)}const z=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function x(e){return e.some((e=>z.includes(e)))}function E(e){return e.filter((e=>z.includes(e)))}},74174:(e,n,i)=>{i.d(n,{a:()=>t,b:()=>s,g:()=>a,i:()=>o,o:()=>l});var r=i(15332);const o=e=>"item-browser"===e.state.type,t=(e,n,i)=>{n.onChange("filters",(n=>{n[e]&&n[e].value||i()}))},l=(e,n)=>{e.onChange("preview",(e=>{n()}))},s=(e,n)=>{e.onChange("groupId",(e=>{n()}))},u=new Map;function a(e,n){const i=u.get(e);if(i)return i;const o=(0,r.c)(e,n);return o?(u.set(e,o.store),o.store):null}},81034:(e,n,i)=>{i.d(n,{C:()=>s,a:()=>u,b:()=>d,f:()=>c,g:()=>l,l:()=>t,s:()=>m});var r=i(931),o=i(15332);const t=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function l(e){return function(e,n,i){const r=(0,o.c)(e,`[${n}]`);return r?r.getAttribute(n):i}(e,"dir","ltr")}const s={rtl:"arcgis--rtl"};async function u(e,n){const{api:i,type:o,places:t}=n||{};if(4===i){const[n]=await(0,r.l)(["esri/intl"]),i=n.convertNumberFormatToIntlOptions({places:t,style:o,digitSeparator:!0});return n.formatNumber(e,Object.assign(Object.assign({},i),{style:o}))}const[l]=await(0,r.l)(["dojo/number"]);return l.format(e,{type:o,places:t,pattern:null==n?void 0:n.pattern})}const a={};function d(e,n){let i=document.documentElement.lang;const r="bs"===i;if(r&&(i="hr"),n){const n=`${i}-full`,r={dateStyle:"full",timeStyle:"long"};return a[n]||(a[n]=new Intl.DateTimeFormat(i,r)),a[n].format(e)}const o={year:"numeric",month:r?"numeric":"short",day:"numeric"};return a[i]||(a[i]=new Intl.DateTimeFormat(i,o)),a[i].format(e)}function c(e,n,i,r){const o=null!=e?e:"en";let t=n.unknown;return(1===i||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(o))&&(t=n.single),1!==i&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(o)&&(t=n.multiple),m(t,Object.assign(Object.assign({},r),{number:i}))}const v=/\$\{([^}]+)\}/g;function m(e,n,i=v){let r=e;try{r=e.replace(i,((e,i)=>function(e,n){const i=e.split(".").reduce(((e,n)=>e[n]),n);return"string"==typeof i||"number"==typeof i?i:e}(i,n).toString()))}catch(e){console.error(e)}return r}}}]);