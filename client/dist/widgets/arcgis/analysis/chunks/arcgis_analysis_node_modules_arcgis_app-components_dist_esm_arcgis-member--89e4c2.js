/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-member--89e4c2.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-member--89e4c2"],{16405:(e,t,s)=>{s.d(t,{g:()=>r});var a=s(64099);async function r(e){const t=await(0,a.g)(e,"arcgis-member-browser");return t&&t.length?t[0]:null}},28830:(e,t,s)=>{s.d(t,{g:()=>n});const a=document.createElement("canvas").getContext("2d"),r={};function n({text:e,font:t}){if(r[t]=r[t]||{},r[t][e])return r[t][e];a.font=t||"14px 'Avenir Next'";const s=a.measureText(e);return r[t][e]=s.width,r[t][e]}},28890:(e,t,s)=>{s.d(t,{a:()=>n,g:()=>r});const a={title:["asc","alphabetical"],owner:["asc","alphabetical"],numviews:["desc","num"],relevance:["desc"],modified:["desc","recent"],created:["desc","recent"],size:["desc","size"],fullname:["asc","alphabetical"],username:["asc","alphabetical"],name:["asc","alphabetical"],membertype:["asc","alphabetical"],joined:["desc","recent"],lastlogin:["desc","recent"],added:["desc","recent"],dataset:["asc","alphabetical"],mfaenabled:["desc","default"]};function r(e,t,s){var r;const[n,o]=a[e];return{label:"modified"===e&&(null===(r=null==s?void 0:s.state)||void 0===r?void 0:r.recycleBin)?t.deleted:t[e],showSortOrder:!!o,defaultSortOrder:n,sortOrderLabels:{asc:t[`${o}Asc`],desc:t[`${o}Desc`]}}}function n(e){const[t]=a[e];return t}},64099:(e,t,s)=>{s.d(t,{a:()=>o,g:()=>l});var a=s(15332),r=s(81034),n=s(87849);function o(e){var t,s,n;const o=null!==(t=(0,a.c)(e,"[lang]"))&&void 0!==t?t:null===(n=null===(s=e.shadowRoot)||void 0===s?void 0:s.ownerDocument)||void 0===n?void 0:n.documentElement,i=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(i)?r.l.get(i):r.l.has(i.slice(0,2))?r.l.get(i.slice(0,2)):"en"}const i={};function c(e,t){const s=`${e}${t}`;return i[s]||(i[s]=function(e,t){return new Promise(((s,a)=>{fetch((0,n.d)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then((e=>{e.ok?s(e.json()):a()}),(()=>a()))}))}(e,t)),i[s]}async function l(e,t){const s=t||e.tagName.toLowerCase(),n=o(e),i=function(e){var t,s,n;const o=null!==(t=(0,a.c)(e,"[lang]"))&&void 0!==t?t:null===(n=null===(s=e.shadowRoot)||void 0===s?void 0:s.ownerDocument)||void 0===n?void 0:n.documentElement,i=((null==o?void 0:o.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return r.l.has(i)?r.l.get(i):r.l.has(i.slice(0,2))?i:"en"}(e);let l;try{l=await c(s,n)}catch(e){console.warn(`no locale for ${s} (${n}) loading default locale en.`),l=await c(s,"en")}return[l,n,i]}},99830:(e,t,s)=>{s.r(t),s.d(t,{arcgis_member_browser_table:()=>d});var a=s(87849),r=s(28830),n=s(28890),o=s(16405),i=s(23966),c=s(2058),l=s(81034);s(64099),s(15332),s(37762),s(74174),s(5157),s(931),s(93814);const d=class{constructor(e){(0,a.r)(this,e),this.arcgisMemberBrowserColumnUpdate=(0,a.c)(this,"arcgisMemberBrowserColumnUpdate",7),this.arcgisMemberBrowserSort=(0,a.c)(this,"arcgisMemberBrowserSort",7),this.rows=[],this.columns=[],this.textWidths=void 0,this.remainingCredits=void 0}async componentWillLoad(){var e;this.store=(0,i.g)(this.el),this.i18n=null===(e=await(0,o.g)(this.el))||void 0===e?void 0:e.table,this.store.state.columns=this.columns,this.remainingCredits=await this.getRemainingCredits()}async componentDidLoad(){}updateColumns(e){this.arcgisMemberBrowserColumnUpdate.emit(e)}async attemptMove([e,t],s){const a=this.rows[e];if(await a.canFocusColumn(t))this.store.state.activeFocus=[e,t],requestAnimationFrame((()=>a.focusColumn(t)));else switch(s){case"right":return this.moveRight([e,t]);case"left":return this.moveLeft([e,t]);case"up":return this.moveUp([e,t]);case"down":return this.moveDown([e,t])}}updateRows(){this.rows=this.rowSlot.assignedElements()}calculateTextWidths(e){this.store.state.i18n&&this.store.state.columns&&(!this.textWidths||e)&&(this.textWidths=this.store.state.columns.reduce(((e,t)=>{const{width:s}=c.C[t];if(s.useTextWidth){const a=(0,r.g)({text:this.store.state.i18n.table.headers[s.useTextWidth]});return Object.assign(Object.assign({},e),{[t]:Math.ceil(a)})}return e}),{}))}getLastColumnIndex(){const e="multiple"===this.store.state.selection;return this.store.state.columns.filter((e=>(0,c.g)(e,this.store.state.width))).length-(e?0:1)}getLastRowIndex(){return this.rows.length-1}async moveRight([e,t]){const s=t>=this.getLastColumnIndex()?0:t+1;this.attemptMove([e,s],"right")}async moveLeft([e,t]){const s=t<1?this.getLastColumnIndex():t-1;this.attemptMove([e,s],"left")}async moveUp([e,t]){const s=e<1?this.getLastRowIndex():e-1;this.attemptMove([s,t],"up")}async moveDown([e,t]){const s=e+1>this.getLastRowIndex()?0:e+1;this.attemptMove([s,t],"down")}handleKeyboard(e){const{key:t}=e,s=this.store.state.activeFocus||[0,0];switch(this.updateRows(),t){case"ArrowDown":return e.preventDefault(),this.moveDown(s);case"ArrowUp":return e.preventDefault(),this.moveUp(s);case"ArrowLeft":return e.preventDefault(),this.moveLeft(s);case"ArrowRight":return e.preventDefault(),this.moveRight(s)}}async getRemainingCredits(){const{portal:e}=this.store.state;if(null==(null==e?void 0:e.sourceJSON.availableCredits))return;const t=await(0,l.a)(e.sourceJSON.availableCredits,{api:4,type:"decimal",places:0});return(0,l.s)(this.i18n.headers.remainingCredits,{num:t})}renderColumn(e){const t=this.i18n.headers[e],{header:s}=c.C[e];let{sortable:r}=c.C[e];const{sortField:o,sortOrder:i}=this.store.state.sort||{},l=e,d=o===l,h="mfaenabled"===e;return r=(!this.store.state.myOrgView||"membertype"!==e)&&r,s?(0,a.h)("div",{class:{"column-header":!0,"column-header--sorted":d},title:t},(0,a.h)("div",{class:{"column-header--not-sortable":!r&&"credits"!==e}},!("name"!==e||"multiple"!==this.store.state.selection)&&(0,a.h)("div",{role:"columnheader",class:"screen-reader-only"},(0,a.h)("span",null,this.i18n.selection)),(0,a.h)("div",{role:"columnheader","aria-sort":"asc"===i?"ascending":"descending"},(0,a.h)("calcite-button",{id:"credits"===e?"mb-credits-info-icon":void 0,width:"full",alignment:h?"center":"icon-end-space-between",scale:"m",appearance:"transparent",kind:d?"brand":"neutral",iconStart:h?"mobile":"",iconEnd:"credits"===e?"information":r?d&&"asc"===i?"caret-up":"caret-down":"",onClick:()=>{r&&"credits"!==e&&(d?this.arcgisMemberBrowserSort.emit({sortField:l,sortOrder:"asc"===i?"desc":"asc"}):this.arcgisMemberBrowserSort.emit({sortField:l,sortOrder:(0,n.a)(l)}))}},!h&&(0,a.h)("span",{class:{button__text:!0,"button__text--sorted":d}},(0,a.h)("span",null,t))),"credits"===e&&this.remainingCredits&&(0,a.h)("calcite-tooltip",{referenceElement:"mb-credits-info-icon"},(0,a.h)("span",null,this.remainingCredits))))):(0,a.h)("div",{role:"columnheader",class:"column-header"},(0,a.h)("span",{class:"screen-reader-only"},t))}render(){const e="multiple"===this.store.state.selection,t=this.store.state.columns.filter((e=>(0,c.g)(e,this.store.state.width)));return(0,a.h)(a.H,{key:"d2ce382619c9d0fe938cc7b47843cdffa596f335",style:{"--member-browser-table-columns":`${t.map((e=>{var t;return(0,c.a)(e,this.store.state.width,null===(t=this.textWidths)||void 0===t?void 0:t[e])})).join(" ")} `}},(0,a.h)("div",Object.assign({key:"afe823424c00832a8ea6c581d98846e5c1acd9c4",class:"table","aria-label":this.i18n.caption,role:"grid","aria-readonly":"true"},e?{"aria-multiselectable":"true"}:{},{onKeyDown:e=>this.handleKeyboard(e)}),(0,a.h)("div",{key:"6cb3f4af65e9c222fb4450812538add2a4f09e9d",role:"rowgroup"},(0,a.h)("div",{key:"7408df9e80e346a4de9ae6737300c02e1e79fa46",role:"row",class:"header"},t.map((e=>this.renderColumn(e))))),(0,a.h)("div",{key:"4115e87ddd2b871fab46931619d0156c5f3dfc4f"},(0,a.h)("slot",{key:"0957e6c87d0a5a8a90a8ca2f3889cb8746dce484",ref:e=>this.rowSlot=e}))))}get el(){return(0,a.a)(this)}static get watchers(){return{columns:["updateColumns"]}}};d.style=".table{background-color:var(--calcite-color-foreground-1)}.header{display:grid;grid-template-columns:var(--member-browser-table-columns)}.button__text{display:flex}.button__text--sorted{font-weight:500}.credits-col-heading-label{flex:1 1 0%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.column-header{border-bottom:1px solid var(--calcite-color-border-2);margin-bottom:1px}.column-header--sorted{border-bottom-color:var(--calcite-color-brand)}.column-header--not-sortable{pointer-events:none}.screen-reader-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}"}}]);