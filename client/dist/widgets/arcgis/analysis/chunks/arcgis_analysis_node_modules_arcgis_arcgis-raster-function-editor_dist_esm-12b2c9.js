"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-12b2c9"],{25929:(e,t,s)=>{s.r(t),s.d(t,{rfx_cte_detect_change_type_picker:()=>i.R});var i=s(26374);s(83628),s(48001),s(5294),s(24360),s(5839),s(92991),s(32513),s(44345),s(13661),s(18423),s(21255),s(35431),s(93442),s(588),s(55448),s(2924),s(11840),s(52373),s(33752),s(440),s(66744),s(42335),s(71144),s(33797),s(23795),s(17902),s(56451),s(95069),s(71802),s(36596)},26374:(e,t,s)=>{s.d(t,{R:()=>c});var i=s(83628),n=s(48001),a=s(33797),r=s(92991),l=s(93442),h=(s(23795),s(17902),s(56451),s(95069));s(588),s(71802),s(44345),s(32513),s(33752),s(36596);const o="changeTypeHelpClickHandler",c=class{constructor(e){(0,i.r)(this,e),this.rfxArgumentChange=(0,i.c)(this,"rfxArgumentChange"),this.alteredStateEnum=["0","1","2","3"],this.helpActionClickEventHandlers=new Map,this.store=[],this.handleInputChange=e=>{e.stopPropagation();const t=e.target,s=(0,h.p)(t.value);this.inputArg.value=s,this.value=s,this.rfxArgumentChange.emit({value:s})}}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}async componentWillLoad(){await this.setupInitialState(this.widgetArgs)}componentDidLoad(){this.attachHelpClickEventHandlers()}processWidgetArgs({inputArgs:e,triggerArgs:t}){const s=e.ChangeType;this.inputArg=s,this.inputArg.key="ChangeType",s.input=this.hostElement,this.value=s.value;const i=t.Raster;this.rasterArg=i,i.input?.addEventListener("rfxArgumentChange",this.handleRasterChange.bind(this))}async setupInitialState({rfxArgs:e,rasterFunctions:t,triggerArgs:s}){this.value=this.inputArg.value;const i=t[(0,n.i)(e)],a=i?.rasterFunctionArguments,h=this.inputArg.key;this.value=this.inputArg.value;const o=a?.[h]?.domain;if("list"===o?.type){const e=o.enum;this.store=(0,n.m)(e)}else console.error("Invalid inputArg! Check Schema");this.store?.forEach((e=>{e.key=e.key.toString()})),this.initialStore=(0,n.m)(this.store),(0,r.i)(this.store)&&console.error("Domain list Enum not set! Check Schema");const c=s.Raster,g=c?.input,u=await(g?.getSelectedLayer?.());await(0,l.o)(u)?this.handleIsChangeAnalysisTypeCCDC():this.handleIsChangeAnalysisTypeNotCCDC(),this.rfxArgumentChange.emit({value:this.value})}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.widgetArgs.helpTextIDs?.detectchange_changetype});this.helpActionClickEventHandlers.set(o,e)}async handleRasterChange(){const e=this.rasterArg?.input,t=await(e?.getSelectedLayer?.());await(0,l.o)(t)?this.handleIsChangeAnalysisTypeCCDC():this.handleIsChangeAnalysisTypeNotCCDC(),this.rfxArgumentChange.emit({value:this.value})}handleIsChangeAnalysisTypeCCDC(){this.widgetArgs.inputArgs.changeAnalysisType.value="CCDC",this.applyFilterToStore(this.alteredStateEnum)}handleIsChangeAnalysisTypeNotCCDC(){this.widgetArgs.inputArgs.changeAnalysisType.value="",this.resetStore()}applyFilterToStore(e){const t=((e,t)=>e.filter((e=>t.some((t=>e.key===t)))))(this.initialStore,e);this.store=t}resetStore(){this.store=this.initialStore}render(){return(0,i.h)("div",{key:"3b146c48729e2bde0de5204f26fcc4b1eb60067d"},(0,i.h)("calcite-label",{key:"f2881a59a8654694415d10dc4636d1956da3562a",alignment:"start",scale:a.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,i.h)("rfx-label",{key:"dcbc0b3cea9bfed1bad61bb9176d5b9735e27987",label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(o)()}),(0,i.h)("rfx-dtex-common-select",{key:"2dc672550e7cd005e505e232e3a2d04b35500670",mode:this.widgetArgs.mode,options:this.store,value:String(this.value),onRfxArgumentChange:this.handleInputChange})))}get hostElement(){return(0,i.g)(this)}}},33797:(e,t,s)=>{s.d(t,{C:()=>n,U:()=>i,a:()=>a,u:()=>r});const i={Scale:"s",PopoverTimer:60},n={s:"s",m:"m",l:"l"},a={absolute:"absolute",fixed:"fixed"},r=e=>e===n.s?n.m:n.l},95069:(e,t,s)=>{s.d(t,{a:()=>o,f:()=>h,i:()=>a,p:()=>l,s:()=>r});var i=s(5839),n=s(92991);function a(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function r(e,t){let s;if(null!==e){const i="string"==typeof e?Number.parseFloat(e):e;a(i)?s=i:a(t)&&(s=t)}return void 0===s?"":`${s}`}function l(e){if(!(0,n.i)(e))return Number.parseFloat(e)}function h(e,t=3){if(!(0,n.i)(e))return Number.parseFloat(e.toFixed(t))}function o(e,t){let s="";if(!(0,n.i)(e)&&!Number.isNaN(e)){const n=(0,i.g)().locale;s=Intl.NumberFormat(n,t).format(Number(e))}return s}}}]);