/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-08e915.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-08e915"],{931:(t,e,n)=>{n.d(e,{l:()=>o});var i=n(93814);const o=async(t,e)=>(await i.e.exports.loadModules(t,e)).map((t=>t.__esModule&&t.default?t.default:t))},4429:(t,e,n)=>{n.d(e,{a:()=>a,b:()=>d,c:()=>r,d:()=>u,e:()=>o,f:()=>i,g:()=>p,i:()=>v,m:()=>l,t:()=>s,u:()=>c});const i=(t,e)=>{let n,i="idle";const o=(...o)=>new Promise((r=>{switch(i){case"flushed":i="idle",n?(clearTimeout(n),r(t(...o))):r(null);break;case"invoked":clearTimeout(n),i="idle",r(t(...o));break;case"cancelled":clearTimeout(n),i="idle",r(null);break;default:n&&clearTimeout(n),i="pending",n=setTimeout((()=>(i="idle",r(t(...o)))),e)}}));return o.flush=function(...t){return i="flushed",o(...t)},o.invoke=function(...t){return i="invoked",o(...t)},o.cancel=function(...t){return i="cancelled",o(...t)},o.getStatus=function(){return i},o};function o(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(t){return null!=t}async function l(t,e){return await Promise.all([t,s(e)]),t}function s(t){return new Promise((e=>setTimeout(e,t)))}const a=(t,e)=>Object.fromEntries((t||[]).map((t=>{const{key:n,data:i}=e(t);return[n,i]}))),u=(t,e)=>t.length===e.length&&t.reduce(((t,n)=>t&&e.indexOf(n)>-1),!0);function c(t,e){const n=[],i={};return t.forEach((t=>{const o=e(t);null==i[o]&&(i[o]=t,n.push(t))})),n}function d(t){const e={boolean:{},number:{},string:{}},n=[];return t.filter((t=>{let i=typeof t;return i in e?!e[i].hasOwnProperty(t)&&(e[i][t]=!0):!(n.indexOf(t)>=0)&&n.push(t)}))}const p=(t,e)=>[...Array(Math.ceil(t.length/e))].map(((n,i)=>t.slice(e*i,e+e*i))),v=(t,e)=>t.includes(e)},38511:(t,e,n)=>{n.d(e,{p:()=>i});const i=(0,n(37762).c)({sourceItem:null,i18n:null}).state},50637:(t,e,n)=>{n.d(e,{a:()=>f,b:()=>y,c:()=>p,d:()=>h,f:()=>c,g:()=>v,i:()=>d,p:()=>w,r:()=>g});var i=n(59317),o=n(4429),r=n(931),l=n(87744);const s={},a={},u={};async function c(t,e,n,i){var o,r,l,c;const d=null===(r=null===(o=u[e])||void 0===o?void 0:o[n])||void 0===r?void 0:r.expireAt,p=!!d&&(new Date).getTime()>d;if((null===(l=s[e])||void 0===l?void 0:l[n])&&!p)return s[e][n];a[e]||(a[e]={}),a[e][n]&&!p||(a[e][n]=t());const v=await a[e][n];if(s[e]||(s[e]={}),u[e]||(u[e]={}),s[e][n]=v,i){const{expireAfter:t,getExpireAfterFromResult:o}=i,r=o||t?(new Date).getTime()+(null!==(c=null==o?void 0:o(v))&&void 0!==c?c:t):null;u[e][n]=Object.assign(Object.assign({},u[e][n]),{expireAt:r})}return v}function d(t,e){var n;return null===(n=null==s?void 0:s[t])||void 0===n?void 0:n[e]}const p=(t,e)=>{var n,i;e?(null===(n=s[t])||void 0===n||delete n[e],null===(i=a[t])||void 0===i||delete i[e]):(delete s[t],delete a[t])};function v(t){var e,n,o,r;return null!=t||(t=null===i.c||void 0===i.c?void 0:i.c.portal),(null===(e=null==t?void 0:t.credential)||void 0===e?void 0:e.token)||(null==t?void 0:t.token)||(null===(o=null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.credential)||void 0===o?void 0:o.token)||(null===(r=null==t?void 0:t.portalUser)||void 0===r?void 0:r.token)||""}function h(t){var e,n;return null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null===(n=null==t?void 0:t.sourceJSON)||void 0===n?void 0:n.id}function m(t){var e;const{config:n}=i.c;return"https:"===window.location.protocol||!0===(null===(e=null==n?void 0:n.self)||void 0===e?void 0:e.allSSL)?t.replace("http:","https:"):t}async function f(t,e,n={},o){const[l]=await(0,r.l)(["esri/request"]),{api:s}=i.c;t.includes("f=")||e.append("f","json");const a=v();return a&&!e.has("token")&&e.append("token",a),new Promise(((i,r)=>{if(3===s){const s={url:!1===n.addSSL?t:m(t),form:e,timeout:n.timeout||0},a="post"===o?Object.assign({usePost:!0},n):n;l(s,a).then(i,r)}else l(t,Object.assign(Object.assign({body:e},n),{timeout:n.timeout||0,method:o||"auto"})).then((t=>{i(t.data)})).catch((t=>r(t)))}))}async function g(t,e={},n={},o,l){const[s]=await(0,r.l)(["esri/request"]),{api:a,portal:u}=i.c,{customToken:c,addTokenManually:d,addSSL:p,useProxy:v}=n,h=Object.assign({},e);if(t.includes("f=")||!0===(null==l?void 0:l.excludeJson)||(h.f="json"),c)h.token=c;else if(!1!==d){const t=await y(u,a);t&&(h.token=t)}const f=!1===p?t:m(t);if(3===a){const t=Object.assign({url:f,content:h,timeout:n.timeout||0},null==l?void 0:l.v3Request);n.withCredentials&&(t.withCredentials=n.withCredentials);return s(t,"post"===o?Object.assign({usePost:!0},n):n)}{const t=Object.assign(Object.assign(Object.assign({query:h,method:o||"auto"},n),{timeout:n.timeout||0,useProxy:v}),(null==n?void 0:n.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await s(f,t)).data}}const b=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];const w=async(t,e,n)=>{var i,r;const l=null!==(i=null==e?void 0:e.pendingStatuses)&&void 0!==i?i:["processing","partial","Pending","InProgress","EXECUTING"],s=null!==(r=null==e?void 0:e.successStatuses)&&void 0!==r?r:["completed","Completed","COMPLETED"];let a=0;const u=async()=>{const i=await g(t,null==e?void 0:e.requestParams,{},n),r=i.status||i.jobStatus;if(l.includes(r))return await(0,o.t)((c=a++,1e3*b[c>-1&&c<b.length-1?c:b.length-1])),u();if(s.includes(r)||"failed"===r)return i;throw i;var c};try{return u()}catch(t){throw console.error(t),t}},y=async(t,e)=>{var n;if(!(null==t?void 0:t.isPortal)||!(0,l.i)(t))return v(t);if(!(null==t?void 0:t.user)&&!(null==t?void 0:t.portalUser)&&(0,l.i)(t))return;const{token:o}=await c((()=>k(t,null!=e?e:null===i.c||void 0===i.c?void 0:i.c.api)),"platformSelf",null!==(n=h(t.user))&&void 0!==n?n:t.id,{getExpireAfterFromResult:t=>t.expires_in});return o},k=async(t,e)=>{const n=await(async(t,e)=>{var n,i,o;const s=3===e,[a]=s?await(0,r.l)(["esri/IdentityManager"]):await(0,r.l)(["esri/identity/IdentityManager"]),u=await c((()=>a.getCredential((0,l.g)(t),{oAuthPopupConfirmation:!1})),"credential",h(t.user));return null!==(o=s?null===(n=u._oAuthCred)||void 0===n?void 0:n.appId:null===(i=u.oAuthState)||void 0===i?void 0:i.appId)&&void 0!==o?o:"arcgisonline"})(t,e),i={"X-Esri-Auth-Client-Id":n,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return g(`${(0,l.g)(t)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:4===e?i:void 0,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:i}})}},64099:(t,e,n)=>{n.d(e,{a:()=>l,g:()=>u});var i=n(15332),o=n(81034),r=n(87849);function l(t){var e,n,r;const l=null!==(e=(0,i.c)(t,"[lang]"))&&void 0!==e?e:null===(r=null===(n=t.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===r?void 0:r.documentElement,s=((null==l?void 0:l.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return o.l.has(s)?o.l.get(s):o.l.has(s.slice(0,2))?o.l.get(s.slice(0,2)):"en"}const s={};function a(t,e){const n=`${t}${e}`;return s[n]||(s[n]=function(t,e){return new Promise(((n,i)=>{fetch((0,r.d)(`../arcgis-app-assets/i18n/${t}.i18n.${e}.json`)).then((t=>{t.ok?n(t.json()):i()}),(()=>i()))}))}(t,e)),s[n]}async function u(t,e){const n=e||t.tagName.toLowerCase(),r=l(t),s=function(t){var e,n,r;const l=null!==(e=(0,i.c)(t,"[lang]"))&&void 0!==e?e:null===(r=null===(n=t.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===r?void 0:r.documentElement,s=((null==l?void 0:l.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return o.l.has(s)?o.l.get(s):o.l.has(s.slice(0,2))?s:"en"}(t);let u;try{u=await a(n,r)}catch(t){console.warn(`no locale for ${n} (${r}) loading default locale en.`),u=await a(n,"en")}return[u,r,s]}},69193:(t,e,n)=>{n.r(e),n.d(e,{arcgis_publish_item:()=>u});var i=n(87849),o=n(59317),r=n(64099),l=n(43555),s=n(75294),a=n(38511);n(37762),n(15332),n(81034),n(931),n(93814),n(50020),n(50637),n(87744),n(50822),n(72257),n(86562),n(3826),n(95878),n(15912);const u=class{constructor(t){(0,i.r)(this,t),this.portal=void 0,this.user=void 0,this.api=4,this.scale="m",this.itemId=void 0,this.telemetry=void 0,this.primaryButtonText=void 0,this.firstPage={element:"arcgis-publish-item-pages-item-properties"}}handlePageUpdate(t){this.primaryButtonText=a.p.i18n.next,"arcgis-publish-item-pages-item-properties"===t.detail.element&&(this.primaryButtonText=a.p.i18n.publish)}async componentWillLoad(){const{portal:t,user:e,itemId:n,api:i,scale:u}=this,c=await(0,r.g)(this.el);a.p.i18n=Object.assign(Object.assign({},s.w.i18n),c[0]),o.c.portal=t,o.c.user=e,o.c.api=i,o.c.scale=u;const{result:d,error:p}=await(0,l.a)(n,t);p?console.warn("No item found, workflow unavailable"):a.p.sourceItem=d}componentDidLoad(){a.p.sourceItem&&this.routeFirstPage(a.p.sourceItem.type)}routeFirstPage(t){const{i18n:e}=a.p;["CSV","Microsoft Excel","GeoJson"].includes(t)?(this.firstPage={element:"arcgis-publish-item-pages-item-properties"},this.primaryButtonText=e.next):(this.firstPage={element:"arcgis-publish-item-pages-item-properties",props:{item:a.p.sourceItem}},this.primaryButtonText=e.publish)}render(){const{i18n:t}=a.p;return(0,i.h)(i.H,{key:"b53ab57b448db5212e3652fc126f5abdce118378"},(0,i.h)("arcgis-workflow",{key:"27b2b3f805d6f1fa40802dd60cd3a5caed5c90ae",headerText:t.publishItem,primaryButtonText:this.primaryButtonText,firstPage:this.firstPage,onArcgisWorkflowUpdatePage:this.handlePageUpdate}))}get el(){return(0,i.a)(this)}}},75294:(t,e,n)=>{n.d(e,{w:()=>i});const i=(0,n(37762).c)({portal:null,user:null,i18n:null,scale:"m",api:4,nextText:null,uploadProgress:0}).state},81034:(t,e,n)=>{n.d(e,{C:()=>s,a:()=>a,b:()=>c,f:()=>d,g:()=>l,l:()=>r,s:()=>v});var i=n(931),o=n(15332);const r=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function l(t){return function(t,e,n){const i=(0,o.c)(t,`[${e}]`);return i?i.getAttribute(e):n}(t,"dir","ltr")}const s={rtl:"arcgis--rtl"};async function a(t,e){const{api:n,type:o,places:r}=e||{};if(4===n){const[e]=await(0,i.l)(["esri/intl"]),n=e.convertNumberFormatToIntlOptions({places:r,style:o,digitSeparator:!0});return e.formatNumber(t,Object.assign(Object.assign({},n),{style:o}))}const[l]=await(0,i.l)(["dojo/number"]);return l.format(t,{type:o,places:r,pattern:null==e?void 0:e.pattern})}const u={};function c(t,e){let n=document.documentElement.lang;const i="bs"===n;if(i&&(n="hr"),e){const e=`${n}-full`,i={dateStyle:"full",timeStyle:"long"};return u[e]||(u[e]=new Intl.DateTimeFormat(n,i)),u[e].format(t)}const o={year:"numeric",month:i?"numeric":"short",day:"numeric"};return u[n]||(u[n]=new Intl.DateTimeFormat(n,o)),u[n].format(t)}function d(t,e,n,i){const o=null!=t?t:"en";let r=e.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(o))&&(r=e.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(o)&&(r=e.multiple),v(r,Object.assign(Object.assign({},i),{number:n}))}const p=/\$\{([^}]+)\}/g;function v(t,e,n=p){let i=t;try{i=t.replace(n,((t,n)=>function(t,e){const n=t.split(".").reduce(((t,e)=>t[e]),e);return"string"==typeof n||"number"==typeof n?n:t}(n,e).toString()))}catch(t){console.error(t)}return i}}}]);