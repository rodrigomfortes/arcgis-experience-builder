/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_esri-l-9c8b5d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_esri-l-9c8b5d"],{4429:(e,t,n)=>{n.d(t,{a:()=>s,b:()=>d,c:()=>i,d:()=>c,e:()=>a,f:()=>r,g:()=>m,i:()=>f,m:()=>o,t:()=>l,u:()=>u});const r=(e,t)=>{let n,r="idle";const a=(...a)=>new Promise((i=>{switch(r){case"flushed":r="idle",n?(clearTimeout(n),i(e(...a))):i(null);break;case"invoked":clearTimeout(n),r="idle",i(e(...a));break;case"cancelled":clearTimeout(n),r="idle",i(null);break;default:n&&clearTimeout(n),r="pending",n=setTimeout((()=>(r="idle",i(e(...a)))),t)}}));return a.flush=function(...e){return r="flushed",a(...e)},a.invoke=function(...e){return r="invoked",a(...e)},a.cancel=function(...e){return r="cancelled",a(...e)},a.getStatus=function(){return r},a};function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e){return null!=e}async function o(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const s=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:n,data:r}=t(e);return[n,r]}))),c=(e,t)=>e.length===t.length&&e.reduce(((e,n)=>e&&t.indexOf(n)>-1),!0);function u(e,t){const n=[],r={};return e.forEach((e=>{const a=t(e);null==r[a]&&(r[a]=e,n.push(e))})),n}function d(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter((e=>{let r=typeof e;return r in t?!t[r].hasOwnProperty(e)&&(t[r][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)}))}const m=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((n,r)=>e.slice(t*r,t+t*r))),f=(e,t)=>e.includes(t)},37762:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(87849);const a=e=>!("isConnected"in e)||e.isConnected,i=((e,t)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,e(...r)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(a))}),2e3),o=e=>"function"==typeof e?e():e,l=(e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)},s=(e,t)=>{const n=((e,t=(e,t)=>e!==t)=>{const n=o(e);let r=new Map(Object.entries(null!=n?n:{}));const a={dispose:[],get:[],set:[],reset:[]},i=()=>{var t;r=new Map(Object.entries(null!==(t=o(e))&&void 0!==t?t:{})),a.reset.forEach((e=>e()))},s=e=>(a.get.forEach((t=>t(e))),r.get(e)),c=(e,n)=>{const i=r.get(e);t(n,i,e)&&(r.set(e,n),a.set.forEach((t=>t(e,n,i))))},u="undefined"==typeof Proxy?{}:new Proxy(n,{get:(e,t)=>s(t),ownKeys:e=>Array.from(r.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>r.has(t),set:(e,t,n)=>(c(t,n),!0)}),d=(e,t)=>(a[e].push(t),()=>{l(a[e],t)});return{state:u,get:s,set:c,on:d,onChange:(t,n)=>{const r=d("set",((e,r)=>{e===t&&n(r)})),a=d("reset",(()=>n(o(e)[t])));return()=>{r(),a()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(d("set",t.set)),t.get&&e.push(d("get",t.get)),t.reset&&e.push(d("reset",t.reset)),t.dispose&&e.push(d("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{a.dispose.forEach((e=>e())),i()},reset:i,forceUpdate:e=>{const t=r.get(e);a.set.forEach((n=>n(e,t,t)))}}})(e,t);return n.use((()=>{if("function"!=typeof r.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const n=(0,r.g)();n&&((e,t,n)=>{const r=e.get(t);r?r.includes(n)||r.push(n):e.set(t,[n])})(e,t,n)},set:t=>{const n=e.get(t);n&&e.set(t,n.filter(r.f)),i(e)},reset:()=>{e.forEach((e=>e.forEach(r.f))),i(e)}}})()),n}},37849:(e,t,n)=>{n.d(t,{a:()=>E,b:()=>s,c:()=>T,d:()=>c,e:()=>L,f:()=>l,g:()=>f,h:()=>$,i:()=>F,j:()=>x,k:()=>g,p:()=>A,u:()=>D,v:()=>V});var r=n(37762),a=n(84135),i=n(87849),o=n(15332);const l=(0,r.c)({totalFeatureCount:null,layer:null,mapView:null,originalField:null,numRecords:null,modules:null,strings:null,arcadeExecutor:null,filteredFeatureCount:null,currentScript:null,registeredResultId:null,arcadeSupported:null,invalidScript:null,isTable:null,autoPreviewEnabled:null,selectedLanguage:null,features:null,sqlEngine:null}).state;function s(e){e.totalFeatureCount=void 0,e.mapView=void 0,e.numRecords=void 0,e.layer=void 0,e.originalField=void 0,e.arcadeExecutor=void 0,e.filteredFeatureCount=void 0,e.currentScript=void 0,e.registeredResultId=void 0,e.arcadeSupported=void 0,e.invalidScript=void 0,e.isTable=void 0,e.autoPreviewEnabled=void 0,e.selectedLanguage=void 0,e.features=void 0,e.sqlEngine=void 0}async function c(e){const{isTable:t,layer:n,mapView:r}=l;if(!("fields"in n))return Promise.reject("getOneFeature: wrong layer type");if(t)return u(e);{const t=await r.whenLayerView(n),a="hasM"in n&&n.hasM,i="hasZ"in n&&n.hasZ,o=t.availableFields.length===n.fields.length&&!a&&!i;if("createQuery"in n&&o){const r=n.createQuery();r.start=0,r.num=5,r.outFields=["*"],r.returnGeometry=!0,r.outSpatialReference=n.spatialReference;const a=await t.queryFeatures(r);return a.features&&a.features.length?Promise.resolve(a):await u(e)}return await u(e)}}async function u(e){const{layer:t,modules:n}=l;if(!("queryFeatures"in t))return Promise.resolve(m(t,n));try{const r=await d(e);return r?Promise.resolve(r):Promise.resolve(m(t,n))}catch(e){return Promise.reject()}}async function d(e){var t,n;const{layer:r,modules:a}=l,i=new a.Query({outFields:["*"],where:e||"1=1",outSpatialReference:r.spatialReference,returnGeometry:!0,returnM:"hasM"in r&&r.hasM,returnZ:"hasZ"in r&&r.hasZ});return(null===(n=null===(t=r.sourceJSON)||void 0===t?void 0:t.advancedQueryCapabilities)||void 0===n?void 0:n.supportsPagination)&&(i.num=1),await r.queryFeatures(i)}function m(e,t){const n={};"fields"in e&&e.fields.forEach((e=>{e.defaultValue?n[e.name]=e.defaultValue:["small-integer","big-integer","integer","single","double","long","date","oid"].indexOf(e.type)>-1?n[e.name]=0:"date-only"===e.type?n[e.name]=null:n[e.name]=""}));const r=new t.Graphic({geometry:void 0,symbol:void 0,attributes:n});return new t.FeatureSet({features:[r],fields:[],geometryType:e.geometryType,spatialReference:"spatialReference"in e&&e.spatialReference.clone()})}async function f(e="1=1"){const{layer:t,modules:n}=l,r=new n.Query({where:e});try{return await t.queryFeatureCount(r)}catch(e){return 0}}function p(e,t){const{modules:n}=l;return null!=e?y(e,t,Object.assign(Object.assign({},n.intl.convertDateFormatToIntlOptions("short-date-short-time")),{timeZone:"system"})):null}function g(e,t=l.originalField){if(null===e)return e;const{domain:n}=t,r=["date-only","time-only","timestamp-offset"];if(t.domain){const a=function(e,t){if(!t)return null;if("range"===t.type)return e;if("coded-value"===t.type){const n=t.codedValues.filter((t=>t.hasOwnProperty("code")&&t.code===e));return n&&n.length?n[0].name:e}return null}(e,t.domain);return"date"===t.type&&"range"===n.type?p(a,t):h(t)&&"range"===n.type?v(e,t):r.includes(t.type)&&"range"===n.type?y(a,t):a}return"date"===t.type||r.includes(t.type)||["esri.arcade.arcadedate","esri.core.sql.timeonly","esri.core.sql.dateonly"].includes(e.declaredRootClass)||e.isLuxonDateTime||e._timeStampOffset?p(e,t):h(t)?v(e,t):e}function y(e,t,n){const{selectedLanguage:r}=l;return"Arcade"===r?function(e,t,n){const{modules:r}=l;switch(t.type){case"date":return["esri.arcade.arcadedate","esri.core.sql.dateonly"].includes(e.declaredRootClass)?r.intl.formatDate(e.toJSDate(),Object.assign(Object.assign({},r.intl.convertDateFormatToIntlOptions("short-date-short-time")),{timeZone:"system"})):r.intl.formatDate(e,n);case"date-only":return"esri.core.sql.dateonly"===e.declaredRootClass?r.intl.formatDateOnly(e.toStorageFormat(),n):r.intl.formatDateOnly(e,n);case"time-only":return"esri.core.sql.timeonly"===e.declaredRootClass?r.intl.formatTimeOnly(e.toStorageString(),n):"esri.core.sql.dateonly"===e.declaredRootClass?r.intl.formatDateOnly(e.toJSDate(),n):"esri.arcade.arcadedate"===e.declaredRootClass?e.toString():r.intl.formatTimeOnly(e,n);case"timestamp-offset":return"esri.arcade.arcadedate"===e.declaredRootClass?r.intl.formatTimestamp(e.toISOString(),Object.assign(Object.assign({},r.intl.convertDateFormatToIntlOptions("short-date-short-time")),{timeZone:"system"})):"esri.core.sql.timeonly"===e.declaredRootClass?e.toStorageString():r.intl.formatTimestamp(e,n);default:return"toStorageString"in e?e.toStorageString():e.toString()||null}}(e,t,n):function(e,t){const{currentScript:n,modules:r}=l;let a=Object.assign(Object.assign({},r.intl.convertDateFormatToIntlOptions("short-date-short-time")),{timeZone:"system"}),i=e;if("esri.core.sql.timeonly"===e.declaredRootClass&&"time-only"!==t.type)if(n.includes("CURRENT_TIME")){const{day:t,month:n,year:r}=function(e=!0){const t=new Date;return{day:e?t.getDate():t.getUTCDate(),month:(e?t.getMonth():t.getUTCMonth())+1,year:e?t.getFullYear():t.getUTCFullYear()}}();i=e.toUTCDateTime().set({day:t,month:n,year:r})}else i=e.toUTCDateTime().set({year:1900});else"esri.core.sql.dateonly"===e.declaredRootClass?(i=e.toUTCDateTime(),["time-only","string"].includes(t.type)||(i=i.toLocal())):i=e._timeStampOffset?e.toDateTime():(e.isLuxonDateTime||t.type,e);switch(t.type){case"date":return i.isLuxonDateTime&&(i=i.ts),r.intl.formatDate(i,a);case"date-only":return i.isLuxonDateTime&&(i=i.toString()),r.intl.formatDateOnly(i,a);case"time-only":return i.isLuxonDateTime?i.toFormat("h:mm a"):r.intl.formatTimeOnly(i,a);case"timestamp-offset":return r.intl.formatTimestamp(i,a);case"string":return a=Object.assign(Object.assign({},r.intl.convertDateFormatToIntlOptions("short-date-short-time")),{timeZone:"UTC"}),"esri.core.sql.dateonly"===e.declaredRootClass?i.isLuxonDateTime?n.includes("CURRENT_DATE")?i.toFormat("LLL d yyyy h:mm a"):i.toFormat("yyyy-LL-dd HH:mm:ss"):r.intl.formatDateOnly(e.toString(),a):"esri.core.sql.timeonly"===e.declaredRootClass?i.isLuxonDateTime?e.toFormat("HH:mm:ss"):e.toStorageString():e._timeStampOffset?e.toSQLValue():e.isLuxonDateTime?e.toFormat("yyyy-LL-dd HH:mm:ss"):r.intl.formatDate(i,a);default:return null}}(e,t)}function v(e,t){const{modules:n}=l;return["single","double","long"].includes(t.type)?n.intl.formatNumber(parseFloat(e),n.intl.convertNumberFormatToIntlOptions({digitSeparator:!1,places:2})):["integer","small-integer","big-integer"].includes(t.type)?n.intl.formatNumber(parseFloat(e),n.intl.convertNumberFormatToIntlOptions({digitSeparator:!1,places:0})):void 0}function h(e){return["integer","small-integer","big-integer","single","double"].includes(e.type)}const b={double:{min:-Infinity,max:Infinity},integer:{min:-2147483648,max:2147483647},single:{min:-3402823e32,max:3402823e32},"small-integer":{min:-32768,max:32767},"big-integer":{min:-9007199254740991,max:9007199254740991}};function F(e){return(0,a.i)(e)&&(e instanceof Date||["esri.arcade.arcadedate","esri.core.sql.timeonly","esri.core.sql.dateonly"].includes(e.declaredRootClass)||e._timeStampOffset||e.isLuxonDateTime)}function w(e,t,n){return n>=e&&n<=t}function T(e){var t;const{layer:n}=l;if(e){const r=!["blob","global-id","oid","raster"].includes(e.type),a=null===(t=n.sourceJSON)||void 0===t?void 0:t.geometryProperties,i=[null==a?void 0:a.shapeLengthFieldName,null==a?void 0:a.shapeAreaFieldName].includes(e.name);return e.editable&&r&&!i&&e.name!==n.objectIdField}return!1}function E(e){var t,n;return("feature"===e.type||"oriented-imagery"===e.type)&&e.sourceJSON.supportsCalculate&&(null===(n=null===(t=e.portalItem)||void 0===t?void 0:t.typeKeywords)||void 0===n?void 0:n.indexOf("Hosted Service"))>-1&&"admin"===e.portalItem.itemControl}function S(e){const{originalField:t,strings:n}=l;return["esri.arcade.arcadedate","esri.core.sql.dateonly"].includes(e.declaredRootClass)||e.isLuxonDateTime||e._timeStampOffset?{isFieldValid:e.isValid}:{isFieldValid:!1,errorMessage:n.invalidFieldType.replace("${fieldType}",`${t.type}`)}}function O(e){const{originalField:t}=l;return(!["integer","small-integer","big-integer"].includes(t.type)||e===parseInt(e,10))&&("number"==typeof e&&!isNaN(e)&&e!==1/0&&e!==-1/0)}function C(e){const{originalField:t,strings:n}=l,r=b[t.type];return O(e)?w(r.min,r.max,e)?function(e){var t;const{originalField:n}=l;return"range"!==(null===(t=n.domain)||void 0===t?void 0:t.type)||w(n.domain.minValue,n.domain.maxValue,e)}(e)?{isFieldValid:!0}:{isFieldValid:!1,errorMessage:n.domainOutOfRange.replace("${min}",`${t.domain.minValue}`).replace("${max}",`${t.domain.maxValue}`)}:{isFieldValid:!1,errorMessage:n.outOfRange.replace("${fieldType}",t.type).replace("${min}",`${r.min}`).replace("${max}",`${r.max}`)}:{isFieldValid:!1,errorMessage:n.invalidFieldType.replace("${fieldType}",`${t.type}`)}}function L(e){const{originalField:t}=l;return null===e?t.nullable:void 0!==e}function V(e){const{strings:t,originalField:n}=l;if(null===e&&!isNaN(e))return n.nullable?{isFieldValid:!0}:{isFieldValid:!1,errorMessage:t.nullNotAllowed};if(function(e){return null!==e&&!F(e)&&("function"==typeof e||"object"==typeof e)}(e))return{isFieldValid:!1,errorMessage:t.cannotInsertObject.replace("${fieldType}",`${n.type||t.commonUndefined}`)};switch(n.type){case"string":return function(e){const{originalField:t,strings:n}=l;return(S(e)||O(e))&&e.toString().length<=t.length||"string"==typeof e&&e.length<=t.length?{isFieldValid:!0}:{isFieldValid:!1,errorMessage:n.stringLengthError.replace("${maxStringLength}",`${t.length}`)}}(e);case"double":case"integer":case"single":case"small-integer":case"big-integer":return C(e);case"date":case"timestamp-offset":return S(e);case"date-only":case"time-only":return function(e){const{originalField:t,strings:n}=l;let r=!1;return"date-only"===t.type?r="esri.core.sql.dateonly"===e.declaredRootClass?e.isValid:/[1-9][0-9][0-9]{2}-([0][1-9]|[1][0-2])-([1-2][0-9]|[0][1-9]|[3][0-1])/gm.test(e):"time-only"===t.type&&(r="esri.core.sql.timeonly"===e.declaredRootClass||/^(([0-1][0-9])|([2][0-3])):([0-5][0-9])(:[0-5][0-9](?:[.]\d{1,3})?)?$/gm.test(e)),{isFieldValid:r,errorMessage:r?null:n.invalidFieldType.replace("${fieldType}",`${t.type}`)}}(e);case"guid":return function(e){const{originalField:t,selectedLanguage:n,strings:r}=l;let a=/^[a-fA-F0-9]{32}$/.test(e)||/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e)||/^\{[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}\}$/.test(e)||/^\([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}\)$/.test(e),i=a?null:r.invalidFieldType.replace("${fieldType}",`${t.type}`);return a&&"SQL"===n&&(a=/^(?!\()\{?[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}\}?$/.test(e),a||(i=r.invalidGUID)),{isFieldValid:a,errorMessage:i}}(e);default:return{isFieldValid:!1,errorMessage:t.unexpectedValue}}}function x(e){const{features:t,layer:n,selectedLanguage:r,strings:a}=l,i=e.attributes[n.objectIdField];try{if("Arcade"===r)return function(e,t){const{arcadeExecutor:n,features:r,layer:a}=l;try{let i=n.execute({$feature:e,$datastore:a.url},{spatialReference:a.spatialReference,rawOutput:!0});const l=V(i);return/<\/?[a-z][\s\S]*>/i.test(i)&&(i=(0,o.s)(i)),r[t].calculatedValue=i,r[t].passed=l.isFieldValid,l.isFieldValid?r[t].error=null:r[t].error=l.errorMessage,i}catch(e){throw e}}(e,i);if("SQL"===r)return function(e,t){const{features:n,sqlEngine:r}=l;try{let a=r.calculateValue(e);const i=V(a);return/<\/?[a-z][\s\S]*>/i.test(a)&&(a=(0,o.s)(a)),n[t].calculatedValue=a,n[t].passed=i.isFieldValid,i.isFieldValid?n[t].error=null:n[t].error=i.errorMessage,a}catch(e){throw e}}(e,i)}catch(e){t[i].calculatedValue=null,t[i].error=a.calculationErrorGeneral,t[i].passed=!1}}async function $(e){const{arcadeExecutor:t,features:n,layer:r,strings:a}=l,i=e.attributes[r.objectIdField];try{let a=await t.executeAsync({$feature:e,$datastore:r.url},{spatialReference:r.spatialReference,rawOutput:!0});const l=V(a);return/<\/?[a-z][\s\S]*>/i.test(a)&&(a=(0,o.s)(a)),n[i].calculatedValue=a,n[i].passed=l.isFieldValid,l.isFieldValid?n[i].error=null:n[i].error=l.errorMessage,a}catch(e){n[i].calculatedValue=null,n[i].error=a.calculationErrorGeneral,n[i].passed=!1}}async function A(e){const{arcadeExecutor:t,features:n,invalidScript:r,layer:a,sqlEngine:o}=l,s=(e.attributes||e.graphic.attributes)[a.objectIdField];if(!n[s]){const e=await d(`${a.objectIdField} = ${s}`);n[s]={feature:e.features[0],tableFeature:!1,calculatedValue:void 0,passed:!1}}return!t&&!o||L(n[s].calculatedValue)||n[s].error||((null==t?void 0:t.isAsync)?await $(n[s].feature):await x(n[s].feature)),r?function(){const{strings:e}=l,t=document.createElement("div");return t.style.textAlign="center",t.innerHTML=`<img class="popup-icon" src=${(0,i.d)("././assets/arcgis-field-calculate-icons/alert-48.svg")}></img>\n  <calcite-label>${e.popupError}</calcite-label>`,t}():L(n[s].calculatedValue)||n[s].error?function(e){const{arcadeExecutor:t,features:n,layer:r,originalField:a,strings:i,sqlEngine:o}=l,s={};for(const t in e)s[t.toLowerCase()]=e[t];const c=document.createElement("div"),u=e[r.objectIdField];if(n[u].error){const e=document.createElement("calcite-label");e.layout="inline";const t=document.createElement("calcite-icon");t.classList.add("popup-error-icon"),t.icon="exclamation-mark-triangle",e.append(t),e.append(n[u].error),c.append(e)}const d=L(n[u].calculatedValue)&&!n[u].error||F(n[u].calculatedValue)?g(n[u].calculatedValue):n[u].calculatedValue,m=document.createElement("calcite-table");m.caption=d;const f=document.createElement("calcite-table-row"),p=document.createElement("calcite-table-header");p.heading=a.alias,f.appendChild(p),m.appendChild(f);const y=document.createElement("calcite-table-row"),v=document.createElement("calcite-table-cell");v.innerHTML=d,y.appendChild(v),m.appendChild(y),c.appendChild(m),c.appendChild(document.createElement("br"));let h=[];const b=t?t.fieldsUsed:o?o.fieldNames:[];if(b.forEach((e=>{if(!Object.keys(s).includes(e.toLowerCase()))return;const t=document.createElement("calcite-table-row"),n=document.createElement("calcite-table-cell");n.innerHTML=e;const a=document.createElement("calcite-table-cell");a.innerHTML=g(s[e.toLowerCase()],r.fields.find((t=>t.name.toLowerCase()===e.toLowerCase()))),t.append(n,a),h.push(t)})),h.length){const e=document.createElement("calcite-label");e.innerHTML=i.fieldsInCalculation;const t=document.createElement("calcite-table");t.bordered=!0,t.append(...h),e.append(t),c.append(e)}return c}(n[s].feature.attributes):function(){const{strings:e}=l,t=document.createElement("div");return t.style.textAlign="center",t.innerHTML=`<img class="popup-icon" src=${(0,i.d)("././assets/arcgis-field-calculate-icons/edit-48.svg")}></img>\n  <calcite-label>${e.popupPreview}</calcite-label>`,t}()}function D(){var e;const{layer:t,mapView:n,modules:r}=l;(null===(e=null==n?void 0:n.popup)||void 0===e?void 0:e.visible)&&(t.popupTemplate=new r.PopupTemplate({title:t.displayField?`{${t.displayField}}`:`{${t.objectIdField}}`,content:A,lastEditInfoEnabled:!1}))}},84135:(e,t,n)=>{function r(e){return null!=e}n.d(t,{i:()=>r})},93814:(e,t,n)=>{n.d(t,{c:()=>r,e:()=>a});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a={exports:{}};(function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",r="next";function a(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=n),"https://js.arcgis.com/".concat(e,"/")}function o(e){void 0===e&&(e=n);var t=i(e),o=a(e);if(o!==r&&3===o.major){var l=o.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function l(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function s(e,t){if(t){var n=document.querySelector(t);n.parentNode.insertBefore(e,n)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function u(e){return!e||a(e)?o(e):e}function d(e,t){var n=u(e),r=c(n);return r||s(r=l(n),t),r}var m={};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function p(e,t,n){var r;n&&(r=g(e,n));var a=function(){t(e),e.removeEventListener("load",a,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",a,!1)}function g(e,t){var n=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",n,!1)};return e.addEventListener("error",n,!1),n}function y(e){void 0===e&&(e={}),m=e}function v(){return document.querySelector("script[data-esri-loader]")}function h(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var n={};[m,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}));var r=n.version,a=n.url||i(r);return new t.Promise((function(e,t){var i=v();if(i){var o=i.getAttribute("src");o!==a?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):h()?e(i):p(i,e,t)}else if(h())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=n.css;l&&d(!0===l?r:l,n.insertCssBefore),p(i=f(a),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function F(e){return new t.Promise((function(t,n){var r=window.require.on("error",n);window.require(e,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r.remove(),t(e)}))}))}function w(e,t){if(void 0===t&&(t={}),h())return F(e);var n=v(),r=n&&n.getAttribute("src");return!t.url&&r&&(t.url=r),b(t).then((function(){return F(e)}))}e.utils=t,e.loadModules=w,e.getScript=v,e.isLoaded=h,e.loadScript=b,e.setDefaultOptions=y,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})})(a.exports)}}]);