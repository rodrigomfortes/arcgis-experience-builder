/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-9bb17d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-9bb17d"],{23388:(e,a,t)=>{t.r(a),t.d(a,{arcgis_new_item_pages_feature_layer_preference:()=>f});var s=t(87849),r=t(3826),n=t(95878),l=t(99654),i=t(33547);t(37762),t(59317),t(87744),t(72257),t(86562),t(15332),t(90079),t(31544),t(50637),t(931),t(93814),t(50822),t(32710),t(83929),t(76246),t(63054),t(15912),t(24869),t(50020),t(75294),t(38295),t(51102),t(56175),t(43555);const f=class{constructor(e){(0,s.r)(this,e),this.newItemUpdatePage=(0,s.c)(this,"newItemUpdatePage",7),this.featureLayerInfos=[],this.showCaptureGPS=!0,this.layerPreference={captureGPS:!1,enableZDefaults:!1,enableMDefaults:!1}}handleNext(){const{featureLayerInfos:e,layerPreference:a}=this,t=(0,l.m)(e,a);r.a.serviceInfo=Object.assign(Object.assign({},r.a.serviceInfo),{enableZDefaults:a.enableZDefaults,enableMDefaults:a.enableMDefaults,layers:t.filter((e=>"Feature Layer"===e.type)),tables:t.filter((e=>"Table"===e.type))}),this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,a;const{i18n:t}=n.u;this.i18n=t.featureLayerFromScratch;const{serviceInfo:s}=r.a,i=s;this.featureLayerInfos=[...i.layers,...i.tables].sort(((e,a)=>e.id-a.id)),this.layerPreference={captureGPS:this.featureLayerInfos.some(l.l),enableZDefaults:null!==(e=i.enableZDefaults)&&void 0!==e?e:this.featureLayerInfos.some(l.c),enableMDefaults:null!==(a=i.enableMDefaults)&&void 0!==a?a:this.featureLayerInfos.some(l.d)},this.showCaptureGPS=this.featureLayerInfos.some((e=>"Feature Layer"===e.type&&["esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"].includes(e.geometryType)))}render(){const{i18n:e,layerPreference:a,showCaptureGPS:t}=this;return(0,s.h)(s.H,{key:"ac785cf36d22bf1b45e598c33683bc04e2106603"},(0,s.h)("arcgis-new-item-layer-preference",{key:"bd235efebf28c5a09169feb71a7aaecfc1a8cfa3",i18n:e,defaultPreference:a,showCaptureGPS:t,onLayerPreferenceChange:e=>{const{layerPreference:a}=this,t=e.detail;!a.captureGPS&&t.captureGPS&&(0,i.e)("captureGPS"),!a.enableZDefaults&&t.enableZDefaults&&(0,i.e)("enableZDefaults"),!a.enableMDefaults&&t.enableMDefaults&&(0,i.e)("enableMDefaults"),this.layerPreference=t}}))}}}}]);