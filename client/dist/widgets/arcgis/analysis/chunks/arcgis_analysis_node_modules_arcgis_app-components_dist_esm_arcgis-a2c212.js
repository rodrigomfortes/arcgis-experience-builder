/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a2c212.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a2c212"],{591:(e,i,r)=>{r.r(i),r.d(i,{arcgis_member_browser_list_card:()=>a});var n=r(87849),t=r(59317),s=r(81034),o=r(56175),l=r(23966);r(37762),r(931),r(93814),r(15332),r(50822),r(87744),r(74174);const a=class{constructor(e){var i;(0,n.r)(this,e),this.arcgisMemberCardSelect=(0,n.c)(this,"arcgisMemberCardSelect",7),this.arcgisMemberBrowserCardPreview=(0,n.c)(this,"arcgisMemberBrowserCardPreview",7),this.arcgisMemberBrowserActionsOpen=(0,n.c)(this,"arcgisMemberBrowserActionsOpen",7),this.arcgisMemberBrowserInternalUIAction=(0,n.c)(this,"arcgisMemberBrowserInternalUIAction",7),this.arcgisMemberBrowserCredsLinkClick=(0,n.c)(this,"arcgisMemberBrowserCredsLinkClick",7),this.arcgisMemberBrowserUserTypeLinkClick=(0,n.c)(this,"arcgisMemberBrowserUserTypeLinkClick",7),this.arcgisMemberBrowserRoleChange=(0,n.c)(this,"arcgisMemberBrowserRoleChange",7),this.arcgisMemberBrowserLicensesClick=(0,n.c)(this,"arcgisMemberBrowserLicensesClick",7),this.arcgisMemberBrowserGroupsClick=(0,n.c)(this,"arcgisMemberBrowserGroupsClick",7),this.arcgisMemberBrowserAdminContactsLinkClick=(0,n.c)(this,"arcgisMemberBrowserAdminContactsLinkClick",7),this.creditsText="",this.member=void 0,this.user=void 0,this.portal=void 0,this.selected=void 0,this.disabled=void 0,this.baseUrl=null===(i=null===t.c||void 0===t.c?void 0:t.c.config)||void 0===i?void 0:i.baseUrl,this.actions=[],this.showDisabledState=!1,this.showCreditsLink=!1,this.showUserTypeLink=!1,this.showRoleSelect=!1,this.disableRoleSelect=!1,this.groups=void 0,this.groupsTotal=void 0,this.groupsThumbCount=4,this.columns=[]}componentWillLoad(){var e,i,r,n,t,s;this.store=(0,l.g)(this.el),this.i18n=Object.assign(Object.assign({},(null===(r=null===(i=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===i?void 0:i.i18n)||void 0===r?void 0:r.tableRow)||{}),(null===(s=null===(t=null===(n=this.store)||void 0===n?void 0:n.state)||void 0===t?void 0:t.i18n)||void 0===s?void 0:s.listCard)||{})}async componentWillRender(){const{member:e,i18n:i}=this;if(void 0===e.availableCredits)return;if(-1===e.availableCredits)return void(this.creditsText=i.noLimit);const r=await(0,s.a)(e.availableCredits===e.assignedCredits?e.availableCredits:Math.floor(e.availableCredits),{api:4}),n=await(0,s.a)(e.assignedCredits,{api:4}),t=i.creditsNumber.replace("${remain}",`${r}`).replace("${total}",`${n}`);this.creditsText=t}onClick(e){return{onClick:()=>{e()},onKeyDown:i=>{"Enter"!==i.key&&" "!==i.key||e()}}}emitInternalAction(e){this.arcgisMemberBrowserInternalUIAction.emit({category:"card action",action:e})}hasNeverLoggedIn(){return[0,-1,1e3].includes(this.member.lastLogin)}getLastLoginLabel(){const{member:e,i18n:i}=this;if(this.hasNeverLoggedIn())return i.hasNotLoggedIn;const r=new Date,n=new Date;n.setDate(n.getDate()-1);const t=new Date(e.lastLogin).toDateString();let o="";return o=r.toDateString()===t?i.today:n.toDateString()===t?i.yesterday:(0,s.b)(e.lastLogin),(0,s.s)(i.lastLoggedIn,{value:o})}renderUserType(){var e;const i=null===(e=this.store.state.userTypes)||void 0===e?void 0:e.find((e=>e.id===this.member.userLicenseTypeId));return(0,n.h)("div",null,this.showUserTypeLink?(0,n.h)("calcite-button",{appearance:"transparent",onClick:()=>{this.arcgisMemberBrowserUserTypeLinkClick.emit()}},null==i?void 0:i.name):null==i?void 0:i.name)}renderRole(){const{portal:e,user:i,member:r,showRoleSelect:t,disableRoleSelect:s}=this;return(0,n.h)("arcgis-member-browser-role-column",{portal:e,user:i,member:r,showRoleSelect:t,disableRoleSelect:s,onArcgisRoleColumnRoleChange:e=>{this.arcgisMemberBrowserRoleChange.emit(e.detail)},onArcgisRoleColumnContactsLinkClick:()=>{this.arcgisMemberBrowserAdminContactsLinkClick.emit()}})}renderCredits(){return(0,n.h)("div",null,this.showCreditsLink?(0,n.h)("calcite-button",{class:"credits-button",appearance:"transparent",onClick:()=>{this.arcgisMemberBrowserCredsLinkClick.emit()}},this.creditsText):this.creditsText)}renderGroups(){var e;const{i18n:i,portal:r,groups:t,groupsTotal:s,groupsThumbCount:l,user:a}=this;if((0,o.n)(a)&&(0,o.o)(a))return(0,n.h)("div",{tabIndex:0,class:"info-section clickable-section groups-section",onClick:()=>this.arcgisMemberBrowserGroupsClick.emit()},(0,n.h)("div",{class:"info-section-title"},i.groups),(0,n.h)("div",null,(null===(e=this.groups)||void 0===e?void 0:e.length)?(0,n.h)("arcgis-group-thumbnail-stack",{portal:r,groups:t,total:s,maxGroups:l}):(0,n.h)("div",{class:"configure-link"},i.configureGroups)))}renderLicenses(){const{i18n:e,user:i}=this;if((0,o.l)(i))return(0,n.h)("div",{tabIndex:0,class:"info-section clickable-section licenses-section",onClick:()=>this.arcgisMemberBrowserLicensesClick.emit()},(0,n.h)("div",{class:"info-section-title"},e.addonLicenses),(0,n.h)("div",null,(0,n.h)("slot",{name:"addonLicenses"})))}render(){const{member:e,portal:i,selected:r,baseUrl:t,i18n:o}=this;if(o)return(0,n.h)("section",{class:{"member-list-card":!0,"member-list-card--disabled":e.disabled&&this.showDisabledState}},"multiple"===this.store.state.selection&&(0,n.h)("div",null,(0,n.h)("calcite-checkbox",{disabled:this.disabled,checked:r,value:e.username,onClick:e=>{e.stopPropagation()},onCalciteCheckboxChange:()=>{this.arcgisMemberCardSelect.emit({member:e,selected:!this.selected})}},(0,n.h)("span",{class:"screen-readers-only"},e.fullName))),(0,n.h)("div",{class:{"content-section":!0,"content-section--disabled":e.disabled&&this.showDisabledState}},(0,n.h)("div",null,(0,n.h)("arcgis-user-popup",{user:e,fullName:e.fullName,showUsername:!0,underline:!0,portal:i,baseUrl:t,scale:"l",wrap:!0,onArcgisUserPopupInternalUIAction:e=>{var i;this.emitInternalAction(null===(i=e.detail)||void 0===i?void 0:i.action)}}),this.columns.includes("lastlogin")&&(0,n.h)("div",{class:"last-login"},(0,n.h)("div",{id:`last-login-label-${e.id}`,class:"last-login-label"},this.getLastLoginLabel()),this.hasNeverLoggedIn()&&(0,n.h)("calcite-tooltip",{referenceElement:`last-login-label-${e.id}`},(0,n.h)("div",null,(0,s.s)(o.neverSignedInTooltip,{date:(0,s.b)(e.created)}))))),(0,n.h)("div",{class:"member-info-container"},this.columns.includes("usertype")&&(0,n.h)("div",{class:"info-section"},(0,n.h)("div",{class:"info-section-title"},o.userType),this.renderUserType()),this.columns.includes("role")&&(0,n.h)("div",{class:"info-section role-section"},(0,n.h)("div",{class:"info-section-title"},o.role),this.renderRole()),this.columns.includes("credits")&&(0,n.h)("div",{class:"info-section credits-section"},(0,n.h)("div",{class:"info-section-title"},o.creditsRemaining),this.renderCredits()),this.renderLicenses(),this.renderGroups())),(0,n.h)("div",null,(0,n.h)("span",null,this.actions.length>0&&(0,n.h)("calcite-button",{kind:"neutral",iconStart:"ellipsis",appearance:"transparent",label:this.i18n.moreOptions,slot:"trigger",onClick:e=>{this.arcgisMemberBrowserActionsOpen.emit({el:e.target,actions:this.actions})}}))))}get el(){return(0,n.a)(this)}};a.style=".member-list-card{margin-bottom:1rem;display:flex;background-color:var(--calcite-color-foreground-1);padding:1rem;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.content-section--disabled{opacity:0.5}.content-section{margin-left:1rem;margin-right:1rem;flex:1 1 0%}.member-info-container{margin-top:1rem;display:flex;width:100%;flex-wrap:wrap}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.role-select-container{display:flex;align-items:center}.role-select{flex:1 1 0%}.role-info{margin-inline-end:1rem;display:none}.role-info--visible{display:inline-block}.role-info-container{width:20rem;padding:1rem}.role-info-heading{font-size:1rem;font-weight:500}.role-info-content{margin-bottom:0px}.last-login{margin-inline-start:3.5rem;font-size:0.75rem}.last-login-label{display:inline-block}.info-section{box-sizing:border-box;min-width:180px;flex:1 1 0%;padding:1rem;border-inline-end:1px solid var(--calcite-color-border-3)}.info-section-title{font-size:0.75rem}.role-section,.credits-section{padding-inline-start:1rem}.groups-section{border-inline-end-width:0px}.clickable-section{cursor:pointer}.clickable-section:hover{background-color:var(--calcite-color-background)}.configure-link{font-size:0.875rem;color:var(--calcite-color-text-link)}.credits-button{max-width:100%}"},931:(e,i,r)=>{r.d(i,{l:()=>t});var n=r(93814);const t=async(e,i)=>(await n.e.exports.loadModules(e,i)).map((e=>e.__esModule&&e.default?e.default:e))},23966:(e,i,r)=>{r.d(i,{a:()=>o,g:()=>s,o:()=>l});var n=r(37762),t=r(74174);function s(e){return(0,t.g)(e,"arcgis-member-browser")}const o=(e,i)=>{e.onChange("view",(e=>{i(e)}))};(0,n.c)({type:"member-browser",includeExternalUsers:!1});const l=(e,i)=>{e.onChange("sort",(e=>{i(e)}))}},50822:(e,i,r)=>{r.d(i,{a:()=>o,b:()=>s,c:()=>c,d:()=>d,e:()=>u,f:()=>h,g:()=>p,i:()=>l,u:()=>a});r(93814);var n=r(87744);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function s(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function o(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function l(e,i){return e.owner===i.username}function a(e,i){return l(e,i)||function(e,i){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl,s=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!l(e,i)&&t&&n.includes("esri_")&&!s.includes(n))return!1;return t}(e,i)}const c=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),d=(e,i)=>`${(0,n.a)(i)}item.html?id=${e}`,u=(e,i)=>`${(0,n.g)(i)}/content/users/${e}`,h=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{}),p=(e,i)=>`${(0,n.a)(i)}content/items/${e}`},56175:(e,i,r)=>{r.d(i,{A:()=>B,B:()=>U,C:()=>p,D:()=>R,a:()=>l,b:()=>s,c:()=>o,d:()=>m,e:()=>w,f:()=>f,g:()=>C,h:()=>y,i:()=>h,j:()=>k,k:()=>D,l:()=>a,m:()=>x,n:()=>d,o:()=>u,p:()=>v,q:()=>z,r:()=>P,s:()=>c,t:()=>I,u:()=>T,v:()=>_,w:()=>S,x:()=>g,y:()=>b,z:()=>M});var n=r(50822);const t=e=>{var i,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function s(e){return e&&!e.orgId}function o(e,i){return(0,n.u)(e,i)||"update"===e.itemControl||(0,n.c)([e],i)&&f(i)}function l(e,i){const r=(0,n.c)([e],i),t=(0,n.u)(e,i)||f(i)&&r,s=C(i)&&L(i);return!!(t||r&&s)}const a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function h(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function p(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function v(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const m=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},g=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},b=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function f(e){return"org_admin"===t(e)||"account_admin"===t(e)}function w(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function C(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function k(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function y(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function x(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const L=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function M(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function B(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function D(e,i,r,n){const t=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),s=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!f(i)&&!s||!(null==r?void 0:r.isPortal)&&!t)}function R(e){return!!e&&(!C(e)||C(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const U=({items:e,user:i,portal:r})=>{const t=e[0],s=t.owner;if(r.isPortal&&s!==i.username&&s.includes("esri_")&&!["esri_livingatlas"].includes(s))return!1;const l=(0,n.u)(t,i),a=C(i),c=A(i),d=o(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!a&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||I(e)||T(e)||!!i.canSharePublic&&M(e)}(i,r)||A(i));return l||d||(0,n.c)(e,i)&&c};function A(e){return _(e)||S(e)||B(e)}const O=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function P(e){return e.some((e=>O.includes(e)))}function z(e){return e.filter((e=>O.includes(e)))}},74174:(e,i,r)=>{r.d(i,{a:()=>s,b:()=>l,g:()=>c,i:()=>t,o:()=>o});var n=r(15332);const t=e=>"item-browser"===e.state.type,s=(e,i,r)=>{i.onChange("filters",(i=>{i[e]&&i[e].value||r()}))},o=(e,i)=>{e.onChange("preview",(e=>{i()}))},l=(e,i)=>{e.onChange("groupId",(e=>{i()}))},a=new Map;function c(e,i){const r=a.get(e);if(r)return r;const t=(0,n.c)(e,i);return t?(a.set(e,t.store),t.store):null}},81034:(e,i,r)=>{r.d(i,{C:()=>l,a:()=>a,b:()=>d,f:()=>u,g:()=>o,l:()=>s,s:()=>p});var n=r(931),t=r(15332);const s=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function o(e){return function(e,i,r){const n=(0,t.c)(e,`[${i}]`);return n?n.getAttribute(i):r}(e,"dir","ltr")}const l={rtl:"arcgis--rtl"};async function a(e,i){const{api:r,type:t,places:s}=i||{};if(4===r){const[i]=await(0,n.l)(["esri/intl"]),r=i.convertNumberFormatToIntlOptions({places:s,style:t,digitSeparator:!0});return i.formatNumber(e,Object.assign(Object.assign({},r),{style:t}))}const[o]=await(0,n.l)(["dojo/number"]);return o.format(e,{type:t,places:s,pattern:null==i?void 0:i.pattern})}const c={};function d(e,i){let r=document.documentElement.lang;const n="bs"===r;if(n&&(r="hr"),i){const i=`${r}-full`,n={dateStyle:"full",timeStyle:"long"};return c[i]||(c[i]=new Intl.DateTimeFormat(r,n)),c[i].format(e)}const t={year:"numeric",month:n?"numeric":"short",day:"numeric"};return c[r]||(c[r]=new Intl.DateTimeFormat(r,t)),c[r].format(e)}function u(e,i,r,n){const t=null!=e?e:"en";let s=i.unknown;return(1===r||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(t))&&(s=i.single),1!==r&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(t)&&(s=i.multiple),p(s,Object.assign(Object.assign({},n),{number:r}))}const h=/\$\{([^}]+)\}/g;function p(e,i,r=h){let n=e;try{n=e.replace(r,((e,r)=>function(e,i){const r=e.split(".").reduce(((e,i)=>e[i]),i);return"string"==typeof r||"number"==typeof r?r:e}(r,i).toString()))}catch(e){console.error(e)}return n}}}]);