"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-0f09b6"],{5839:(e,t,i)=>{i.d(t,{D:()=>l,S:()=>n,a:()=>u,b:()=>o,c:()=>h,f:()=>d,g:()=>c});const n={Arabic:"ar",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Hindi:"hi",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",Norwegian:"no",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},s=["ar","de","es","fr","it","ja","ko","ru","pl","pt-br","zh-cn"],a={"ar-BH":"ar","en-AU":"en","en-CA":"en","en-GB":"en","en-US":"en","es-ES":"es","es-MX":"es","de-CH":"de","de-AT":"de","de-DE":"de","fr-CA":"fr","fr-CH":"fr","fr-FR":"fr","it-CH":"it","it-IT":"it",nb:"no",nn:"no","nn-no":"no",ind:"id",ukr:"uk"},r=[n.Arabic,n.Hebrew],l=n.English;function o(e){return!0===e?"rtl":"ltr"}function c(e=document.documentElement){const t=(i="[lang]",function e(t){let n;return n=void 0===t||t===document||t===window?null:t.closest(i)||e(t.getRootNode().host),n}(e));var i;const s=t?.lang??window.navigator.language,o=Object.values(n),c=l,h=function(e,t){const i=l;let n=e?.toLowerCase();if(void 0!==n&&-1!==n.indexOf("-")){const[e,t]=n.split("-");n=`${e}-${t.toUpperCase()}`}return n?!0===Object.keys(a).includes(n)?t[n]:n:i}(s,a);return{locale:o.includes(h)?h:c,rtl:r.includes(s)}}async function h(e,t){const i=e.tagName.toLowerCase(),{locale:n,rtl:s}=c(e),a=await async function(e){const{path:t,locale:i,baseURL:n}=e;let s={};try{const e=await fetch(`${n}t9n/${t}.t9n.${i}.json`);s=await e.json()}catch(e){const i=await fetch(`${n}t9n/${t}.t9n.${l}.json`);s=await i.json()}return s}({path:i,locale:n,baseURL:t});return{strings:a,dir:o(s),locale:n}}function u(e,t){if(!1===/^(?:[a-z]+:)?\/\//i.test(e)){const i=window.location.href,n=new URL(i).origin,s=new URL(t).origin;n!==s&&(e=`${s}${e}`)}return e}function d(e,t="en"){let i=t;!0===Object.keys(a).includes(t)&&(i=a[t]);const n=i.toLocaleLowerCase();return!0===s.includes(n)&&(e=e.replace(/^https?:\/\/[^/]+\/en/,(e=>e.replace("en",n)))),e}},21806:(e,t,i)=>{i.d(t,{R:()=>u});var n=i(83628),s=i(5839),a=(i(5294),i(13661),i(18423),i(21255),i(35431),i(92991)),r=(i(588),i(55448),i(2924),i(11840),i(52373),i(33752),i(440),i(66744),i(33797));i(23795),i(17902),i(56451),i(71802),i(44345),i(32513),i(36596);const l="inputArgHelpClickHandler",o="sizeArgHelpClickHandler",c=1,h=100,u=class{constructor(e){(0,n.r)(this,e),this.rfxArgumentChange=(0,n.c)(this,"rfxArgumentChange"),this.uiElements={sizeArgLabel:void 0,sizeArgContainer:void 0},this.isRasterSet=!1,this.helpActionClickEventHandlers=new Map,this.handleRasterChange=async()=>{const e=this.widgetArgs.triggerArgs.Raster,t=e?.input,i=await t.getSelectedLayer();let n=3;if(i){n=(await(i?.generateRasterInfo(i.rasterFunction))).bandCount,this.isRasterSet=!0}else this.isRasterSet=!1;this.widgetState={...this.widgetState,size:n}}}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}async componentWillLoad(){({strings:this.strings,dir:this.direction}=await(0,s.c)(this.hostElement,(0,n.a)("."))),this.setupInitialState()}componentWillRender(){this.setWidgetValue()}componentDidLoad(){this.attachHelpClickEventHandlers()}async checkValidity(){const e=await(this.inputElement?.checkValidity());return Promise.resolve(e)}processWidgetArgs({inputArgs:e,triggerArgs:t}){Object.keys(e).forEach((t=>{const i=e[t];this.inputArg=i,i.input=this.hostElement}));const i=t.Raster;i?.input?.addEventListener("rfxArgumentChange",(()=>{this.handleRasterChange()})),(0,a.i)(i.value?.url)||(this.isRasterSet=!0)}setupInitialState(){this.uiElements.sizeArgLabel=this.strings.size;const e=this.inputArg.value,t=(0,a.i)(e)?3:Math.sqrt(e.length);this.widgetState=(0,a.E)({size:t,value:e}),this.value=e}setWidgetValue(){this.value=this.widgetState?.value}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.inputArg?.helpTextID});this.helpActionClickEventHandlers.set(l,e)}onSizeChange(e){!e||e<=0||(this.widgetState={...this.widgetState,size:e})}render(){return(0,n.h)("div",{key:"7fe9463f30243ec5b571a3513ae6db7be3dfd7b7"},(0,n.h)("calcite-label",{key:"55bcf20e6acab24b836116c62da6246fb5e37580",alignment:"start",scale:r.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,n.h)("rfx-label",{key:"2bebe154d499a2ebff58c9c5189ac37b15d3fe37",label:this.inputArg.displayName,hideHelp:(0,a.i)(this.inputArg.helpTextID),onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers.get(l)()}),(0,n.h)("rfx-simple-matrix",{key:"e3151269230d435fd4c505006e4ecf0a49c6705f",columns:this.widgetState.size,rows:this.widgetState.size,value:this.widgetState.value,onRfxArgumentChange:e=>{e.stopPropagation();const{detail:{value:t}}=e;(0,a.v)(this.value,t)||(this.widgetState={...this.widgetState,value:t})},isEditable:!0,ref:e=>{this.inputElement=e}})),this.isRasterSet?null:(0,n.h)("calcite-label",{alignment:"start",scale:r.U.Scale,layout:"default",ref:e=>{this.uiElements.sizeArgContainer=e;const t=this.widgetArgs.onHelpActionClick({heading:this.uiElements.sizeArgLabel,referenceElement:this.uiElements.sizeArgContainer,helpTextID:this.widgetArgs.helpTextIDs.spectralconversion_size});this.helpActionClickEventHandlers.set(o,t)}},(0,n.h)("rfx-label",{label:this.uiElements.sizeArgLabel,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers.get(o)()}),(0,n.h)("rfx-dte-number-input",{value:this.widgetState.size,onRfxNumberInputChange:e=>{if(e.stopPropagation(),null!==e.target){const t=(e?.target).value;this.onSizeChange(t)}},min:c,max:h,required:!0,ref:e=>{this.inputElement=e}})))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,n.g)(this)}};u.style=""},24848:(e,t,i)=>{i.r(t),i.d(t,{rfx_cte_conversion_grid:()=>n.R});var n=i(21806);i(83628),i(5839),i(5294),i(13661),i(18423),i(21255),i(35431),i(92991),i(32513),i(44345),i(588),i(55448),i(2924),i(11840),i(52373),i(33752),i(440),i(66744),i(33797),i(23795),i(17902),i(56451),i(71802),i(36596)},33797:(e,t,i)=>{i.d(t,{C:()=>s,U:()=>n,a:()=>a,u:()=>r});const n={Scale:"s",PopoverTimer:60},s={s:"s",m:"m",l:"l"},a={absolute:"absolute",fixed:"fixed"},r=e=>e===s.s?s.m:s.l}}]);