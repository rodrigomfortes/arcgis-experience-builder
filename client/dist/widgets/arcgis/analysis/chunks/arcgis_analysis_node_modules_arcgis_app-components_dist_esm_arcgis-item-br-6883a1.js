/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1"],{5939:(e,t,i)=>{i.d(t,{g:()=>a});var r=i(64099);async function a(e){const t=await(0,r.g)(e,"arcgis-item-browser");return t&&t.length?t[0]:null}},13323:(e,t,i)=>{i.r(t),i.d(t,{arcgis_item_browser_filter_expiration:()=>n});var r=i(87849),a=i(94514),s=i(5939);i(64099),i(15332),i(81034),i(931),i(93814);const n=class{constructor(e){(0,r.r)(this,e),this.arcgisItemBrowserFilter=(0,r.c)(this,"arcgisItemBrowserFilter",7),this.property="expires",this.today=new Date((0,a.g)()),this.resetDatePicker=()=>{this.range="next30",this.start=null,this.end=null},this.renderRange=e=>{const{i18n:t,range:i}=this;return(0,r.h)("calcite-tree-item",{"data-range":e,selected:e===i},t[e])},this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}async componentWillLoad(){const e=await(0,s.g)(this.el);this.i18n=null==e?void 0:e.filterExpiration}componentDidLoad(){this.range&&("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}getValue(){const{range:e,start:t,end:i}=this,r=(0,a.g)(),s=r+a.D-1;switch(e){case"tomorrow":return[r+a.D-1,s+a.D];case"today":return[r,s];case"next7":return[r,s+7*a.D];case"next30":return[r,s+30*a.D];case"custom":return[(0,a.g)(t),(0,a.g)(i)+a.D-1];default:return null}}getEventDetail(){const{range:e,i18n:t}=this,i=this.getValue();return{id:this.property,param:"q",value:i?`([${i[0]} TO ${i[1]}])`:"",range:e,start:(null==i?void 0:i[0])&&new Date(null==i?void 0:i[0]),end:(null==i?void 0:i[1])&&new Date(null==i?void 0:i[1]),label:this.i18n[this.property].replace("${date}",t[e])}}render(){const{i18n:e,property:t,range:i,start:a,end:s}=this;return(0,r.h)("arcgis-browser-filter",{key:"1b154fc19b23b6f0e29c17a5eca9a74488a86be4",heading:e.title[t],expanded:this.expanded,active:!1,filterID:this.property,onArcgisBrowserFilterRemove:()=>{this.resetDatePicker()}},(0,r.h)("calcite-tree",{key:"8f41938646010b954e7ea0d10726cf2b1b64ed45",selectionMode:"children",scale:"m",onCalciteTreeSelect:e=>{var t,i;const r=null===(i=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===i?void 0:i.dataset.range;this.range=this.range===r?null:r,("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}},["today","tomorrow","next7","next30","custom"].map(this.renderRange)),"custom"===i&&(0,r.h)("calcite-date-picker",{key:"3611df89fbd1d592a8982a0449eecbf7e6da2045",onCalciteDatePickerRangeChange:e=>{const t=e.target,i=t.valueAsDate[0],r=t.valueAsDate[1];i&&r&&(this.start=i,this.end=r,this.arcgisItemBrowserFilter.emit(this.getEventDetail()))},scale:"s",valueAsDate:[a,s],minAsDate:this.today,layout:"vertical",monthStyle:"abbreviated",range:!0,class:"filter-expiration--date-picker"}))}get el(){return(0,r.a)(this)}};n.style=".filter-expiration--date-picker{margin-top:0.5rem;margin-bottom:0.5rem;margin-inline-start:2rem;width:12.75rem}"}}]);