/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a90c2e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a90c2e"],{3826:(e,i,n)=>{n.d(i,{a:()=>t,b:()=>l,c:()=>o,d:()=>r});const r=(0,n(37762).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),t=r.state,l=r.state,o=r.state},50822:(e,i,n)=>{n.d(i,{a:()=>o,b:()=>l,c:()=>a,d:()=>c,e:()=>d,f:()=>v,g:()=>p,i:()=>s,u:()=>u});n(93814);var r=n(87744);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function l(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function o(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function u(e,i){return s(e,i)||function(e,i){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,t="admin"===e.itemControl,l=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!s(e,i)&&t&&r.includes("esri_")&&!l.includes(r))return!1;return t}(e,i)}const a=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),c=(e,i)=>`${(0,r.a)(i)}item.html?id=${e}`,d=(e,i)=>`${(0,r.g)(i)}/content/users/${e}`,v=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{}),p=(e,i)=>`${(0,r.a)(i)}content/items/${e}`},56175:(e,i,n)=>{n.d(i,{A:()=>x,B:()=>N,C:()=>p,D:()=>$,a:()=>s,b:()=>l,c:()=>o,d:()=>g,e:()=>y,f:()=>b,g:()=>w,h:()=>S,i:()=>v,j:()=>P,k:()=>C,l:()=>u,m:()=>I,n:()=>c,o:()=>d,p:()=>m,q:()=>q,r:()=>A,s:()=>a,t:()=>_,u:()=>k,v:()=>L,w:()=>D,x:()=>f,y:()=>h,z:()=>O});var r=n(50822);const t=e=>{var i,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function l(e){return e&&!e.orgId}function o(e,i){return(0,r.u)(e,i)||"update"===e.itemControl||(0,r.c)([e],i)&&b(i)}function s(e,i){const n=(0,r.c)([e],i),t=(0,r.u)(e,i)||b(i)&&n,l=w(i)&&T(i);return!!(t||n&&l)}const u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function v(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function p(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function m(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const g=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},f=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},h=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function b(e){return"org_admin"===t(e)||"account_admin"===t(e)}function y(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function w(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function P(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function S(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function I(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const T=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function O(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function L(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function C(e,i,n,r){const t=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),l=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!b(i)&&!l||!(null==n?void 0:n.isPortal)&&!t)}function $(e){return!!e&&(!w(e)||w(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const N=({items:e,user:i,portal:n})=>{const t=e[0],l=t.owner;if(n.isPortal&&l!==i.username&&l.includes("esri_")&&!["esri_livingatlas"].includes(l))return!1;const s=(0,r.u)(t,i),u=w(i),a=U(i),c=o(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!u&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||_(e)||k(e)||!!i.canSharePublic&&O(e)}(i,n)||U(i));return s||c||(0,r.c)(e,i)&&a};function U(e){return L(e)||D(e)||x(e)}const G=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function A(e){return e.some((e=>G.includes(e)))}function q(e){return e.filter((e=>G.includes(e)))}},66111:(e,i,n)=>{n.d(i,{A:()=>T,B:()=>A,a:()=>$,b:()=>b,c:()=>C,d:()=>v,e:()=>p,f:()=>P,g:()=>y,h:()=>m,i:()=>h,j:()=>S,k:()=>I,l:()=>O,m:()=>c,n:()=>D,o:()=>x,p:()=>d,q:()=>B,r:()=>N,s:()=>q,t:()=>L,u:()=>U,v:()=>F,w:()=>G,x:()=>E,y:()=>u,z:()=>_});var r=n(83929),t=n(87744),l=n(56175),o=n(59317),s=n(50637);async function u(){return new Promise((async e=>{const{portal:i}=o.c;if(null==i?void 0:i.isPortal){const n=i.helperServices.geocode,r=await function(e){const{config:i,portal:n}=o.c;return new Promise((async(r,t)=>{const l=e.filter((e=>a(e.url,n))).filter((e=>e.isEsriBatchGeocoder))[0];if(l){const e=l.url.split("/servers/")[1].split("/rest/services/")[0],n=`${i.restBaseUrl}/content/items/${e}`;try{r((await(0,s.r)(n)).url)}catch(e){t(e)}}else t("No world geocoder configured")}))}(n);e(r)}else{const n=function(e){const i=null==e?void 0:e.portalHostname;if(-1!==i.indexOf("dev"))return"dev";if(-1!==i.indexOf("qa"))return"qa";return""}(i);e(`https://geocode${n}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function a(e="",i){var n;const r=i.isPortal,t=e.toLowerCase(),l=t.indexOf("/geocodeserver")>-1&&t.indexOf("/rest/services/")>-1,o=r&&t.indexOf(null===(n=i.portalHostname)||void 0===n?void 0:n.toLowerCase())>-1,s=!r&&t.indexOf("utility")&&t.indexOf(".arcgis.com")>-1;return l&&(o||s)}function c(e){return(0,l.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function d(e){return(0,l.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function v(e,i){return!(0,l.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,r.i)(i,e)}const p=e=>!(0,l.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishServerServices"));async function m(e,i){return!(0,l.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,r.i)(i,e)}const g=async(e,i)=>{var n;return await m(e,i)&&(!i.isPortal||!!i.supports3DTilesServices||!!(null===(n=i.sourceJSON)||void 0===n?void 0:n.supports3DTilesServices))};function f(e){return!(0,l.b)(e)&&!0}function h(e){var i;return!(0,l.b)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const b=e=>!(0,l.b)(e);function y(e,i,n){var r,t;const l=!!(null===(t=null===(r=i.helperServices)||void 0===r?void 0:r.rasterAnalytics)||void 0===t?void 0:t.url),o=function(e,i,n){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||w(n))}(e,i,n),s=i.isPortal?o:o||function(e,i,n){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&w(n)}(e,i,n);return l&&s}function w(e){return null==e?void 0:e.some((e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some((e=>"image"===e.toLowerCase()))}))}async function P(e){var i;const{userLicensedItems:n}=await(0,s.r)(`${null!==(i=e.restUrl)&&void 0!==i?i:e.portalUrl}/community/self?returnUserLicensedItems=true`);return n}function S(e,i){var n,r;const o=null===(n=i.helperServices)||void 0===n?void 0:n.geocode.some((({url:e})=>a(e,i))),s=null!==(r=null==e?void 0:e.privileges)&&void 0!==r?r:[];return!(0,l.b)(e)&&o&&(!i.isPortal||!(0,t.i)(i)&&s.includes("portal:user:viewOrgItems")&&s.includes("portal:user:createItem"))}const I=e=>!(0,l.b)(e);function T(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function _(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function k(e){return["portal:publisher:createDataPipelines","portal:user:createItem","portal:publisher:publishFeatures"].every((i=>{var n;return null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes(i)}))}function O(e,i,n){var r,t,o;return!(0,l.d)(n)&&((null==i?void 0:i.isPortal)?!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores")):k(e)&&("1"===(null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.level)||"2"===(null===(o=null==e?void 0:e.sourceJSON)||void 0===o?void 0:o.level)))}const D=(e,i,n)=>!i.isPortal&&!(0,l.b)(e)&&!(0,l.d)(n)&&k(e);function x(e){return!(0,l.b)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const L=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function C(e,i,n){return!i.isPortal&&await v(e,i)&&await async function(e,i,n){return!(0,l.b)(e)&&!!i.supportsHostedServices&&c(e)&&(await m(e,i)||await v(e,i)||h(e)||f(e)||y(e,i,n))}(e,i,n)}async function $(e,i,n){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return v(e,n);case"Tile Package":return m(e,n);case"3DTiles Package":return g(e,n);case"Vector Tile Package":return f(e);case"Scene Package":return h(e);case"Service Definition":return async function(e,i){return await v(e,i)&&await m(e,i)}(e,n);default:return!0}}function N(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}function U(e,i){var n,r,t;return(0,l.f)(e)||N(e)||!!((null!==(n=null==e?void 0:e.assignedCredits)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.assignedCredits)>-1&&(null===(t=null==i?void 0:i.portalProperties)||void 0===t?void 0:t.showCreditsOnProfile))}const G=e=>!1;function A(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function q(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}function B(e){return(0,l.e)(e)||q(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}function E(e){return e.map((e=>`portal:app:access:item:${e.id}`))}const F=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")},77868:(e,i,n)=>{n.d(i,{a:()=>d,b:()=>c,l:()=>a});var r=n(59317),t=n(3826);const l="create tile layer",o="my content",s=e=>{switch(e){case"store":return"data store";case"existing":return"fs";case"upload":return"upload"}},u=e=>{switch(e){case"tiles":return"raster";case"vectorTiles":return"vector"}},a=()=>{var e;null===(e=r.c.telemetry)||void 0===e||e.startWorkflow(l,{category:"create tile layer",pageName:"my content"})},c=()=>{const e=r.c.telemetry;null==e||e.stepWorkflow(l,"from option",{category:l,attribute:s(t.a.addTileLayerOption),details:u(t.a.tileLayerPublishType),pageName:o})},d=()=>{const e=r.c.telemetry;null==e||e.endWorkflow(l,{category:l,attribute:s(t.a.addTileLayerOption),details:u(t.a.tileLayerPublishType),pageName:o})}},79875:(e,i,n)=>{n.r(i),n.d(i,{arcgis_new_item_pages_scene_layer_select:()=>a});var r=n(87849),t=n(59317),l=n(3826),o=n(95878),s=n(77868),u=n(66111);n(37762),n(83929),n(50637),n(931),n(93814),n(87744),n(56175),n(50822);const a=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.canPublishScene=!1,this.selected="upload"}initOptions(){t.c.portal.isPortal?this.options={upload:{icon:"upload-to",page:"layerUpload"},store:{icon:"data-cloud",page:"dataStoreList"}}:this.options={object3D:{icon:"cube",page:"sceneLayerFromTemplate"},upload3dData:{icon:"upload-to",page:"layerUpload"}}}async componentWillLoad(){var e;this.initOptions(),this.canPublishScene=(0,u.i)(t.c.user),this.selected=null!==(e=l.a.addSceneLayerOption)&&void 0!==e?e:t.c.portal.isPortal?this.canPublishScene?"upload":"store":"object3D",this.i18n=o.u.i18n.sceneLayerSelect}handleNext(){const e=this.selected;l.a.addSceneLayerOption=e,(0,s.b)(),this.newItemUpdatePage.emit(this.options[e].page)}render(){const{i18n:e,options:i,canPublishScene:n}=this,{helpMap:l,helpBase:s}=t.c.config;return(0,r.h)("div",{key:"b882a6ced57446494be444c30c9102fdfd255a91"},(0,r.h)("arcgis-new-item-description",{key:"e2b9e0a6f13e054e7a7dbe4a60eabe9ac56fa360",header:e.heading,headerLink:{text:o.u.i18n.common.learnMore,href:`${s}${l[120003720]}`}}),(0,r.h)("calcite-tile-select-group",{key:"7bbf6b37c67d5afbfc48b4aa0c2874eddc88caa6",layout:"vertical",class:"tile-select"},Object.keys(i).map(((t,l)=>{const{icon:o}=i[t];return(0,r.h)("calcite-tile-select",{disabled:!n&&"store"!==t,key:`${t}-${l}`,checked:this.selected===t,heading:e.options[t].title,description:e.options[t].description,icon:o,name:"tile-layer-create-mode","input-enabled":!0,width:"full",type:"radio",value:t,onCalciteTileSelectChange:e=>{this.selected=e.target.value}})}))))}get el(){return(0,r.a)(this)}};a.style=".tile-select{margin-top:1.25rem}"},95878:(e,i,n)=>{n.d(i,{a:()=>r,u:()=>t});const r=(0,n(37762).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),t=r.state}}]);