Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStaticServeMiddleWares=getStaticServeMiddleWares;var noCacheStaticServe=require("koa-static"),cacheStaticServe=require("koa-static-cache"),mount=require("koa-mount"),path=require("path"),exb_404_1=require("./common/exb-404");function getStaticServeMiddleWares(){var e=global.isDevEdition,t=global.mountPath,a=e?0:72e6,a=e?{maxage:a}:{maxage:a,buffer:!0,dynamic:!0,preload:!0},i=e||!global.commanderOption.enable_file_cache?noCacheStaticServe:cacheStaticServe,r=path.join(__dirname,"../../../client/dist/"),r=[(0,exb_404_1.handle404)({path:path.join(r,"experience/"),urlPath:t+"experience/",mountPath:t}),(0,exb_404_1.handle404)({path:path.join(r,"template/"),urlPath:t+"template/",mountPath:t}),(0,exb_404_1.handle404)({path:path.join(r,"builder/"),urlPath:t+"builder/",mountPath:t}),(0,exb_404_1.handle404)({path:path.join(r,"site/"),urlPath:t+"site/",mountPath:t})];return r.push(mount(t,i(path.join(__dirname,"../../../client/dist/"),a))),e&&r.push(mount("".concat(t,"apps/"),i(path.join(__dirname,"../../../server/public/apps"),a))),r}